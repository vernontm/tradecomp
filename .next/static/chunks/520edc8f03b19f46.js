(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47378,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75254);let r=(0,a.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),i=(0,a.default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),n=(0,a.default)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);var l=e.i(25652);let c=(0,a.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),d=(0,a.default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),o=(0,a.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),x=(0,a.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);function m({collapsed:e,onToggle:s,mobileOpen:a,onMobileClose:m,currentPage:h,onNavigate:u,whopUser:p}){let b=[{id:"getting-started",icon:x,label:"Getting Started"},{id:"dashboard",icon:r,label:"Dashboard"},{id:"leaderboard",icon:i,label:"Leaderboard"},{id:"accounts",icon:n,label:"My Account"}];return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("aside",{className:`fixed top-0 left-0 h-screen bg-sidebar border-r border-white/10 transition-all duration-300 z-50 ${e?"w-20":"w-[280px]"} ${a?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[(0,t.jsx)("button",{onClick:s,className:"hidden md:flex absolute top-6 -right-[15px] w-[30px] h-[30px] bg-primary rounded-full items-center justify-center text-white hover:bg-secondary transition-all hover:scale-110 z-10",children:e?(0,t.jsx)(d,{size:16}):(0,t.jsx)(c,{size:16})}),(0,t.jsx)("button",{onClick:m,className:"md:hidden absolute top-4 right-4 text-white/70 hover:text-white",children:(0,t.jsx)(o,{size:24})}),(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[80px] border-b border-white/10 px-4 relative",children:e?(0,t.jsx)(l.TrendingUp,{className:"text-primary",size:32}):(0,t.jsx)("h1",{className:"text-xl font-bold text-gradient-primary",children:"TRADING COMP"})}),(0,t.jsx)("nav",{className:"flex-1 py-4 overflow-y-auto scrollbar-hide",children:(0,t.jsxs)("div",{className:"mb-8",children:[!e&&(0,t.jsx)("div",{className:"px-4 mb-2",children:(0,t.jsx)("p",{className:"text-xs font-semibold text-white/50 uppercase tracking-wider",children:"Competition"})}),b.map(s=>{let a=s.icon,r=h===s.id;return(0,t.jsxs)("button",{onClick:()=>u(s.id),className:`w-full flex items-center gap-3 px-4 py-3 transition-all border-l-[3px] ${r?"bg-primary/20 text-white border-l-primary":"text-white/70 hover:bg-primary/10 hover:text-white border-l-transparent hover:border-l-primary"} ${e?"justify-center":""}`,children:[(0,t.jsx)(a,{size:20,className:"flex-shrink-0"}),!e&&(0,t.jsx)("span",{className:"whitespace-nowrap",children:s.label})]},s.id)})]})}),(0,t.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,t.jsx)("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl",children:e?(0,t.jsx)("div",{className:"w-8 h-8 rounded-full gradient-primary flex items-center justify-center text-white font-semibold text-sm mx-auto",children:p.name?.[0]?.toUpperCase()||"U"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full gradient-primary flex items-center justify-center text-white font-semibold text-sm",children:p.name?.[0]?.toUpperCase()||"U"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-semibold text-sm leading-tight mb-1 truncate",children:p.name}),(0,t.jsxs)("p",{className:"text-xs text-white/50 leading-tight",children:["@",p.username]})]})]})})})]})]})})}var h=e.i(17927);let u=(0,a.default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),p=(0,a.default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),b=(0,a.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);function g({whopUser:e}){let[a,r]=(0,s.useState)([]),[n,c]=(0,s.useState)(null),[d,o]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null),[g,f]=(0,s.useState)(0),[j,w]=(0,s.useState)(!1),y=a.find(e=>e.id===n)||a[0]||null;(0,s.useEffect)(()=>{N()},[e]),(0,s.useEffect)(()=>{a.length>0&&!n&&c(a[0].id)},[a]);let N=async()=>{if(e)try{let{data:t,error:s}=await h.supabase.from("trading_accounts").select("*").eq("user_id",e.id);if(s)throw s;r(t||[]);let{data:a}=await h.supabase.from("trading_accounts").select("id, user_id, starting_balance, current_balance").gte("starting_balance",100).eq("show_on_leaderboard",!0).order("current_balance",{ascending:!1});if(a){f(a.length);let e=t?.[0];if(e){let t=a.findIndex(t=>t.id===e.id);-1!==t&&m(t+1)}}}catch(e){console.error("Error fetching account data:",e)}finally{o(!1)}};if(d)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),(0,t.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading..."})]})});let v=y&&0!==y.starting_balance?(y.current_balance-y.starting_balance)/y.starting_balance*100:0,k=y?y.current_balance-y.starting_balance:0,_=v>=0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gradient-primary mb-2",children:"Trading Dashboard"}),(0,t.jsxs)("p",{className:"text-white/70",children:["Welcome back, ",e.name,"! Here's an overview of your trading activity."]})]}),a.length>1&&(0,t.jsx)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-4 relative",style:{zIndex:100},children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-white/50 uppercase tracking-wider",children:"Select Account"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>w(!j),className:"flex items-center gap-2 px-4 py-2 bg-white/5 border border-white/10 rounded-lg hover:border-white/30 transition-all",children:[(0,t.jsx)("span",{className:"font-medium",children:y?.account_name||`Account #${y?.account_number}`}),(0,t.jsx)(b,{size:16,className:`transition-transform ${j?"rotate-180":""}`})]}),j&&(0,t.jsx)("div",{className:"absolute right-0 mt-2 w-64 bg-sidebar border border-white/10 rounded-xl shadow-2xl",style:{zIndex:9999},children:a.map(e=>(0,t.jsxs)("button",{onClick:()=>{c(e.id),w(!1)},className:`w-full px-4 py-3 text-left hover:bg-white/5 transition-colors first:rounded-t-xl last:rounded-b-xl ${e.id===n?"bg-primary/20":""}`,children:[(0,t.jsx)("div",{className:"font-medium",children:e.account_name||`Account #${e.account_number}`}),(0,t.jsxs)("div",{className:"text-sm text-white/50",children:[e.currency||"USD"," ",e.current_balance.toFixed(2),!e.show_on_leaderboard&&(0,t.jsx)("span",{className:"ml-2 text-red-400",children:"(Disqualified)"})]})]},e.id))})]})]})}),y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-sm text-white/50 uppercase tracking-wider",children:"Account Type"}),(0,t.jsx)(p,{size:20,className:"text-primary"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"tradelocker"===y.account_type?"TradeLocker":"MT5"})]}),(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-sm text-white/50 uppercase tracking-wider",children:"Current Balance"}),(0,t.jsx)(p,{size:20,className:"text-primary"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:["$",y.current_balance.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-sm text-white/50 uppercase tracking-wider",children:"Total P/L"}),_?(0,t.jsx)(l.TrendingUp,{size:20,className:"text-green-500"}):(0,t.jsx)(u,{size:20,className:"text-red-500"})]}),(0,t.jsxs)("p",{className:`text-2xl font-bold ${_?"text-green-500":"text-red-500"}`,children:[_?"+":"","$",k.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-sm text-white/50 uppercase tracking-wider",children:"% Change"}),_?(0,t.jsx)(l.TrendingUp,{size:20,className:"text-green-500"}):(0,t.jsx)(u,{size:20,className:"text-red-500"})]}),(0,t.jsxs)("p",{className:`text-2xl font-bold ${_?"text-green-500":"text-red-500"}`,children:[_?"+":"",v.toFixed(2),"%"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(i,{className:"text-primary",size:20}),"Competition Status"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-white/70",children:"Your Rank"}),(0,t.jsx)("span",{className:"text-xl font-bold text-primary",children:x?`#${x}`:"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-white/70",children:"Total Participants"}),(0,t.jsx)("span",{className:"text-xl font-bold",children:g})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-white/70",children:"Account Status"}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${y.is_active?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-500"}`,children:y.is_active?"Active":"Inactive"})]})]})]}),(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Account Details"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[(0,t.jsx)("span",{className:"text-white/70",children:"Account Number"}),(0,t.jsx)("span",{className:"font-medium",children:y.account_number})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[(0,t.jsx)("span",{className:"text-white/70",children:"Starting Balance"}),(0,t.jsxs)("span",{className:"font-medium",children:["$",y.starting_balance.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsx)("span",{className:"text-white/70",children:"Last Updated"}),(0,t.jsx)("span",{className:"font-medium",children:new Date(y.last_updated).toLocaleDateString()})]})]})]})]})]}):(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:(0,t.jsx)(l.TrendingUp,{size:32,className:"text-primary"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Trading Account Connected"}),(0,t.jsx)("p",{className:"text-white/70 mb-6",children:"Connect your TradeLocker account to start competing!"})]})]})}let f=(0,a.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function j(){let[e,a]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),[o,x]=(0,s.useState)(""),[m,p]=(0,s.useState)(0);(0,s.useEffect)(()=>{b()},[]),(0,s.useEffect)(()=>{let e=setInterval(()=>{if(c){let e=new Date;p(Math.floor((e.getTime()-c.getTime())/6e4));let t=e.getMinutes(),s=15*Math.ceil(t/15),a=s===t?15:s-t,r=60-e.getSeconds();0===a||15===a&&60===r?x("< 1 min"):x(`${a-1}m ${r}s`)}},1e3);return()=>clearInterval(e)},[c]);let b=async()=>{try{let{data:e,error:t}=await h.supabase.from("leaderboard_view").select("*").order("percentage_change",{ascending:!1});if(t)throw t;let s=e.map((e,t)=>({rank:t+1,username:e.username,account_id:e.id,starting_balance:e.starting_balance,current_balance:e.current_balance,profit:e.current_balance-e.starting_balance,percentage_change:e.percentage_change||(e.current_balance-e.starting_balance)/e.starting_balance*100,is_active:e.is_active,last_updated:e.last_updated}));if(a(s),s.length>0){let e=s.reduce((e,t)=>{let s=new Date(t.last_updated);return s>e?s:e},new Date(0));d(e)}}catch(e){console.error("Error fetching leaderboard:",e)}finally{n(!1)}};return r?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),(0,t.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading leaderboard..."})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(i,{className:"text-primary",size:32}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gradient-primary",children:"Leaderboard"})]}),(0,t.jsx)("p",{className:"text-white/70",children:"Rankings based on percentage gain. Compete with other traders to reach the top!"})]}),c&&(0,t.jsxs)("div",{className:"text-right bg-white/5 border border-white/10 rounded-xl px-4 py-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-white/70 text-sm mb-1",children:[(0,t.jsx)(f,{size:14}),(0,t.jsx)("span",{children:"Last Updated"})]}),(0,t.jsx)("p",{className:"text-white font-medium",children:0===m?"Just now":`${m} min${1===m?"":"s"} ago`}),(0,t.jsxs)("p",{className:"text-xs text-primary mt-1",children:["Next update in ",o]})]})]})}),(0,t.jsx)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-white/5 border-b border-white/10 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white/70 uppercase tracking-wider",children:"Rank"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white/70 uppercase tracking-wider",children:"Trader"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-white/70 uppercase tracking-wider",children:"Starting Balance"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-white/70 uppercase tracking-wider",children:"Current Balance"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-white/70 uppercase tracking-wider",children:"Profit/Loss"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-white/70 uppercase tracking-wider",children:"% Change"}),(0,t.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-white/70 uppercase tracking-wider",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/10",children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-white/50",children:"No participants yet. Be the first to join!"})}):e.map(e=>{var s;let a=e.percentage_change>=0;return(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"text-lg font-bold",children:1===(s=e.rank)?"ðŸ¥‡":2===s?"ðŸ¥ˆ":3===s?"ðŸ¥‰":`#${s}`})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full gradient-primary flex items-center justify-center text-white font-semibold",children:e.username[0].toUpperCase()}),(0,t.jsx)("span",{className:"font-medium",children:e.username})]})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:["$",e.starting_balance.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right font-medium",children:["$",e.current_balance.toFixed(2)]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,t.jsxs)("span",{className:`font-medium ${a?"text-green-500":"text-red-500"}`,children:[a?"+":"","$",e.profit.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[a?(0,t.jsx)(l.TrendingUp,{size:16,className:"text-green-500"}):(0,t.jsx)(u,{size:16,className:"text-red-500"}),(0,t.jsxs)("span",{className:`font-bold ${a?"text-green-500":"text-red-500"}`,children:[a?"+":"",e.percentage_change.toFixed(2),"%"]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,t.jsx)("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${e.is_active?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-500"}`,children:e.is_active?"Active":"Inactive"})})]},e.account_id)})})]})})}),e.length>0&&(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Competition Stats"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-white/50 mb-1",children:"Total Participants"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary",children:e.length})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-white/50 mb-1",children:"Top Performer"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-500",children:["+",e[0]?.percentage_change.toFixed(2),"%"]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-white/50 mb-1",children:"Active Traders"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.filter(e=>e.is_active).length})]})]})]})]})}var w=e.i(63209),y=e.i(69638);let N=(0,a.default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),v=(0,a.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),k=(0,a.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),_=(0,a.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function C({whopUser:e}){let[a,r]=(0,s.useState)(!1),[i,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[x,m]=(0,s.useState)([]),[u,p]=(0,s.useState)("credentials"),[b,g]=(0,s.useState)(null),[f,j]=(0,s.useState)({email:"",password:"",server:""}),[C,S]=(0,s.useState)(null),[z,T]=(0,s.useState)(""),[M,A]=(0,s.useState)(null),[D,L]=(0,s.useState)("");(0,s.useEffect)(()=>{F()},[e]);let F=async()=>{if(e)try{let{data:t,error:s}=await h.supabase.from("trading_accounts").select("*").eq("user_id",e.id);if(s)throw s;l(t||[])}catch(e){console.error("Error fetching accounts:",e)}},$=async e=>{e.preventDefault(),r(!0),g(null);try{let e=await fetch("/api/tradelocker-auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f.email,password:f.password,server:f.server})}),t=await e.json();if(!e.ok)throw Error(t.error||"Authentication failed");let s=await fetch("/api/tradelocker-accounts",{headers:{Authorization:`Bearer ${t.accessToken}`}}),a=await s.json();if(!s.ok)throw Error(a.error||"Failed to fetch accounts");if(0===a.accounts.length)throw Error("No accounts found for these credentials.");d(a.accounts),p("select")}catch(e){g({type:"error",text:e.message||"Failed to fetch accounts. Please check your credentials."})}finally{r(!1)}},q=async()=>{if(0===x.length)return void g({type:"error",text:"Please select at least one account."});r(!0),g(null);try{let t=c.filter(e=>x.includes(e.accountId));for(let s of t){let t=i.find(e=>e.account_number===s.accountId);if(t){let{error:e}=await h.supabase.from("trading_accounts").update({tl_email:f.email,tl_server:f.server,current_balance:s.balance,is_active:!0,last_updated:new Date().toISOString()}).eq("id",t.id);if(e)throw e}else{let{error:t}=await h.supabase.from("trading_accounts").insert({user_id:e.id,account_type:"tradelocker",tl_email:f.email,tl_server:f.server,account_number:s.accountId,account_name:s.name,starting_balance:s.balance,current_balance:s.balance,currency:s.currency,is_active:!0,show_on_leaderboard:!0});if(t)throw t}}g({type:"success",text:`Successfully connected ${t.length} account(s)!`}),F(),p("credentials"),d([]),m([]),j({email:"",password:"",server:""})}catch(e){g({type:"error",text:e.message||"Failed to add accounts. Please try again."})}finally{r(!1)}},E=async e=>{if(confirm("Are you sure you want to remove this account?"))try{let{error:t}=await h.supabase.from("trading_accounts").delete().eq("id",e);if(t)throw t;l(t=>t.filter(t=>t.id!==e)),g({type:"success",text:"Account removed successfully."})}catch(e){g({type:"error",text:"Failed to remove account."})}},U=async t=>{if(t.show_on_leaderboard){if(!confirm("Warning: Removing this account from the competition will disqualify it. Are you sure?"))return;try{let{error:e}=await h.supabase.from("trading_accounts").update({show_on_leaderboard:!1}).eq("id",t.id);if(e)throw e;l(e=>e.map(e=>e.id===t.id?{...e,show_on_leaderboard:!1}:e)),g({type:"success",text:"Account removed from competition."})}catch(e){g({type:"error",text:"Failed to update competition status."})}return}let s=i.find(e=>e.show_on_leaderboard);if(!s||confirm(`You can only have one account in the competition at a time. This will remove "${s.account_name||"Account #"+s.account_number}" from the competition. Continue?`))try{let{error:s}=await h.supabase.from("trading_accounts").update({show_on_leaderboard:!1}).eq("user_id",e.id);if(s)throw s;let{error:a}=await h.supabase.from("trading_accounts").update({show_on_leaderboard:!0}).eq("id",t.id);if(a)throw a;l(e=>e.map(e=>({...e,show_on_leaderboard:e.id===t.id}))),g({type:"success",text:`"${t.account_name||"Account #"+t.account_number}" is now your competition account.`})}catch(e){g({type:"error",text:"Failed to update competition account."})}},I=()=>{S(null),T("")},P=async e=>{try{let{error:t}=await h.supabase.from("trading_accounts").update({account_name:z.trim()||null}).eq("id",e);if(t)throw t;l(t=>t.map(t=>t.id===e?{...t,account_name:z.trim()||void 0}:t)),S(null),T(""),g({type:"success",text:"Nickname updated successfully."})}catch(e){g({type:"error",text:"Failed to update nickname."})}},B=()=>{A(null),L("")},R=async e=>{let t=parseFloat(D)||0;try{let{error:s}=await h.supabase.from("trading_accounts").update({starting_balance:t,current_balance:t}).eq("id",e);if(s)throw s;l(s=>s.map(s=>s.id===e?{...s,starting_balance:t,current_balance:t}:s)),A(null),L(""),g({type:"success",text:"Balance updated successfully."})}catch(e){g({type:"error",text:"Failed to update balance."})}};return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(n,{className:"text-primary",size:32}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gradient-primary",children:"Connect with TradeLocker"})]}),(0,t.jsx)("p",{className:"text-white/70",children:"Connect your TradeLocker account to participate in the trading competition."})]}),b&&(0,t.jsxs)("div",{className:`p-4 rounded-xl border flex items-center gap-3 ${"success"===b.type?"bg-green-500/10 border-green-500 text-green-500":"bg-red-500/10 border-red-500 text-red-500"}`,children:["success"===b.type?(0,t.jsx)(y.CheckCircle,{size:20}):(0,t.jsx)(w.AlertCircle,{size:20}),(0,t.jsx)("span",{children:b.text})]}),i.length>0&&(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(n,{size:20,className:"text-primary"}),"Linked Accounts (",i.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,t.jsx)("div",{className:`p-4 border rounded-xl ${e.show_on_leaderboard?"bg-white/5 border-white/10":"bg-red-500/5 border-red-500/20"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[C===e.id?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:z,onChange:e=>T(e.target.value),placeholder:"Enter nickname",className:"flex-1 px-3 py-1 bg-white/10 border border-white/20 rounded-lg text-white text-sm focus:outline-none focus:border-primary",autoFocus:!0,onKeyDown:t=>{"Enter"===t.key&&P(e.id),"Escape"===t.key&&I()}}),(0,t.jsx)("button",{onClick:()=>P(e.id),className:"p-1 text-green-400 hover:bg-green-500/20 rounded",children:(0,t.jsx)(_,{size:16})}),(0,t.jsx)("button",{onClick:I,className:"p-1 text-red-400 hover:bg-red-500/20 rounded",children:(0,t.jsx)(o,{size:16})})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-semibold text-white truncate",children:e.account_name||"TradeLocker Account"}),(0,t.jsx)("button",{onClick:()=>{S(e.id),T(e.account_name||"")},className:"p-1 text-white/50 hover:text-white hover:bg-white/10 rounded",title:"Edit nickname",children:(0,t.jsx)(k,{size:14})}),e.is_active&&e.show_on_leaderboard&&(0,t.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded",children:"Active"}),!e.show_on_leaderboard&&(0,t.jsx)("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5 rounded",children:"Disqualified"})]}),(0,t.jsxs)("p",{className:"text-sm text-white/70 mt-1 font-mono",children:["Account #: ",e.account_number]}),(0,t.jsxs)("p",{className:"text-xs text-white/50 mt-1",children:[e.tl_email," â€¢ ",e.tl_server]}),(0,t.jsxs)("p",{className:"text-xs text-white/40 mt-1",children:["Last updated:"," ",new Date(e.last_updated).toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"text-right",children:M===e.id?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-white/50 text-sm",children:e.currency||"USD"}),(0,t.jsx)("input",{type:"number",value:D,onChange:e=>L(e.target.value),placeholder:"0.00",step:"0.01",className:"w-24 px-2 py-1 bg-white/10 border border-white/20 rounded text-white text-sm text-right focus:outline-none focus:border-primary",autoFocus:!0,onKeyDown:t=>{"Enter"===t.key&&R(e.id),"Escape"===t.key&&B()}}),(0,t.jsx)("button",{onClick:()=>R(e.id),className:"p-1 text-green-400 hover:bg-green-500/20 rounded",children:(0,t.jsx)(_,{size:14})}),(0,t.jsx)("button",{onClick:B,className:"p-1 text-red-400 hover:bg-red-500/20 rounded",children:(0,t.jsx)(o,{size:14})})]}):(0,t.jsxs)("div",{className:"cursor-pointer hover:bg-white/5 rounded px-2 py-1 -mr-2",onClick:()=>{A(e.id),L(e.starting_balance?.toString()||"0")},title:"Click to edit balance",children:[(0,t.jsxs)("p",{className:"text-lg font-bold text-white",children:[e.currency||"USD"," ",(e.current_balance||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,t.jsxs)("p",{className:"text-xs text-white/50",children:["Started:"," ",(e.starting_balance||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),(0,t.jsx)("button",{onClick:()=>U(e),className:`px-3 py-1.5 rounded-lg transition-colors text-sm font-medium ${e.show_on_leaderboard?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-white/5 text-white/50 border border-white/10 hover:border-white/30"}`,title:e.show_on_leaderboard?"This is your competition account":"Select for competition",children:e.show_on_leaderboard?"âœ“ In Competition":"Select"}),(0,t.jsx)("button",{onClick:()=>E(e.id),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Remove account",children:(0,t.jsx)(v,{size:18})})]})]})},e.id))})]}),"credentials"===u?(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2",children:[(0,t.jsx)(n,{size:20,className:"text-primary"}),"Account Credentials"]}),(0,t.jsxs)("form",{onSubmit:$,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2 uppercase tracking-wider",children:"Email Address"}),(0,t.jsx)("input",{type:"email",value:f.email,onChange:e=>j({...f,email:e.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/25 transition-all",placeholder:"Enter your TradeLocker email",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2 uppercase tracking-wider",children:"Password"}),(0,t.jsx)("input",{type:"password",value:f.password,onChange:e=>j({...f,password:e.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/25 transition-all",placeholder:"Enter your password",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2 uppercase tracking-wider",children:"Server"}),(0,t.jsx)("input",{type:"text",value:f.server,onChange:e=>j({...f,server:e.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/25 transition-all",placeholder:"Enter your TradeLocker server",required:!0})]}),(0,t.jsxs)("button",{type:"submit",disabled:a,className:"w-full py-3 gradient-primary text-white font-medium rounded-lg hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(n,{size:20}),a?"Fetching Accounts...":"Fetch Accounts"]})]})]}):(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(n,{size:20,className:"text-primary"}),"Select Accounts to Add"]}),(0,t.jsxs)("button",{onClick:()=>{p("credentials"),d([]),m([]),g(null)},className:"text-white/70 hover:text-white flex items-center gap-1 text-sm",children:[(0,t.jsx)(N,{size:16}),"Back"]})]}),(0,t.jsx)("div",{className:"space-y-3 mb-6",children:c.map(e=>{let s=x.includes(e.accountId),a=i.some(t=>t.account_number===e.accountId);return(0,t.jsxs)("div",{onClick:()=>{var t;return t=e.accountId,void m(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:`p-4 rounded-xl border cursor-pointer transition-all ${s?"bg-primary/20 border-primary":"bg-white/5 border-white/10 hover:border-white/30"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-semibold text-white",children:e.name}),a&&(0,t.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded",children:"Already Linked"})]}),(0,t.jsxs)("p",{className:"text-sm text-white/50 mt-1",children:["Account #",e.accNum||e.accountId]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-lg font-bold text-white",children:[e.currency," ",e.balance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,t.jsx)("p",{className:"text-sm text-white/50",children:"Balance"})]})]}),(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/50",children:"Equity"}),(0,t.jsx)("p",{className:"text-white",children:e.equity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/50",children:"Margin"}),(0,t.jsx)("p",{className:"text-white",children:e.margin.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/50",children:"Free Margin"}),(0,t.jsx)("p",{className:"text-white",children:e.freeMargin.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]})]})]},e.accountId)})}),(0,t.jsxs)("button",{onClick:q,disabled:a||0===x.length,className:"w-full py-3 gradient-primary text-white font-medium rounded-lg hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(y.CheckCircle,{size:20}),a?"Adding Accounts...":`Add ${x.length} Selected Account(s)`]})]}),(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"How to Enter Trading Competition"}),(0,t.jsxs)("ol",{className:"space-y-3 text-white/70",children:[(0,t.jsxs)("li",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/20 text-primary flex items-center justify-center text-sm font-bold",children:"1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-white",children:"Sign up for the broker"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Register an account using the referral link to ensure all traders have the same market environment."})]})]}),(0,t.jsxs)("li",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/20 text-primary flex items-center justify-center text-sm font-bold",children:"2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-white",children:"Create Live account"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Choose to create a Live account with TradeLocker platform."})]})]}),(0,t.jsxs)("li",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/20 text-primary flex items-center justify-center text-sm font-bold",children:"3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-white",children:"Fund the account"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Deposit a MINIMUM of $100 to participate in the competition."})]})]}),(0,t.jsxs)("li",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/20 text-primary flex items-center justify-center text-sm font-bold",children:"4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-white",children:"Enter your account info"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Fill in the form above with your TradeLocker credentials."})]})]}),(0,t.jsxs)("li",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/20 text-primary flex items-center justify-center text-sm font-bold",children:"5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-white",children:"Start trading!"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"The trader with the highest % gain will win the competition."})]})]})]})]})]})}let S=(0,a.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),z=(0,a.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function T({whopUser:e}){let[a,r]=(0,s.useState)(null),[i,n]=(0,s.useState)(!0);(0,s.useEffect)(()=>{l()},[]);let l=async()=>{try{let{data:e,error:t}=await h.supabase.from("competition_settings").select("*").single();if(t)throw t;r(e)}catch(e){console.error("Error fetching settings:",e)}finally{n(!1)}},c=[{number:1,title:"Sign up for the broker",description:"Register an account using the referral link below to ensure all traders have the same market environment.",action:a?.referral_link?(0,t.jsxs)("a",{href:a.referral_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 gradient-primary text-white rounded-lg hover:opacity-90 transition-all",children:[(0,t.jsx)(S,{size:16}),"Open Broker Registration"]}):null},{number:2,title:"Create Live account",description:"After registration, choose to create a Live account with TradeLocker as your trading platform."},{number:3,title:"Fund the account",description:"Deposit a MINIMUM of $100 to participate in the competition. The more you deposit, the more potential profit!"},{number:4,title:"Connect your account",description:'Go to the "My Account" section and enter your TradeLocker credentials to link your trading account.'},{number:5,title:"Start trading!",description:"Your balance will be tracked automatically. The trader with the highest percentage gain wins!"}];return i?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),(0,t.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading..."})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(x,{className:"text-primary",size:32}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gradient-primary",children:"Getting Started"})]}),(0,t.jsxs)("p",{className:"text-white/70",children:["Welcome, ",e.name,"! Follow these steps to join the trading competition."]})]}),a&&(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(z,{className:"text-primary",size:24}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Competition Period"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm text-white/50 mb-1",children:"Start Date"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:new Date(a.start_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm text-white/50 mb-1",children:"End Date"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:new Date(a.end_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]}),(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"How to Enter"}),(0,t.jsx)("div",{className:"space-y-6",children:c.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/20 text-primary flex items-center justify-center font-bold",children:e.number}),s<c.length-1&&(0,t.jsx)("div",{className:"w-0.5 h-full bg-white/10 mx-auto mt-2"})]}),(0,t.jsxs)("div",{className:"flex-1 pb-6",children:[(0,t.jsx)("h4",{className:"font-semibold text-white mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-white/70 text-sm mb-3",children:e.description}),e.action]})]},e.number))})]}),(0,t.jsxs)("div",{className:"bg-sidebar/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Competition Rules"}),(0,t.jsxs)("ul",{className:"space-y-3",children:[(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(y.CheckCircle,{size:20,className:"text-green-500 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-white/70",children:"Minimum starting balance of $100 required to participate"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(y.CheckCircle,{size:20,className:"text-green-500 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-white/70",children:"Rankings are based on percentage gain, not absolute profit"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(y.CheckCircle,{size:20,className:"text-green-500 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-white/70",children:"Balances are automatically updated every 15 minutes"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(y.CheckCircle,{size:20,className:"text-green-500 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-white/70",children:"Only one account per user can be entered in the competition"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(y.CheckCircle,{size:20,className:"text-green-500 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-white/70",children:"Deposits/withdrawals during competition may affect your standing"})]})]})]})]})}function M({whopUser:e,experienceId:a}){let[r,i]=(0,s.useState)("getting-started"),[n,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"min-h-screen bg-dark",children:[c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>d(!1)}),(0,t.jsx)(m,{collapsed:n,onToggle:()=>l(!n),mobileOpen:c,onMobileClose:()=>d(!1),currentPage:r,onNavigate:i,whopUser:e}),(0,t.jsx)("main",{className:`transition-all duration-300 min-h-screen ${n?"md:ml-20":"md:ml-[280px]"}`,children:(0,t.jsx)("div",{className:"p-4 md:p-8",children:(()=>{switch(r){case"getting-started":default:return(0,t.jsx)(T,{whopUser:e});case"dashboard":return(0,t.jsx)(g,{whopUser:e});case"leaderboard":return(0,t.jsx)(j,{});case"accounts":return(0,t.jsx)(C,{whopUser:e})}})()})}),(0,t.jsx)("button",{className:"md:hidden fixed top-4 left-4 z-50 bg-primary text-white p-3 rounded-lg shadow-lg",onClick:()=>d(!0),children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}e.s(["default",()=>M],47378)}]);