{"version":3,"sources":["../../../../node_modules/next/src/server/web/spec-extension/cookies.ts","../../../../node_modules/next/src/server/web/spec-extension/adapters/reflect.ts","../../../../node_modules/next/src/shared/lib/action-revalidation-kind.ts","../../../../node_modules/next/src/server/web/spec-extension/adapters/request-cookies.ts","../../../../node_modules/next/src/client/components/hooks-server-context.ts","../../../../node_modules/next/src/client/components/static-generation-bailout.ts","../../../../node_modules/next/src/server/dynamic-rendering-utils.ts","../../../../node_modules/next/src/lib/framework/boundary-constants.tsx","../../../../node_modules/next/src/lib/scheduler.ts","../../../../node_modules/next/src/shared/lib/lazy-dynamic/bailout-to-csr.ts","../../../../node_modules/next/src/shared/lib/invariant-error.ts","../../../../node_modules/next/src/server/app-render/dynamic-rendering.ts","../../../../node_modules/next/src/server/create-deduped-by-callsite-server-error-logger.ts","../../../../node_modules/next/src/server/request/utils.ts","../../../../node_modules/next/src/shared/lib/promise-with-resolvers.ts","../../../../node_modules/next/src/server/app-render/staged-rendering.ts","../../../../node_modules/next/src/server/request/cookies.ts","../../../../node_modules/next/src/server/web/spec-extension/adapters/headers.ts","../../../../node_modules/next/src/server/request/headers.ts","../../../../node_modules/next/src/server/request/draft-mode.ts","../../../../node_modules/next/headers.js","../../../../node_modules/standardwebhooks/src/timing_safe_equal.ts","../../../../node_modules/%40stablelib/base64/base64.ts","../../../../node_modules/fast-sha256/sha256.js","../../../../node_modules/standardwebhooks/src/index.ts","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/invalid_key_input.js","../../../../node_modules/%40whop/sdk/internal/tslib.mjs","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/is_object.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/crypto_key.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/validate_algorithms.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/base64.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/util/errors.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/check_key_length.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/buffer_utils.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/is_disjoint.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/is_key_like.js","../../../../node_modules/%40whop/sdk/src/version.ts","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/jwk_to_key.js","../../../../node_modules/%40whop/sdk/src/lib/verify-user-token.ts","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/is_jwk.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/validate_crit.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/subtle_dsa.js","../../../../node_modules/%40whop/sdk/src/internal/shims.ts","../../../../node_modules/%40whop/sdk/src/internal/request-options.ts","../../../../node_modules/%40whop/sdk/src/internal/qs/stringify.ts","../../../../node_modules/%40whop/sdk/src/internal/qs/formats.ts","../../../../node_modules/%40whop/sdk/src/internal/utils/sleep.ts","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/get_sign_verify_key.js","../../../../lib/whop-sdk.ts","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/util/base64url.js","../../../../node_modules/%40whop/sdk/src/internal/errors.ts","../../../../node_modules/%40whop/sdk/src/internal/uploads.ts","../../../../node_modules/%40whop/sdk/src/internal/parse.ts","../../../../node_modules/%40whop/sdk/src/internal/headers.ts","../../../../node_modules/%40whop/sdk/src/internal/qs/utils.ts","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/check_key_type.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/jwt_claims_set.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/verify.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/jws/compact/verify.js","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/jwt/verify.js","../../../../node_modules/%40whop/sdk/src/internal/utils/values.ts","../../../../node_modules/%40whop/sdk/src/resources/ledger-accounts.ts","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/lib/normalize_key.js","../../../../node_modules/%40whop/sdk/src/resources/webhooks.ts","../../../../node_modules/%40whop/sdk/src/internal/to-file.ts","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/key/import.js","../../../../node_modules/%40whop/sdk/src/core/error.ts","../../../../node_modules/%40whop/sdk/src/internal/utils/uuid.ts","../../../../node_modules/%40whop/sdk/src/index.ts","../../../../node_modules/%40whop/sdk/src/core/pagination.ts","../../../../node_modules/%40whop/sdk/src/resources/users.ts","../../../../node_modules/%40whop/sdk/src/internal/utils/path.ts","../../../../node_modules/%40whop/sdk/src/internal/utils/log.ts","../../../../node_modules/%40whop/sdk/src/resources/reviews.ts","../../../../node_modules/%40whop/sdk/src/core/api-promise.ts","../../../../node_modules/%40whop/sdk/node_modules/jose/dist/webapi/jws/flattened/verify.js","../../../../node_modules/%40whop/sdk/src/internal/utils/env.ts","../../../../node_modules/%40whop/sdk/src/resources/authorized-users.ts","../../../../node_modules/%40whop/sdk/src/resources/index.ts","../../../../node_modules/%40whop/sdk/src/resources/entries.ts","../../../../node_modules/%40whop/sdk/src/resources/course-lesson-interactions.ts","../../../../node_modules/%40whop/sdk/src/client.ts","../../../../node_modules/%40whop/sdk/src/resources/forums.ts","../../../../node_modules/%40whop/sdk/src/resources/companies.ts","../../../../node_modules/%40whop/sdk/src/resources/messages.ts","../../../../node_modules/%40whop/sdk/src/resources/reactions.ts","../../../../node_modules/%40whop/sdk/src/resources/memberships.ts","../../../../node_modules/%40whop/sdk/src/internal/detect-platform.ts","../../../../node_modules/%40whop/sdk/src/resources/members.ts","../../../../node_modules/%40whop/sdk/src/resources/experiences.ts","../../../../node_modules/%40whop/sdk/src/resources/chat-channels.ts","../../../../node_modules/%40whop/sdk/src/resources/course-chapters.ts","../../../../node_modules/%40whop/sdk/src/resources/forum-posts.ts","../../../../node_modules/%40whop/sdk/src/resources/course-lessons.ts","../../../../node_modules/%40whop/sdk/src/resources/courses.ts","../../../../node_modules/%40whop/sdk/src/resources/apps.ts","../../../../node_modules/%40whop/sdk/src/resources/products.ts","../../../../node_modules/%40whop/sdk/src/resources/app-builds.ts","../../../../node_modules/%40whop/sdk/src/resources/checkout-configurations.ts","../../../../node_modules/%40whop/sdk/src/resources/support-channels.ts","../../../../node_modules/%40whop/sdk/src/resources/invoices.ts","../../../../node_modules/%40whop/sdk/src/resources/plans.ts","../../../../node_modules/%40whop/sdk/src/resources/transfers.ts","../../../../node_modules/%40whop/sdk/src/resources/shipments.ts","../../../../node_modules/%40whop/sdk/src/resources/payments.ts","../../../../node_modules/%40whop/sdk/src/resources/promo-codes.ts"],"sourcesContent":["export {\n  RequestCookies,\n  ResponseCookies,\n  stringifyCookie,\n} from 'next/dist/compiled/@edge-runtime/cookies'\n","export class ReflectAdapter {\n  static get<T extends object>(\n    target: T,\n    prop: string | symbol,\n    receiver: unknown\n  ): any {\n    const value = Reflect.get(target, prop, receiver)\n    if (typeof value === 'function') {\n      return value.bind(target)\n    }\n\n    return value\n  }\n\n  static set<T extends object>(\n    target: T,\n    prop: string | symbol,\n    value: any,\n    receiver: any\n  ): boolean {\n    return Reflect.set(target, prop, value, receiver)\n  }\n\n  static has<T extends object>(target: T, prop: string | symbol): boolean {\n    return Reflect.has(target, prop)\n  }\n\n  static deleteProperty<T extends object>(\n    target: T,\n    prop: string | symbol\n  ): boolean {\n    return Reflect.deleteProperty(target, prop)\n  }\n}\n","export type ActionRevalidationKind = 0 | 1 | 2\n\nexport const ActionDidNotRevalidate = 0\nexport const ActionDidRevalidateStaticAndDynamic = 1\nexport const ActionDidRevalidateDynamicOnly = 2\n","import { RequestCookies } from '../cookies'\n\nimport { ResponseCookies } from '../cookies'\nimport { ReflectAdapter } from './reflect'\nimport { workAsyncStorage } from '../../../app-render/work-async-storage.external'\nimport type { RequestStore } from '../../../app-render/work-unit-async-storage.external'\nimport { ActionDidRevalidateStaticAndDynamic } from '../../../../shared/lib/action-revalidation-kind'\n\n/**\n * @internal\n */\nexport class ReadonlyRequestCookiesError extends Error {\n  constructor() {\n    super(\n      'Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\n// We use this to type some APIs but we don't construct instances directly\nexport type { ResponseCookies }\n\n// The `cookies()` API is a mix of request and response cookies. For `.get()` methods,\n// we want to return the request cookie if it exists. For mutative methods like `.set()`,\n// we want to return the response cookie.\nexport type ReadonlyRequestCookies = Omit<\n  RequestCookies,\n  'set' | 'clear' | 'delete'\n> &\n  Pick<ResponseCookies, 'set' | 'delete'>\n\nexport class RequestCookiesAdapter {\n  public static seal(cookies: RequestCookies): ReadonlyRequestCookies {\n    return new Proxy(cookies as any, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'clear':\n          case 'delete':\n          case 'set':\n            return ReadonlyRequestCookiesError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n}\n\nconst SYMBOL_MODIFY_COOKIE_VALUES = Symbol.for('next.mutated.cookies')\n\nexport function getModifiedCookieValues(\n  cookies: ResponseCookies\n): ResponseCookie[] {\n  const modified: ResponseCookie[] | undefined = (cookies as unknown as any)[\n    SYMBOL_MODIFY_COOKIE_VALUES\n  ]\n  if (!modified || !Array.isArray(modified) || modified.length === 0) {\n    return []\n  }\n\n  return modified\n}\n\ntype SetCookieArgs =\n  | [key: string, value: string, cookie?: Partial<ResponseCookie>]\n  | [options: ResponseCookie]\n\nexport function appendMutableCookies(\n  headers: Headers,\n  mutableCookies: ResponseCookies\n): boolean {\n  const modifiedCookieValues = getModifiedCookieValues(mutableCookies)\n  if (modifiedCookieValues.length === 0) {\n    return false\n  }\n\n  // Return a new response that extends the response with\n  // the modified cookies as fallbacks. `res` cookies\n  // will still take precedence.\n  const resCookies = new ResponseCookies(headers)\n  const returnedCookies = resCookies.getAll()\n\n  // Set the modified cookies as fallbacks.\n  for (const cookie of modifiedCookieValues) {\n    resCookies.set(cookie)\n  }\n\n  // Set the original cookies as the final values.\n  for (const cookie of returnedCookies) {\n    resCookies.set(cookie)\n  }\n\n  return true\n}\n\ntype ResponseCookie = NonNullable<\n  ReturnType<InstanceType<typeof ResponseCookies>['get']>\n>\n\nexport class MutableRequestCookiesAdapter {\n  public static wrap(\n    cookies: RequestCookies,\n    onUpdateCookies?: (cookies: string[]) => void\n  ): ResponseCookies {\n    const responseCookies = new ResponseCookies(new Headers())\n    for (const cookie of cookies.getAll()) {\n      responseCookies.set(cookie)\n    }\n\n    let modifiedValues: ResponseCookie[] = []\n    const modifiedCookies = new Set<string>()\n    const updateResponseCookies = () => {\n      // TODO-APP: change method of getting workStore\n      const workStore = workAsyncStorage.getStore()\n      if (workStore) {\n        workStore.pathWasRevalidated = ActionDidRevalidateStaticAndDynamic\n      }\n\n      const allCookies = responseCookies.getAll()\n      modifiedValues = allCookies.filter((c) => modifiedCookies.has(c.name))\n      if (onUpdateCookies) {\n        const serializedCookies: string[] = []\n        for (const cookie of modifiedValues) {\n          const tempCookies = new ResponseCookies(new Headers())\n          tempCookies.set(cookie)\n          serializedCookies.push(tempCookies.toString())\n        }\n\n        onUpdateCookies(serializedCookies)\n      }\n    }\n\n    const wrappedCookies = new Proxy(responseCookies, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          // A special symbol to get the modified cookie values\n          case SYMBOL_MODIFY_COOKIE_VALUES:\n            return modifiedValues\n\n          // TODO: Throw error if trying to set a cookie after the response\n          // headers have been set.\n          case 'delete':\n            return function (...args: [string] | [ResponseCookie]) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.delete(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n          case 'set':\n            return function (...args: SetCookieArgs) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.set(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n\n    return wrappedCookies\n  }\n}\n\nexport function createCookiesWithMutableAccessCheck(\n  requestStore: RequestStore\n): ResponseCookies {\n  const wrappedCookies = new Proxy(requestStore.mutableCookies, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'delete':\n          return function (...args: [string] | [ResponseCookie]) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().delete')\n            target.delete(...args)\n            return wrappedCookies\n          }\n        case 'set':\n          return function (...args: SetCookieArgs) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().set')\n            target.set(...args)\n            return wrappedCookies\n          }\n\n        default:\n          return ReflectAdapter.get(target, prop, receiver)\n      }\n    },\n  })\n  return wrappedCookies\n}\n\nexport function areCookiesMutableInCurrentPhase(requestStore: RequestStore) {\n  return requestStore.phase === 'action'\n}\n\n/** Ensure that cookies() starts throwing on mutation\n * if we changed phases and can no longer mutate.\n *\n * This can happen when going:\n *   'render' -> 'after'\n *   'action' -> 'render'\n * */\nfunction ensureCookiesAreStillMutable(\n  requestStore: RequestStore,\n  _callingExpression: string\n) {\n  if (!areCookiesMutableInCurrentPhase(requestStore)) {\n    // TODO: maybe we can give a more precise error message based on callingExpression?\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\nexport function responseCookiesToRequestCookies(\n  responseCookies: ResponseCookies\n): RequestCookies {\n  const requestCookies = new RequestCookies(new Headers())\n  for (const cookie of responseCookies.getAll()) {\n    requestCookies.set(cookie)\n  }\n  return requestCookies\n}\n","const DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE'\n\nexport class DynamicServerError extends Error {\n  digest: typeof DYNAMIC_ERROR_CODE = DYNAMIC_ERROR_CODE\n\n  constructor(public readonly description: string) {\n    super(`Dynamic server usage: ${description}`)\n  }\n}\n\nexport function isDynamicServerError(err: unknown): err is DynamicServerError {\n  if (\n    typeof err !== 'object' ||\n    err === null ||\n    !('digest' in err) ||\n    typeof err.digest !== 'string'\n  ) {\n    return false\n  }\n\n  return err.digest === DYNAMIC_ERROR_CODE\n}\n","const NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT'\n\nexport class StaticGenBailoutError extends Error {\n  public readonly code = NEXT_STATIC_GEN_BAILOUT\n}\n\nexport function isStaticGenBailoutError(\n  error: unknown\n): error is StaticGenBailoutError {\n  if (typeof error !== 'object' || error === null || !('code' in error)) {\n    return false\n  }\n\n  return error.code === NEXT_STATIC_GEN_BAILOUT\n}\n","import type { NonStaticRenderStage } from './app-render/staged-rendering'\nimport type { RequestStore } from './app-render/work-unit-async-storage.external'\n\nexport function isHangingPromiseRejectionError(\n  err: unknown\n): err is HangingPromiseRejectionError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === HANGING_PROMISE_REJECTION\n}\n\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION'\n\nclass HangingPromiseRejectionError extends Error {\n  public readonly digest = HANGING_PROMISE_REJECTION\n\n  constructor(\n    public readonly route: string,\n    public readonly expression: string\n  ) {\n    super(\n      `During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route \"${route}\".`\n    )\n  }\n}\n\ntype AbortListeners = Array<(err: unknown) => void>\nconst abortListenersBySignal = new WeakMap<AbortSignal, AbortListeners>()\n\n/**\n * This function constructs a promise that will never resolve. This is primarily\n * useful for cacheComponents where we use promise resolution timing to determine which\n * parts of a render can be included in a prerender.\n *\n * @internal\n */\nexport function makeHangingPromise<T>(\n  signal: AbortSignal,\n  route: string,\n  expression: string\n): Promise<T> {\n  if (signal.aborted) {\n    return Promise.reject(new HangingPromiseRejectionError(route, expression))\n  } else {\n    const hangingPromise = new Promise<T>((_, reject) => {\n      const boundRejection = reject.bind(\n        null,\n        new HangingPromiseRejectionError(route, expression)\n      )\n      let currentListeners = abortListenersBySignal.get(signal)\n      if (currentListeners) {\n        currentListeners.push(boundRejection)\n      } else {\n        const listeners = [boundRejection]\n        abortListenersBySignal.set(signal, listeners)\n        signal.addEventListener(\n          'abort',\n          () => {\n            for (let i = 0; i < listeners.length; i++) {\n              listeners[i]()\n            }\n          },\n          { once: true }\n        )\n      }\n    })\n    // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n    // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n    // your own promise out of it you'll need to ensure you handle the error when it rejects.\n    hangingPromise.catch(ignoreReject)\n    return hangingPromise\n  }\n}\n\nfunction ignoreReject() {}\n\nexport function makeDevtoolsIOAwarePromise<T>(\n  underlying: T,\n  requestStore: RequestStore,\n  stage: NonStaticRenderStage\n): Promise<T> {\n  if (requestStore.stagedRendering) {\n    // We resolve each stage in a timeout, so React DevTools will pick this up as IO.\n    return requestStore.stagedRendering.delayUntilStage(\n      stage,\n      undefined,\n      underlying\n    )\n  }\n  // in React DevTools if we resolve in a setTimeout we will observe\n  // the promise resolution as something that can suspend a boundary or root.\n  return new Promise<T>((resolve) => {\n    // Must use setTimeout to be considered IO React DevTools. setImmediate will not work.\n    setTimeout(() => {\n      resolve(underlying)\n    }, 0)\n  })\n}\n","export const METADATA_BOUNDARY_NAME = '__next_metadata_boundary__'\nexport const VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__'\nexport const OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__'\nexport const ROOT_LAYOUT_BOUNDARY_NAME = '__next_root_layout_boundary__'\n","export type ScheduledFn<T = void> = () => T | PromiseLike<T>\nexport type SchedulerFn<T = void> = (cb: ScheduledFn<T>) => void\n\n/**\n * Schedules a function to be called on the next tick after the other promises\n * have been resolved.\n *\n * @param cb the function to schedule\n */\nexport const scheduleOnNextTick = (cb: ScheduledFn<void>) => {\n  // We use Promise.resolve().then() here so that the operation is scheduled at\n  // the end of the promise job queue, we then add it to the next process tick\n  // to ensure it's evaluated afterwards.\n  //\n  // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n  //\n  Promise.resolve().then(() => {\n    if (process.env.NEXT_RUNTIME === 'edge') {\n      setTimeout(cb, 0)\n    } else {\n      process.nextTick(cb)\n    }\n  })\n}\n\n/**\n * Schedules a function to be called using `setImmediate` or `setTimeout` if\n * `setImmediate` is not available (like in the Edge runtime).\n *\n * @param cb the function to schedule\n */\nexport const scheduleImmediate = (cb: ScheduledFn<void>): void => {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    setTimeout(cb, 0)\n  } else {\n    setImmediate(cb)\n  }\n}\n\n/**\n * returns a promise than resolves in a future task. There is no guarantee that the task it resolves in\n * will be the next task but if you await it you can at least be sure that the current task is over and\n * most usefully that the entire microtask queue of the current task has been emptied.\n */\nexport function atLeastOneTask() {\n  return new Promise<void>((resolve) => scheduleImmediate(resolve))\n}\n\n/**\n * This utility function is extracted to make it easier to find places where we are doing\n * specific timing tricks to try to schedule work after React has rendered. This is especially\n * important at the moment because Next.js uses the edge builds of React which use setTimeout to\n * schedule work when you might expect that something like setImmediate would do the trick.\n *\n * Long term we should switch to the node versions of React rendering when possible and then\n * update this to use setImmediate rather than setTimeout\n */\nexport function waitAtLeastOneReactRenderTask(): Promise<void> {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    return new Promise((r) => setTimeout(r, 0))\n  } else {\n    return new Promise((r) => setImmediate(r))\n  }\n}\n","// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n","export class InvariantError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(\n      `Invariant: ${message.endsWith('.') ? message : message + '.'} This is a bug in Next.js.`,\n      options\n    )\n    this.name = 'InvariantError'\n  }\n}\n","/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */\n\nimport type { WorkStore } from '../app-render/work-async-storage.external'\nimport type {\n  WorkUnitStore,\n  PrerenderStoreLegacy,\n  PrerenderStoreModern,\n  PrerenderStoreModernRuntime,\n} from '../app-render/work-unit-async-storage.external'\n\n// Once postpone is in stable we should switch to importing the postpone export directly\nimport React from 'react'\n\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  getRuntimeStagePromise,\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n} from './work-unit-async-storage.external'\nimport { workAsyncStorage } from '../app-render/work-async-storage.external'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n  OUTLET_BOUNDARY_NAME,\n  ROOT_LAYOUT_BOUNDARY_NAME,\n} from '../../lib/framework/boundary-constants'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\nimport { BailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\nconst hasPostpone = typeof React.unstable_postpone === 'function'\n\nexport type DynamicAccess = {\n  /**\n   * If debugging, this will contain the stack trace of where the dynamic access\n   * occurred. This is used to provide more information to the user about why\n   * their page is being rendered dynamically.\n   */\n  stack?: string\n\n  /**\n   * The expression that was accessed dynamically.\n   */\n  expression: string\n}\n\n// Stores dynamic reasons used during an RSC render.\nexport type DynamicTrackingState = {\n  /**\n   * When true, stack information will also be tracked during dynamic access.\n   */\n  readonly isDebugDynamicAccesses: boolean | undefined\n\n  /**\n   * The dynamic accesses that occurred during the render.\n   */\n  readonly dynamicAccesses: Array<DynamicAccess>\n\n  syncDynamicErrorWithStack: null | Error\n}\n\n// Stores dynamic reasons used during an SSR render.\nexport type DynamicValidationState = {\n  hasSuspenseAboveBody: boolean\n  hasDynamicMetadata: boolean\n  dynamicMetadata: null | Error\n  hasDynamicViewport: boolean\n  hasAllowedDynamic: boolean\n  dynamicErrors: Array<Error>\n}\n\nexport function createDynamicTrackingState(\n  isDebugDynamicAccesses: boolean | undefined\n): DynamicTrackingState {\n  return {\n    isDebugDynamicAccesses,\n    dynamicAccesses: [],\n    syncDynamicErrorWithStack: null,\n  }\n}\n\nexport function createDynamicValidationState(): DynamicValidationState {\n  return {\n    hasSuspenseAboveBody: false,\n    hasDynamicMetadata: false,\n    dynamicMetadata: null,\n    hasDynamicViewport: false,\n    hasAllowedDynamic: false,\n    dynamicErrors: [],\n  }\n}\n\nexport function getFirstDynamicReason(\n  trackingState: DynamicTrackingState\n): undefined | string {\n  return trackingState.dynamicAccesses[0]?.expression\n}\n\n/**\n * This function communicates that the current scope should be treated as dynamic.\n *\n * In most cases this function is a no-op but if called during\n * a PPR prerender it will postpone the current sub-tree and calling\n * it during a normal prerender will cause the entire prerender to abort\n */\nexport function markCurrentScopeAsDynamic(\n  store: WorkStore,\n  workUnitStore: undefined | Exclude<WorkUnitStore, PrerenderStoreModern>,\n  expression: string\n): void {\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'cache':\n      case 'unstable-cache':\n        // Inside cache scopes, marking a scope as dynamic has no effect,\n        // because the outer cache scope creates a cache boundary. This is\n        // subtly different from reading a dynamic data source, which is\n        // forbidden inside a cache scope.\n        return\n      case 'private-cache':\n        // A private cache scope is already dynamic by definition.\n        return\n      case 'prerender-legacy':\n      case 'prerender-ppr':\n      case 'request':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // If we're forcing dynamic rendering or we're forcing static rendering, we\n  // don't need to do anything here because the entire page is already dynamic\n  // or it's static and it should not throw or postpone here.\n  if (store.forceDynamic || store.forceStatic) return\n\n  if (store.dynamicShouldError) {\n    throw new StaticGenBailoutError(\n      `Route ${store.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n    )\n  }\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-ppr':\n        return postponeWithTracking(\n          store.route,\n          expression,\n          workUnitStore.dynamicTracking\n        )\n      case 'prerender-legacy':\n        workUnitStore.revalidate = 0\n\n        // We aren't prerendering, but we are generating a static page. We need\n        // to bail out of static generation.\n        const err = new DynamicServerError(\n          `Route ${store.route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n        )\n        store.dynamicUsageDescription = expression\n        store.dynamicUsageStack = err.stack\n\n        throw err\n      case 'request':\n        if (process.env.NODE_ENV !== 'production') {\n          workUnitStore.usedDynamic = true\n        }\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\n/**\n * This function is meant to be used when prerendering without cacheComponents or PPR.\n * When called during a build it will cause Next.js to consider the route as dynamic.\n *\n * @internal\n */\nexport function throwToInterruptStaticGeneration(\n  expression: string,\n  store: WorkStore,\n  prerenderStore: PrerenderStoreLegacy\n): never {\n  // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n  const err = new DynamicServerError(\n    `Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n  )\n\n  prerenderStore.revalidate = 0\n\n  store.dynamicUsageDescription = expression\n  store.dynamicUsageStack = err.stack\n\n  throw err\n}\n\n/**\n * This function should be used to track whether something dynamic happened even when\n * we are in a dynamic render. This is useful for Dev where all renders are dynamic but\n * we still track whether dynamic APIs were accessed for helpful messaging\n *\n * @internal\n */\nexport function trackDynamicDataInDynamicRender(workUnitStore: WorkUnitStore) {\n  switch (workUnitStore.type) {\n    case 'cache':\n    case 'unstable-cache':\n      // Inside cache scopes, marking a scope as dynamic has no effect,\n      // because the outer cache scope creates a cache boundary. This is\n      // subtly different from reading a dynamic data source, which is\n      // forbidden inside a cache scope.\n      return\n    case 'private-cache':\n      // A private cache scope is already dynamic by definition.\n      return\n    case 'prerender':\n    case 'prerender-runtime':\n    case 'prerender-legacy':\n    case 'prerender-ppr':\n    case 'prerender-client':\n      break\n    case 'request':\n      if (process.env.NODE_ENV !== 'production') {\n        workUnitStore.usedDynamic = true\n      }\n      break\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nfunction abortOnSynchronousDynamicDataAccess(\n  route: string,\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const reason = `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n\n  const error = createPrerenderInterruptedError(reason)\n\n  prerenderStore.controller.abort(error)\n\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function abortOnSynchronousPlatformIOAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n  // It is important that we set this tracking value after aborting. Aborts are executed\n  // synchronously except for the case where you abort during render itself. By setting this\n  // value late we can use it to determine if any of the aborted tasks are the task that\n  // called the sync IO expression in the first place.\n  if (dynamicTracking) {\n    if (dynamicTracking.syncDynamicErrorWithStack === null) {\n      dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n    }\n  }\n}\n\n/**\n * use this function when prerendering with cacheComponents. If we are doing a\n * prospective prerender we don't actually abort because we want to discover\n * all caches for the shell. If this is the actual prerender we do abort.\n *\n * This function accepts a prerenderStore but the caller should ensure we're\n * actually running in cacheComponents mode.\n *\n * @internal\n */\nexport function abortAndThrowOnSynchronousRequestDataAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): never {\n  const prerenderSignal = prerenderStore.controller.signal\n  if (prerenderSignal.aborted === false) {\n    // TODO it would be better to move this aborted check into the callsite so we can avoid making\n    // the error object when it isn't relevant to the aborting of the prerender however\n    // since we need the throw semantics regardless of whether we abort it is easier to land\n    // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n    // to ideal implementation\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    const dynamicTracking = prerenderStore.dynamicTracking\n    if (dynamicTracking) {\n      if (dynamicTracking.syncDynamicErrorWithStack === null) {\n        dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n      }\n    }\n  }\n  throw createPrerenderInterruptedError(\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n  )\n}\n\n/**\n * This component will call `React.postpone` that throws the postponed error.\n */\ntype PostponeProps = {\n  reason: string\n  route: string\n}\nexport function Postpone({ reason, route }: PostponeProps): never {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  const dynamicTracking =\n    prerenderStore && prerenderStore.type === 'prerender-ppr'\n      ? prerenderStore.dynamicTracking\n      : null\n  postponeWithTracking(route, reason, dynamicTracking)\n}\n\nexport function postponeWithTracking(\n  route: string,\n  expression: string,\n  dynamicTracking: null | DynamicTrackingState\n): never {\n  assertPostpone()\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n\n  React.unstable_postpone(createPostponeReason(route, expression))\n}\n\nfunction createPostponeReason(route: string, expression: string) {\n  return (\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}. ` +\n    `React throws this special object to indicate where. It should not be caught by ` +\n    `your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`\n  )\n}\n\nexport function isDynamicPostpone(err: unknown) {\n  if (\n    typeof err === 'object' &&\n    err !== null &&\n    typeof (err as any).message === 'string'\n  ) {\n    return isDynamicPostponeReason((err as any).message)\n  }\n  return false\n}\n\nfunction isDynamicPostponeReason(reason: string) {\n  return (\n    reason.includes(\n      'needs to bail out of prerendering at this point because it used'\n    ) &&\n    reason.includes(\n      'Learn more: https://nextjs.org/docs/messages/ppr-caught-error'\n    )\n  )\n}\n\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n  throw new Error(\n    'Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'\n  )\n}\n\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED'\n\nfunction createPrerenderInterruptedError(message: string): Error {\n  const error = new Error(message)\n  ;(error as any).digest = NEXT_PRERENDER_INTERRUPTED\n  return error\n}\n\ntype DigestError = Error & {\n  digest: string\n}\n\nexport function isPrerenderInterruptedError(\n  error: unknown\n): error is DigestError {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    (error as any).digest === NEXT_PRERENDER_INTERRUPTED &&\n    'name' in error &&\n    'message' in error &&\n    error instanceof Error\n  )\n}\n\nexport function accessedDynamicData(\n  dynamicAccesses: Array<DynamicAccess>\n): boolean {\n  return dynamicAccesses.length > 0\n}\n\nexport function consumeDynamicAccess(\n  serverDynamic: DynamicTrackingState,\n  clientDynamic: DynamicTrackingState\n): DynamicTrackingState['dynamicAccesses'] {\n  // We mutate because we only call this once we are no longer writing\n  // to the dynamicTrackingState and it's more efficient than creating a new\n  // array.\n  serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses)\n  return serverDynamic.dynamicAccesses\n}\n\nexport function formatDynamicAPIAccesses(\n  dynamicAccesses: Array<DynamicAccess>\n): string[] {\n  return dynamicAccesses\n    .filter(\n      (access): access is Required<DynamicAccess> =>\n        typeof access.stack === 'string' && access.stack.length > 0\n    )\n    .map(({ expression, stack }) => {\n      stack = stack\n        .split('\\n')\n        // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4)\n        .filter((line) => {\n          // Exclude Next.js internals from the stack trace.\n          if (line.includes('node_modules/next/')) {\n            return false\n          }\n\n          // Exclude anonymous functions from the stack trace.\n          if (line.includes(' (<anonymous>)')) {\n            return false\n          }\n\n          // Exclude Node.js internals from the stack trace.\n          if (line.includes(' (node:')) {\n            return false\n          }\n\n          return true\n        })\n        .join('\\n')\n      return `Dynamic API Usage Debug - ${expression}:\\n${stack}`\n    })\n}\n\nfunction assertPostpone() {\n  if (!hasPostpone) {\n    throw new Error(\n      `Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`\n    )\n  }\n}\n\n/**\n * This is a bit of a hack to allow us to abort a render using a Postpone instance instead of an Error which changes React's\n * abort semantics slightly.\n */\nexport function createRenderInBrowserAbortSignal(): AbortSignal {\n  const controller = new AbortController()\n  controller.abort(new BailoutToCSRError('Render in Browser'))\n  return controller.signal\n}\n\n/**\n * In a prerender, we may end up with hanging Promises as inputs due them\n * stalling on connection() or because they're loading dynamic data. In that\n * case we need to abort the encoding of arguments since they'll never complete.\n */\nexport function createHangingInputAbortSignal(\n  workUnitStore: WorkUnitStore\n): AbortSignal | undefined {\n  switch (workUnitStore.type) {\n    case 'prerender':\n    case 'prerender-runtime':\n      const controller = new AbortController()\n\n      if (workUnitStore.cacheSignal) {\n        // If we have a cacheSignal it means we're in a prospective render. If\n        // the input we're waiting on is coming from another cache, we do want\n        // to wait for it so that we can resolve this cache entry too.\n        workUnitStore.cacheSignal.inputReady().then(() => {\n          controller.abort()\n        })\n      } else {\n        // Otherwise we're in the final render and we should already have all\n        // our caches filled.\n        // If the prerender uses stages, we have wait until the runtime stage,\n        // at which point all runtime inputs will be resolved.\n        // (otherwise, a runtime prerender might consider `cookies()` hanging\n        //  even though they'd resolve in the next task.)\n        //\n        // We might still be waiting on some microtasks so we\n        // wait one tick before giving up. When we give up, we still want to\n        // render the content of this cache as deeply as we can so that we can\n        // suspend as deeply as possible in the tree or not at all if we don't\n        // end up waiting for the input.\n        const runtimeStagePromise = getRuntimeStagePromise(workUnitStore)\n        if (runtimeStagePromise) {\n          runtimeStagePromise.then(() =>\n            scheduleOnNextTick(() => controller.abort())\n          )\n        } else {\n          scheduleOnNextTick(() => controller.abort())\n        }\n      }\n\n      return controller.signal\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n    case 'request':\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      return undefined\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nexport function annotateDynamicAccess(\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n) {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function useDynamicRouteParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workStore && workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-client':\n      case 'prerender': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n\n        if (fallbackParams && fallbackParams.size > 0) {\n          // We are in a prerender with cacheComponents semantics. We are going to\n          // hang here and never resolve. This will cause the currently\n          // rendering component to effectively be a dynamic hole.\n          React.use(\n            makeHangingPromise(\n              workUnitStore.renderSignal,\n              workStore.route,\n              expression\n            )\n          )\n        }\n        break\n      }\n      case 'prerender-ppr': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n        if (fallbackParams && fallbackParams.size > 0) {\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        }\n        break\n      }\n      case 'prerender-runtime':\n        throw new InvariantError(\n          `\\`${expression}\\` was called during a runtime prerender. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'cache':\n      case 'private-cache':\n        throw new InvariantError(\n          `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'prerender-legacy':\n      case 'request':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\nexport function useDynamicSearchParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore) {\n    // We assume pages router context and just return\n    return\n  }\n\n  if (!workUnitStore) {\n    throwForMissingRequestStore(expression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-client': {\n      React.use(\n        makeHangingPromise(\n          workUnitStore.renderSignal,\n          workStore.route,\n          expression\n        )\n      )\n      break\n    }\n    case 'prerender-legacy':\n    case 'prerender-ppr': {\n      if (workStore.forceStatic) {\n        return\n      }\n      throw new BailoutToCSRError(expression)\n    }\n    case 'prerender':\n    case 'prerender-runtime':\n      throw new InvariantError(\n        `\\`${expression}\\` was called from a Server Component. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'cache':\n    case 'unstable-cache':\n    case 'private-cache':\n      throw new InvariantError(\n        `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'request':\n      return\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/\n\n// Common implicit body tags that React will treat as body when placed directly in html\nconst bodyAndImplicitTags =\n  'body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6'\n\n// Detects when RootLayoutBoundary (our framework marker component) appears\n// after Suspense in the component stack, indicating the root layout is wrapped\n// within a Suspense boundary. Ensures no body/html/implicit-body components are in between.\n//\n// Example matches:\n//   at Suspense (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\n//\n// Or with other components in between (but not body/html/implicit-body):\n//   at Suspense (<anonymous>)\n//   at SomeComponent (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\nconst hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex = new RegExp(\n  `\\\\n\\\\s+at Suspense \\\\(<anonymous>\\\\)(?:(?!\\\\n\\\\s+at (?:${bodyAndImplicitTags}) \\\\(<anonymous>\\\\))[\\\\s\\\\S])*?\\\\n\\\\s+at ${ROOT_LAYOUT_BOUNDARY_NAME} \\\\([^\\\\n]*\\\\)`\n)\n\nconst hasMetadataRegex = new RegExp(\n  `\\\\n\\\\s+at ${METADATA_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasViewportRegex = new RegExp(\n  `\\\\n\\\\s+at ${VIEWPORT_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasOutletRegex = new RegExp(`\\\\n\\\\s+at ${OUTLET_BOUNDARY_NAME}[\\\\n\\\\s]`)\n\nexport function trackAllowedDynamicAccess(\n  workStore: WorkStore,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicMetadata = true\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicViewport = true\n    return\n  } else if (\n    hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(\n      componentStack\n    )\n  ) {\n    // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n    // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n    // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message =\n      `Route \"${workStore.route}\": Uncached data was accessed outside of ` +\n      '<Suspense>. This delays the entire page from rendering, resulting in a ' +\n      'slow user experience. Learn more: ' +\n      'https://nextjs.org/docs/messages/blocking-route'\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\nexport function trackDynamicHoleInRuntimeShell(\n  workStore: WorkStore,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    const message = `Route \"${workStore.route}\": Uncached data or \\`connection()\\` was accessed inside \\`generateMetadata\\`. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicMetadata = error\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    const message = `Route \"${workStore.route}\": Uncached data or \\`connection()\\` was accessed inside \\`generateViewport\\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  } else if (\n    hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(\n      componentStack\n    )\n  ) {\n    // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n    // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n    // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message = `Route \"${workStore.route}\": Uncached data or \\`connection()\\` was accessed outside of \\`<Suspense>\\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\nexport function trackDynamicHoleInStaticShell(\n  workStore: WorkStore,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    const message = `Route \"${workStore.route}\": Runtime data such as \\`cookies()\\`, \\`headers()\\`, \\`params\\`, or \\`searchParams\\` was accessed inside \\`generateMetadata\\` or you have file-based metadata such as icons that depend on dynamic params segments. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicMetadata = error\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    const message = `Route \"${workStore.route}\": Runtime data such as \\`cookies()\\`, \\`headers()\\`, \\`params\\`, or \\`searchParams\\` was accessed inside \\`generateViewport\\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  } else if (\n    hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(\n      componentStack\n    )\n  ) {\n    // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n    // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n    // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message = `Route \"${workStore.route}\": Runtime data such as \\`cookies()\\`, \\`headers()\\`, \\`params\\`, or \\`searchParams\\` was accessed outside of \\`<Suspense>\\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\n/**\n * In dev mode, we prefer using the owner stack, otherwise the provided\n * component stack is used.\n */\nfunction createErrorWithComponentOrOwnerStack(\n  message: string,\n  componentStack: string\n) {\n  const ownerStack =\n    process.env.NODE_ENV !== 'production' && React.captureOwnerStack\n      ? React.captureOwnerStack()\n      : null\n\n  const error = new Error(message)\n  // TODO go back to owner stack here if available. This is temporarily using componentStack to get the right\n  //\n  error.stack = error.name + ': ' + message + (ownerStack || componentStack)\n  return error\n}\n\nexport enum PreludeState {\n  Full = 0,\n  Empty = 1,\n  Errored = 2,\n}\n\nexport function logDisallowedDynamicError(\n  workStore: WorkStore,\n  error: Error\n): void {\n  console.error(error)\n\n  if (!workStore.dev) {\n    if (workStore.hasReadableErrorStacks) {\n      console.error(\n        `To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.`\n      )\n    } else {\n      console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:\n  - Start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.\n  - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.`)\n    }\n  }\n}\n\nexport function throwIfDisallowedDynamic(\n  workStore: WorkStore,\n  prelude: PreludeState,\n  dynamicValidation: DynamicValidationState,\n  serverDynamic: DynamicTrackingState\n): void {\n  if (serverDynamic.syncDynamicErrorWithStack) {\n    logDisallowedDynamicError(\n      workStore,\n      serverDynamic.syncDynamicErrorWithStack\n    )\n    throw new StaticGenBailoutError()\n  }\n\n  if (prelude !== PreludeState.Full) {\n    if (dynamicValidation.hasSuspenseAboveBody) {\n      // This route has opted into allowing fully dynamic rendering\n      // by including a Suspense boundary above the body. In this case\n      // a lack of a shell is not considered disallowed so we simply return\n      return\n    }\n\n    // We didn't have any sync bailouts but there may be user code which\n    // blocked the root. We would have captured these during the prerender\n    // and can log them here and then terminate the build/validating render\n    const dynamicErrors = dynamicValidation.dynamicErrors\n    if (dynamicErrors.length > 0) {\n      for (let i = 0; i < dynamicErrors.length; i++) {\n        logDisallowedDynamicError(workStore, dynamicErrors[i])\n      }\n\n      throw new StaticGenBailoutError()\n    }\n\n    // If we got this far then the only other thing that could be blocking\n    // the root is dynamic Viewport. If this is dynamic then\n    // you need to opt into that by adding a Suspense boundary above the body\n    // to indicate your are ok with fully dynamic rendering.\n    if (dynamicValidation.hasDynamicViewport) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateViewport\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n      )\n      throw new StaticGenBailoutError()\n    }\n\n    if (prelude === PreludeState.Empty) {\n      // If we ever get this far then we messed up the tracking of invalid dynamic.\n      // We still adhere to the constraint that you must produce a shell but invite the\n      // user to report this as a bug in Next.js.\n      console.error(\n        `Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`\n      )\n      throw new StaticGenBailoutError()\n    }\n  } else {\n    if (\n      dynamicValidation.hasAllowedDynamic === false &&\n      dynamicValidation.hasDynamicMetadata\n    ) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateMetadata\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n      )\n      throw new StaticGenBailoutError()\n    }\n  }\n}\n\nexport function getStaticShellDisallowedDynamicReasons(\n  workStore: WorkStore,\n  prelude: PreludeState,\n  dynamicValidation: DynamicValidationState\n): Array<Error> {\n  if (dynamicValidation.hasSuspenseAboveBody) {\n    // This route has opted into allowing fully dynamic rendering\n    // by including a Suspense boundary above the body. In this case\n    // a lack of a shell is not considered disallowed so we simply return\n    return []\n  }\n\n  if (prelude !== PreludeState.Full) {\n    // We didn't have any sync bailouts but there may be user code which\n    // blocked the root. We would have captured these during the prerender\n    // and can log them here and then terminate the build/validating render\n    const dynamicErrors = dynamicValidation.dynamicErrors\n    if (dynamicErrors.length > 0) {\n      return dynamicErrors\n    }\n\n    if (prelude === PreludeState.Empty) {\n      // If we ever get this far then we messed up the tracking of invalid dynamic.\n      // We still adhere to the constraint that you must produce a shell but invite the\n      // user to report this as a bug in Next.js.\n      return [\n        new InvariantError(\n          `Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason.`\n        ),\n      ]\n    }\n  } else {\n    // We have a prelude but we might still have dynamic metadata without any other dynamic access\n    if (\n      dynamicValidation.hasAllowedDynamic === false &&\n      dynamicValidation.dynamicErrors.length === 0 &&\n      dynamicValidation.dynamicMetadata\n    ) {\n      return [dynamicValidation.dynamicMetadata]\n    }\n  }\n  // We had a non-empty prelude and there are no dynamic holes\n  return []\n}\n\nexport function delayUntilRuntimeStage<T>(\n  prerenderStore: PrerenderStoreModernRuntime,\n  result: Promise<T>\n): Promise<T> {\n  if (prerenderStore.runtimeStagePromise) {\n    return prerenderStore.runtimeStagePromise.then(() => result)\n  }\n  return result\n}\n","import * as React from 'react'\n\nconst errorRef: { current: null | Error } = { current: null }\n\n// React.cache is currently only available in canary/experimental React channels.\nconst cache =\n  typeof React.cache === 'function'\n    ? React.cache\n    : (fn: (key: unknown) => void) => fn\n\n// When Cache Components is enabled, we record these as errors so that they\n// are captured by the dev overlay as it's more critical to fix these\n// when enabled.\nconst logErrorOrWarn = process.env.__NEXT_CACHE_COMPONENTS\n  ? console.error\n  : console.warn\n\n// We don't want to dedupe across requests.\n// The developer might've just attempted to fix the warning so we should warn again if it still happens.\nconst flushCurrentErrorIfNew = cache(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- cache key\n  (key: unknown) => {\n    try {\n      logErrorOrWarn(errorRef.current)\n    } finally {\n      errorRef.current = null\n    }\n  }\n)\n\n/**\n * Creates a function that logs an error message that is deduped by the userland\n * callsite.\n * This requires no indirection between the call of this function and the userland\n * callsite i.e. there's only a single library frame above this.\n * Do not use on the Client where sourcemaps and ignore listing might be enabled.\n * Only use that for warnings need a fix independent of the callstack.\n *\n * @param getMessage\n * @returns\n */\nexport function createDedupedByCallsiteServerErrorLoggerDev<Args extends any[]>(\n  getMessage: (...args: Args) => Error\n) {\n  return function logDedupedError(...args: Args) {\n    const message = getMessage(...args)\n\n    if (process.env.NODE_ENV !== 'production') {\n      const callStackFrames = new Error().stack?.split('\\n')\n      if (callStackFrames === undefined || callStackFrames.length < 4) {\n        logErrorOrWarn(message)\n      } else {\n        // Error:\n        //   logDedupedError\n        //   asyncApiBeingAccessedSynchronously\n        //   <userland callsite>\n        // TODO: This breaks if sourcemaps with ignore lists are enabled.\n        const key = callStackFrames[4]\n        errorRef.current = message\n        flushCurrentErrorIfNew(key)\n      }\n    } else {\n      logErrorOrWarn(message)\n    }\n  }\n}\n","import { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { afterTaskAsyncStorage } from '../app-render/after-task-async-storage.external'\nimport type { WorkStore } from '../app-render/work-async-storage.external'\n\nexport function throwWithStaticGenerationBailoutErrorWithDynamicError(\n  route: string,\n  expression: string\n): never {\n  throw new StaticGenBailoutError(\n    `Route ${route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n  )\n}\n\nexport function throwForSearchParamsAccessInUseCache(\n  workStore: WorkStore,\n  constructorOpt: Function\n): never {\n  const error = new Error(\n    `Route ${workStore.route} used \\`searchParams\\` inside \"use cache\". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \\`searchParams\\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n  )\n\n  Error.captureStackTrace(error, constructorOpt)\n  workStore.invalidDynamicUsageError ??= error\n\n  throw error\n}\n\nexport function isRequestAPICallableInsideAfter() {\n  const afterTaskStore = afterTaskAsyncStorage.getStore()\n  return afterTaskStore?.rootTaskSpawnPhase === 'action'\n}\n","export function createPromiseWithResolvers<T>(): PromiseWithResolvers<T> {\n  // Shim of Stage 4 Promise.withResolvers proposal\n  let resolve: (value: T | PromiseLike<T>) => void\n  let reject: (reason: any) => void\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n  return { resolve: resolve!, reject: reject!, promise }\n}\n","import { InvariantError } from '../../shared/lib/invariant-error'\nimport { createPromiseWithResolvers } from '../../shared/lib/promise-with-resolvers'\n\nexport enum RenderStage {\n  Before = 1,\n  Static = 2,\n  Runtime = 3,\n  Dynamic = 4,\n  Abandoned = 5,\n}\n\nexport type NonStaticRenderStage = RenderStage.Runtime | RenderStage.Dynamic\n\nexport class StagedRenderingController {\n  currentStage: RenderStage = RenderStage.Before\n\n  staticInterruptReason: Error | null = null\n  runtimeInterruptReason: Error | null = null\n  staticStageEndTime: number = Infinity\n  runtimeStageEndTime: number = Infinity\n\n  private runtimeStageListeners: Array<() => void> = []\n  private dynamicStageListeners: Array<() => void> = []\n\n  private runtimeStagePromise = createPromiseWithResolvers<void>()\n  private dynamicStagePromise = createPromiseWithResolvers<void>()\n\n  private mayAbandon: boolean = false\n\n  constructor(\n    private abortSignal: AbortSignal | null = null,\n    private hasRuntimePrefetch: boolean\n  ) {\n    if (abortSignal) {\n      abortSignal.addEventListener(\n        'abort',\n        () => {\n          const { reason } = abortSignal\n          if (this.currentStage < RenderStage.Runtime) {\n            this.runtimeStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.runtimeStagePromise.reject(reason)\n          }\n          if (\n            this.currentStage < RenderStage.Dynamic ||\n            this.currentStage === RenderStage.Abandoned\n          ) {\n            this.dynamicStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.dynamicStagePromise.reject(reason)\n          }\n        },\n        { once: true }\n      )\n\n      this.mayAbandon = true\n    }\n  }\n\n  onStage(stage: NonStaticRenderStage, callback: () => void) {\n    if (this.currentStage >= stage) {\n      callback()\n    } else if (stage === RenderStage.Runtime) {\n      this.runtimeStageListeners.push(callback)\n    } else if (stage === RenderStage.Dynamic) {\n      this.dynamicStageListeners.push(callback)\n    } else {\n      // This should never happen\n      throw new InvariantError(`Invalid render stage: ${stage}`)\n    }\n  }\n\n  canSyncInterrupt() {\n    // If we haven't started the render yet, it can't be interrupted.\n    if (this.currentStage === RenderStage.Before) {\n      return false\n    }\n\n    const boundaryStage = this.hasRuntimePrefetch\n      ? RenderStage.Dynamic\n      : RenderStage.Runtime\n    return this.currentStage < boundaryStage\n  }\n\n  syncInterruptCurrentStageWithReason(reason: Error) {\n    if (this.currentStage === RenderStage.Before) {\n      return\n    }\n\n    // If Sync IO occurs during the initial (abandonable) render, we'll retry it,\n    // so we want a slightly different flow.\n    // See the implementation of `abandonRenderImpl` for more explanation.\n    if (this.mayAbandon) {\n      return this.abandonRenderImpl()\n    }\n\n    // If we're in the final render, we cannot abandon it. We need to advance to the Dynamic stage\n    // and capture the interruption reason.\n    switch (this.currentStage) {\n      case RenderStage.Static: {\n        this.staticInterruptReason = reason\n        this.advanceStage(RenderStage.Dynamic)\n        return\n      }\n      case RenderStage.Runtime: {\n        // We only error for Sync IO in the runtime stage if the route\n        // is configured to use runtime prefetching.\n        // We do this to reflect the fact that during a runtime prefetch,\n        // Sync IO aborts aborts the render.\n        // Note that `canSyncInterrupt` should prevent us from getting here at all\n        // if runtime prefetching isn't enabled.\n        if (this.hasRuntimePrefetch) {\n          this.runtimeInterruptReason = reason\n          this.advanceStage(RenderStage.Dynamic)\n        }\n        return\n      }\n      case RenderStage.Dynamic:\n      case RenderStage.Abandoned:\n      default:\n    }\n  }\n\n  getStaticInterruptReason() {\n    return this.staticInterruptReason\n  }\n\n  getRuntimeInterruptReason() {\n    return this.runtimeInterruptReason\n  }\n\n  getStaticStageEndTime() {\n    return this.staticStageEndTime\n  }\n\n  getRuntimeStageEndTime() {\n    return this.runtimeStageEndTime\n  }\n\n  abandonRender() {\n    if (!this.mayAbandon) {\n      throw new InvariantError(\n        '`abandonRender` called on a stage controller that cannot be abandoned.'\n      )\n    }\n\n    this.abandonRenderImpl()\n  }\n\n  private abandonRenderImpl() {\n    // In staged rendering, only the initial render is abandonable.\n    // We can abandon the initial render if\n    //   1. We notice a cache miss, and need to wait for caches to fill\n    //   2. A sync IO error occurs, and the render should be interrupted\n    //      (this might be a lazy intitialization of a module,\n    //       so we still want to restart in this case and see if it still occurs)\n    // In either case, we'll be doing another render after this one,\n    // so we only want to unblock the Runtime stage, not Dynamic, because\n    // unblocking the dynamic stage would likely lead to wasted (uncached) IO.\n    const { currentStage } = this\n    switch (currentStage) {\n      case RenderStage.Static: {\n        this.currentStage = RenderStage.Abandoned\n        this.resolveRuntimeStage()\n        return\n      }\n      case RenderStage.Runtime: {\n        this.currentStage = RenderStage.Abandoned\n        return\n      }\n      case RenderStage.Dynamic:\n      case RenderStage.Before:\n      case RenderStage.Abandoned:\n        break\n      default: {\n        currentStage satisfies never\n      }\n    }\n  }\n\n  advanceStage(\n    stage: RenderStage.Static | RenderStage.Runtime | RenderStage.Dynamic\n  ) {\n    // If we're already at the target stage or beyond, do nothing.\n    // (this can happen e.g. if sync IO advanced us to the dynamic stage)\n    if (stage <= this.currentStage) {\n      return\n    }\n\n    let currentStage = this.currentStage\n    this.currentStage = stage\n\n    if (currentStage < RenderStage.Runtime && stage >= RenderStage.Runtime) {\n      this.staticStageEndTime = performance.now() + performance.timeOrigin\n      this.resolveRuntimeStage()\n    }\n    if (currentStage < RenderStage.Dynamic && stage >= RenderStage.Dynamic) {\n      this.runtimeStageEndTime = performance.now() + performance.timeOrigin\n      this.resolveDynamicStage()\n      return\n    }\n  }\n\n  /** Fire the `onStage` listeners for the runtime stage and unblock any promises waiting for it. */\n  private resolveRuntimeStage() {\n    const runtimeListeners = this.runtimeStageListeners\n    for (let i = 0; i < runtimeListeners.length; i++) {\n      runtimeListeners[i]()\n    }\n    runtimeListeners.length = 0\n    this.runtimeStagePromise.resolve()\n  }\n\n  /** Fire the `onStage` listeners for the dynamic stage and unblock any promises waiting for it. */\n  private resolveDynamicStage() {\n    const dynamicListeners = this.dynamicStageListeners\n    for (let i = 0; i < dynamicListeners.length; i++) {\n      dynamicListeners[i]()\n    }\n    dynamicListeners.length = 0\n    this.dynamicStagePromise.resolve()\n  }\n\n  private getStagePromise(stage: NonStaticRenderStage): Promise<void> {\n    switch (stage) {\n      case RenderStage.Runtime: {\n        return this.runtimeStagePromise.promise\n      }\n      case RenderStage.Dynamic: {\n        return this.dynamicStagePromise.promise\n      }\n      default: {\n        stage satisfies never\n        throw new InvariantError(`Invalid render stage: ${stage}`)\n      }\n    }\n  }\n\n  waitForStage(stage: NonStaticRenderStage) {\n    return this.getStagePromise(stage)\n  }\n\n  delayUntilStage<T>(\n    stage: NonStaticRenderStage,\n    displayName: string | undefined,\n    resolvedValue: T\n  ) {\n    const ioTriggerPromise = this.getStagePromise(stage)\n\n    const promise = makeDevtoolsIOPromiseFromIOTrigger(\n      ioTriggerPromise,\n      displayName,\n      resolvedValue\n    )\n\n    // Analogously to `makeHangingPromise`, we might reject this promise if the signal is invoked.\n    // (e.g. in the case where we don't want want the render to proceed to the dynamic stage and abort it).\n    // We shouldn't consider this an unhandled rejection, so we attach a noop catch handler here to suppress this warning.\n    if (this.abortSignal) {\n      promise.catch(ignoreReject)\n    }\n    return promise\n  }\n}\n\nfunction ignoreReject() {}\n\n// TODO(restart-on-cache-miss): the layering of `delayUntilStage`,\n// `makeDevtoolsIOPromiseFromIOTrigger` and and `makeDevtoolsIOAwarePromise`\n// is confusing, we should clean it up.\nfunction makeDevtoolsIOPromiseFromIOTrigger<T>(\n  ioTrigger: Promise<any>,\n  displayName: string | undefined,\n  resolvedValue: T\n): Promise<T> {\n  // If we create a `new Promise` and give it a displayName\n  // (with no userspace code above us in the stack)\n  // React Devtools will use it as the IO cause when determining \"suspended by\".\n  // In particular, it should shadow any inner IO that resolved/rejected the promise\n  // (in case of staged rendering, this will be the `setTimeout` that triggers the relevant stage)\n  const promise = new Promise<T>((resolve, reject) => {\n    ioTrigger.then(resolve.bind(null, resolvedValue), reject)\n  })\n  if (displayName !== undefined) {\n    // @ts-expect-error\n    promise.displayName = displayName\n  }\n  return promise\n}\n","import {\n  type ReadonlyRequestCookies,\n  areCookiesMutableInCurrentPhase,\n  RequestCookiesAdapter,\n} from '../web/spec-extension/adapters/request-cookies'\nimport { RequestCookies } from '../web/spec-extension/cookies'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n  type RequestStore,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from '../app-render/staged-rendering'\n\nexport function cookies(): Promise<ReadonlyRequestCookies> {\n  const callingExpression = 'cookies'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        // TODO(after): clarify that this only applies to pages?\n        `Route ${workStore.route} used \\`cookies()\\` inside \\`after()\\`. This is not supported. If you need this data inside an \\`after()\\` callback, use \\`cookies()\\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // cookies object without tracking\n      const underlyingCookies = createEmptyCookies()\n      return makeUntrackedCookies(underlyingCookies)\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`cookies()\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n          const error = new Error(\n            `Route ${workStore.route} used \\`cookies()\\` inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`cookies()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, cookies)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \\`cookies()\\` inside a function cached with \\`unstable_cache()\\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`cookies()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n          return makeHangingCookies(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`cookies`'\n          throw new InvariantError(\n            `${exportName} must not be used within a Client Component. Next.js should be preventing ${exportName} from being included in Client Components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // We need track dynamic access here eagerly to keep continuity with\n          // how cookies has worked in PPR without cacheComponents.\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // We track dynamic access here so we don't need to wrap the cookies\n          // in individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'prerender-runtime':\n          return delayUntilRuntimeStage(\n            workUnitStore,\n            makeUntrackedCookies(workUnitStore.cookies)\n          )\n        case 'private-cache':\n          // Private caches are delayed until the runtime stage in use-cache-wrapper,\n          // so we don't need an additional delay here.\n          return makeUntrackedCookies(workUnitStore.cookies)\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          let underlyingCookies: ReadonlyRequestCookies\n\n          if (areCookiesMutableInCurrentPhase(workUnitStore)) {\n            // We can't conditionally return different types here based on the context.\n            // To avoid confusion, we always return the readonly type here.\n            underlyingCookies =\n              workUnitStore.userspaceMutableCookies as unknown as ReadonlyRequestCookies\n          } else {\n            underlyingCookies = workUnitStore.cookies\n          }\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            return makeUntrackedCookiesWithDevWarnings(\n              workUnitStore,\n              underlyingCookies,\n              workStore?.route\n            )\n          } else {\n            return makeUntrackedCookies(underlyingCookies)\n          }\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\nfunction createEmptyCookies(): ReadonlyRequestCookies {\n  return RequestCookiesAdapter.seal(new RequestCookies(new Headers({})))\n}\n\ninterface CacheLifetime {}\nconst CachedCookies = new WeakMap<\n  CacheLifetime,\n  Promise<ReadonlyRequestCookies>\n>()\n\nfunction makeHangingCookies(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyRequestCookies> {\n  const cachedPromise = CachedCookies.get(prerenderStore)\n  if (cachedPromise) {\n    return cachedPromise\n  }\n\n  const promise = makeHangingPromise<ReadonlyRequestCookies>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`cookies()`'\n  )\n  CachedCookies.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedCookies(\n  underlyingCookies: ReadonlyRequestCookies\n): Promise<ReadonlyRequestCookies> {\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = Promise.resolve(underlyingCookies)\n  CachedCookies.set(underlyingCookies, promise)\n\n  return promise\n}\n\nfunction makeUntrackedCookiesWithDevWarnings(\n  requestStore: RequestStore,\n  underlyingCookies: ReadonlyRequestCookies,\n  route?: string\n): Promise<ReadonlyRequestCookies> {\n  if (requestStore.asyncApiPromises) {\n    let promise: Promise<ReadonlyRequestCookies>\n    if (underlyingCookies === requestStore.mutableCookies) {\n      promise = requestStore.asyncApiPromises.mutableCookies\n    } else if (underlyingCookies === requestStore.cookies) {\n      promise = requestStore.asyncApiPromises.cookies\n    } else {\n      throw new InvariantError(\n        'Received an underlying cookies object that does not match either `cookies` or `mutableCookies`'\n      )\n    }\n    return instrumentCookiesPromiseWithDevWarnings(promise, route)\n  }\n\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(\n    underlyingCookies,\n    requestStore,\n    RenderStage.Runtime\n  )\n\n  const proxiedPromise = instrumentCookiesPromiseWithDevWarnings(promise, route)\n\n  CachedCookies.set(underlyingCookies, proxiedPromise)\n\n  return proxiedPromise\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createCookiesAccessError\n)\n\nfunction instrumentCookiesPromiseWithDevWarnings(\n  promise: Promise<ReadonlyRequestCookies>,\n  route: string | undefined\n) {\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: replaceableWarningDescriptorForSymbolIterator(\n      promise,\n      route\n    ),\n    size: replaceableWarningDescriptor(promise, 'size', route),\n    get: replaceableWarningDescriptor(promise, 'get', route),\n    getAll: replaceableWarningDescriptor(promise, 'getAll', route),\n    has: replaceableWarningDescriptor(promise, 'has', route),\n    set: replaceableWarningDescriptor(promise, 'set', route),\n    delete: replaceableWarningDescriptor(promise, 'delete', route),\n    clear: replaceableWarningDescriptor(promise, 'clear', route),\n    toString: replaceableWarningDescriptor(promise, 'toString', route),\n  })\n  return promise\n}\n\nfunction replaceableWarningDescriptor(\n  target: unknown,\n  prop: string,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, `\\`cookies().${prop}\\``)\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction replaceableWarningDescriptorForSymbolIterator(\n  target: unknown,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, '`...cookies()` or similar iteration')\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, Symbol.iterator, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction createCookiesAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`cookies()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n","import type { IncomingHttpHeaders } from 'http'\n\nimport { ReflectAdapter } from './reflect'\n\n/**\n * @internal\n */\nexport class ReadonlyHeadersError extends Error {\n  constructor() {\n    super(\n      'Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyHeadersError()\n  }\n}\n\nexport type ReadonlyHeaders = Headers & {\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  append(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  set(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  delete(...args: any[]): void\n}\nexport class HeadersAdapter extends Headers {\n  private readonly headers: IncomingHttpHeaders\n\n  constructor(headers: IncomingHttpHeaders) {\n    // We've already overridden the methods that would be called, so we're just\n    // calling the super constructor to ensure that the instanceof check works.\n    super()\n\n    this.headers = new Proxy(headers, {\n      get(target, prop, receiver) {\n        // Because this is just an object, we expect that all \"get\" operations\n        // are for properties. If it's a \"get\" for a symbol, we'll just return\n        // the symbol.\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return undefined.\n        if (typeof original === 'undefined') return\n\n        // If the original casing exists, return the value.\n        return ReflectAdapter.get(target, original, receiver)\n      },\n      set(target, prop, value, receiver) {\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.set(target, prop, value, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, use the prop as the key.\n        return ReflectAdapter.set(target, original ?? prop, value, receiver)\n      },\n      has(target, prop) {\n        if (typeof prop === 'symbol') return ReflectAdapter.has(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return false.\n        if (typeof original === 'undefined') return false\n\n        // If the original casing exists, return true.\n        return ReflectAdapter.has(target, original)\n      },\n      deleteProperty(target, prop) {\n        if (typeof prop === 'symbol')\n          return ReflectAdapter.deleteProperty(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return true.\n        if (typeof original === 'undefined') return true\n\n        // If the original casing exists, delete the property.\n        return ReflectAdapter.deleteProperty(target, original)\n      },\n    })\n  }\n\n  /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */\n  public static seal(headers: Headers): ReadonlyHeaders {\n    return new Proxy<ReadonlyHeaders>(headers, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'append':\n          case 'delete':\n          case 'set':\n            return ReadonlyHeadersError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n\n  /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */\n  private merge(value: string | string[]): string {\n    if (Array.isArray(value)) return value.join(', ')\n\n    return value\n  }\n\n  /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */\n  public static from(headers: IncomingHttpHeaders | Headers): Headers {\n    if (headers instanceof Headers) return headers\n\n    return new HeadersAdapter(headers)\n  }\n\n  public append(name: string, value: string): void {\n    const existing = this.headers[name]\n    if (typeof existing === 'string') {\n      this.headers[name] = [existing, value]\n    } else if (Array.isArray(existing)) {\n      existing.push(value)\n    } else {\n      this.headers[name] = value\n    }\n  }\n\n  public delete(name: string): void {\n    delete this.headers[name]\n  }\n\n  public get(name: string): string | null {\n    const value = this.headers[name]\n    if (typeof value !== 'undefined') return this.merge(value)\n\n    return null\n  }\n\n  public has(name: string): boolean {\n    return typeof this.headers[name] !== 'undefined'\n  }\n\n  public set(name: string, value: string): void {\n    this.headers[name] = value\n  }\n\n  public forEach(\n    callbackfn: (value: string, name: string, parent: Headers) => void,\n    thisArg?: any\n  ): void {\n    for (const [name, value] of this.entries()) {\n      callbackfn.call(thisArg, value, name, this)\n    }\n  }\n\n  public *entries(): HeadersIterator<[string, string]> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(name) as string\n\n      yield [name, value] as [string, string]\n    }\n  }\n\n  public *keys(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      yield name\n    }\n  }\n\n  public *values(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(key) as string\n\n      yield value\n    }\n  }\n\n  public [Symbol.iterator](): HeadersIterator<[string, string]> {\n    return this.entries()\n  }\n}\n","import {\n  HeadersAdapter,\n  type ReadonlyHeaders,\n} from '../web/spec-extension/adapters/headers'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n  type RequestStore,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from '../app-render/staged-rendering'\n\n/**\n * This function allows you to read the HTTP incoming request headers in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers) and\n * [Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware).\n *\n * Read more: [Next.js Docs: `headers`](https://nextjs.org/docs/app/api-reference/functions/headers)\n */\nexport function headers(): Promise<ReadonlyHeaders> {\n  const callingExpression = 'headers'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        `Route ${workStore.route} used \\`headers()\\` inside \\`after()\\`. This is not supported. If you need this data inside an \\`after()\\` callback, use \\`headers()\\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // headers object without tracking\n      const underlyingHeaders = HeadersAdapter.seal(new Headers({}))\n      return makeUntrackedHeaders(underlyingHeaders)\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \\`headers()\\` inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`headers()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, headers)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \\`headers()\\` inside a function cached with \\`unstable_cache()\\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`headers()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n        case 'prerender-client':\n        case 'private-cache':\n        case 'prerender-runtime':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n        case 'request':\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`headers()\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'prerender':\n          return makeHangingHeaders(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`headers`'\n          throw new InvariantError(\n            `${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // PPR Prerender (no cacheComponents)\n          // We are prerendering with PPR. We need track dynamic access here eagerly\n          // to keep continuity with how headers has worked in PPR without cacheComponents.\n          // TODO consider switching the semantic to throw on property access instead\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // Legacy Prerender\n          // We are in a legacy static generation mode while prerendering\n          // We track dynamic access here so we don't need to wrap the headers in\n          // individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'prerender-runtime':\n          return delayUntilRuntimeStage(\n            workUnitStore,\n            makeUntrackedHeaders(workUnitStore.headers)\n          )\n        case 'private-cache':\n          // Private caches are delayed until the runtime stage in use-cache-wrapper,\n          // so we don't need an additional delay here.\n          return makeUntrackedHeaders(workUnitStore.headers)\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            return makeUntrackedHeadersWithDevWarnings(\n              workUnitStore.headers,\n              workStore?.route,\n              workUnitStore\n            )\n          } else {\n            return makeUntrackedHeaders(workUnitStore.headers)\n          }\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\ninterface CacheLifetime {}\nconst CachedHeaders = new WeakMap<CacheLifetime, Promise<ReadonlyHeaders>>()\n\nfunction makeHangingHeaders(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(prerenderStore)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeHangingPromise<ReadonlyHeaders>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`headers()`'\n  )\n  CachedHeaders.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedHeaders(\n  underlyingHeaders: ReadonlyHeaders\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = Promise.resolve(underlyingHeaders)\n  CachedHeaders.set(underlyingHeaders, promise)\n\n  return promise\n}\n\nfunction makeUntrackedHeadersWithDevWarnings(\n  underlyingHeaders: ReadonlyHeaders,\n  route: string | undefined,\n  requestStore: RequestStore\n): Promise<ReadonlyHeaders> {\n  if (requestStore.asyncApiPromises) {\n    const promise = requestStore.asyncApiPromises.headers\n    return instrumentHeadersPromiseWithDevWarnings(promise, route)\n  }\n\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(\n    underlyingHeaders,\n    requestStore,\n    RenderStage.Runtime\n  )\n\n  const proxiedPromise = instrumentHeadersPromiseWithDevWarnings(promise, route)\n\n  CachedHeaders.set(underlyingHeaders, proxiedPromise)\n\n  return proxiedPromise\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createHeadersAccessError\n)\n\nfunction instrumentHeadersPromiseWithDevWarnings(\n  promise: Promise<ReadonlyHeaders>,\n  route: string | undefined\n) {\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: replaceableWarningDescriptorForSymbolIterator(\n      promise,\n      route\n    ),\n    append: replaceableWarningDescriptor(promise, 'append', route),\n    delete: replaceableWarningDescriptor(promise, 'delete', route),\n    get: replaceableWarningDescriptor(promise, 'get', route),\n    has: replaceableWarningDescriptor(promise, 'has', route),\n    set: replaceableWarningDescriptor(promise, 'set', route),\n    getSetCookie: replaceableWarningDescriptor(promise, 'getSetCookie', route),\n    forEach: replaceableWarningDescriptor(promise, 'forEach', route),\n    keys: replaceableWarningDescriptor(promise, 'keys', route),\n    values: replaceableWarningDescriptor(promise, 'values', route),\n    entries: replaceableWarningDescriptor(promise, 'entries', route),\n  })\n  return promise\n}\n\nfunction replaceableWarningDescriptor(\n  target: unknown,\n  prop: string,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, `\\`headers().${prop}\\``)\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction replaceableWarningDescriptorForSymbolIterator(\n  target: unknown,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, '`...headers()` or similar iteration')\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, Symbol.iterator, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction createHeadersAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`headers()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n","import {\n  getDraftModeProviderForCacheScope,\n  throwForMissingRequestStore,\n} from '../app-render/work-unit-async-storage.external'\n\nimport type { DraftModeProvider } from '../async-storage/draft-mode-provider'\n\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport { workUnitAsyncStorage } from '../app-render/work-unit-async-storage.external'\nimport {\n  abortAndThrowOnSynchronousRequestDataAccess,\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\n\nexport function draftMode(): Promise<DraftMode> {\n  const callingExpression = 'draftMode'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore || !workUnitStore) {\n    throwForMissingRequestStore(callingExpression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-runtime':\n      // TODO(runtime-ppr): does it make sense to delay this? normally it's always microtasky\n      return delayUntilRuntimeStage(\n        workUnitStore,\n        createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n      )\n    case 'request':\n      return createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      // Inside of `\"use cache\"` or `unstable_cache`, draft mode is available if\n      // the outmost work unit store is a request store (or a runtime prerender),\n      // and if draft mode is enabled.\n      const draftModeProvider = getDraftModeProviderForCacheScope(\n        workStore,\n        workUnitStore\n      )\n\n      if (draftModeProvider) {\n        return createOrGetCachedDraftMode(draftModeProvider, workStore)\n      }\n\n    // Otherwise, we fall through to providing an empty draft mode.\n    // eslint-disable-next-line no-fallthrough\n    case 'prerender':\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n      // Return empty draft mode\n      return createOrGetCachedDraftMode(null, workStore)\n\n    default:\n      return workUnitStore satisfies never\n  }\n}\n\nfunction createOrGetCachedDraftMode(\n  draftModeProvider: DraftModeProvider | null,\n  workStore: WorkStore | undefined\n): Promise<DraftMode> {\n  const cacheKey = draftModeProvider ?? NullDraftMode\n  const cachedDraftMode = CachedDraftModes.get(cacheKey)\n\n  if (cachedDraftMode) {\n    return cachedDraftMode\n  }\n\n  if (process.env.NODE_ENV === 'development' && !workStore?.isPrefetchRequest) {\n    const route = workStore?.route\n    return createDraftModeWithDevWarnings(draftModeProvider, route)\n  } else {\n    return Promise.resolve(new DraftMode(draftModeProvider))\n  }\n}\n\ninterface CacheLifetime {}\nconst NullDraftMode = {}\nconst CachedDraftModes = new WeakMap<CacheLifetime, Promise<DraftMode>>()\n\nfunction createDraftModeWithDevWarnings(\n  underlyingProvider: null | DraftModeProvider,\n  route: undefined | string\n): Promise<DraftMode> {\n  const instance = new DraftMode(underlyingProvider)\n  const promise = Promise.resolve(instance)\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'isEnabled':\n          warnForSyncAccess(route, `\\`draftMode().${prop}\\``)\n          break\n        case 'enable':\n        case 'disable': {\n          warnForSyncAccess(route, `\\`draftMode().${prop}()\\``)\n          break\n        }\n        default: {\n          // We only warn for well-defined properties of the draftMode object.\n        }\n      }\n\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n  })\n\n  return proxiedPromise\n}\n\nclass DraftMode {\n  /**\n   * @internal - this declaration is stripped via `tsc --stripInternal`\n   */\n  private readonly _provider: null | DraftModeProvider\n\n  constructor(provider: null | DraftModeProvider) {\n    this._provider = provider\n  }\n  get isEnabled() {\n    if (this._provider !== null) {\n      return this._provider.isEnabled\n    }\n    return false\n  }\n  public enable() {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    trackDynamicDraftMode('draftMode().enable()', this.enable)\n    if (this._provider !== null) {\n      this._provider.enable()\n    }\n  }\n  public disable() {\n    trackDynamicDraftMode('draftMode().disable()', this.disable)\n    if (this._provider !== null) {\n      this._provider.disable()\n    }\n  }\n}\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createDraftModeAccessError\n)\n\nfunction createDraftModeAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`draftMode()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction trackDynamicDraftMode(expression: string, constructorOpt: Function) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    if (workUnitStore?.phase === 'after') {\n      throw new Error(\n        `Route ${workStore.route} used \"${expression}\" inside \\`after()\\`. The enabled status of \\`draftMode()\\` can be read inside \\`after()\\` but you cannot enable or disable \\`draftMode()\\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n        case 'private-cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \"${expression}\" inside \"use cache\". The enabled status of \\`draftMode()\\` can be read in caches but you must not enable or disable \\`draftMode()\\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, constructorOpt)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \"${expression}\" inside a function cached with \\`unstable_cache()\\`. The enabled status of \\`draftMode()\\` can be read in caches but you must not enable or disable \\`draftMode()\\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n\n        case 'prerender':\n        case 'prerender-runtime': {\n          const error = new Error(\n            `Route ${workStore.route} used ${expression} without first calling \\`await connection()\\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`\n          )\n          return abortAndThrowOnSynchronousRequestDataAccess(\n            workStore.route,\n            expression,\n            error,\n            workUnitStore\n          )\n        }\n        case 'prerender-client':\n          const exportName = '`draftMode`'\n          throw new InvariantError(\n            `${exportName} must not be used within a Client Component. Next.js should be preventing ${exportName} from being included in Client Components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          workUnitStore.revalidate = 0\n\n          const err = new DynamicServerError(\n            `Route ${workStore.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n          )\n          workStore.dynamicUsageDescription = expression\n          workStore.dynamicUsageStack = err.stack\n\n          throw err\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n}\n","module.exports.cookies = require('./dist/server/request/cookies').cookies\nmodule.exports.headers = require('./dist/server/request/headers').headers\nmodule.exports.draftMode = require('./dist/server/request/draft-mode').draftMode\n","unable to read source [project]/node_modules/standardwebhooks/src/timing_safe_equal.ts","// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\n\n/**\n * Package base64 implements Base64 encoding and decoding.\n */\n\n// Invalid character used in decoding to indicate\n// that the character to decode is out of range of\n// alphabet and cannot be decoded.\nconst INVALID_BYTE = 256;\n\n/**\n * Implements standard Base64 encoding.\n *\n * Operates in constant time.\n */\nexport class Coder {\n    // TODO(dchest): methods to encode chunk-by-chunk.\n\n    constructor(private _paddingCharacter = \"=\") { }\n\n    encodedLength(length: number): number {\n        if (!this._paddingCharacter) {\n            return (length * 8 + 5) / 6 | 0;\n        }\n        return (length + 2) / 3 * 4 | 0;\n    }\n\n    encode(data: Uint8Array): string {\n        let out = \"\";\n\n        let i = 0;\n        for (; i < data.length - 2; i += 3) {\n            let c = (data[i] << 16) | (data[i + 1] << 8) | (data[i + 2]);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            out += this._encodeByte((c >>> 1 * 6) & 63);\n            out += this._encodeByte((c >>> 0 * 6) & 63);\n        }\n\n        const left = data.length - i;\n        if (left > 0) {\n            let c = (data[i] << 16) | (left === 2 ? data[i + 1] << 8 : 0);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            if (left === 2) {\n                out += this._encodeByte((c >>> 1 * 6) & 63);\n            } else {\n                out += this._paddingCharacter || \"\";\n            }\n            out += this._paddingCharacter || \"\";\n        }\n\n        return out;\n    }\n\n    maxDecodedLength(length: number): number {\n        if (!this._paddingCharacter) {\n            return (length * 6 + 7) / 8 | 0;\n        }\n        return length / 4 * 3 | 0;\n    }\n\n    decodedLength(s: string): number {\n        return this.maxDecodedLength(s.length - this._getPaddingLength(s));\n    }\n\n    decode(s: string): Uint8Array {\n        if (s.length === 0) {\n            return new Uint8Array(0);\n        }\n        const paddingLength = this._getPaddingLength(s);\n        const length = s.length - paddingLength;\n        const out = new Uint8Array(this.maxDecodedLength(length));\n        let op = 0;\n        let i = 0;\n        let haveBad = 0;\n        let v0 = 0, v1 = 0, v2 = 0, v3 = 0;\n        for (; i < length - 4; i += 4) {\n            v0 = this._decodeChar(s.charCodeAt(i + 0));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n            haveBad |= v2 & INVALID_BYTE;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (i < length - 1) {\n            v0 = this._decodeChar(s.charCodeAt(i));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n        }\n        if (i < length - 2) {\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            haveBad |= v2 & INVALID_BYTE;\n        }\n        if (i < length - 3) {\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (haveBad !== 0) {\n            throw new Error(\"Base64Coder: incorrect characters for decoding\");\n        }\n        return out;\n    }\n\n    // Standard encoding have the following encoded/decoded ranges,\n    // which we need to convert between.\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  +   /\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   43  47\n    //\n\n    // Encode 6 bits in b into a new character.\n    protected _encodeByte(b: number): string {\n        // Encoding uses constant time operations as follows:\n        //\n        // 1. Define comparison of A with B using (A - B) >>> 8:\n        //          if A > B, then result is positive integer\n        //          if A <= B, then result is 0\n        //\n        // 2. Define selection of C or 0 using bitwise AND: X & C:\n        //          if X == 0, then result is 0\n        //          if X != 0, then result is C\n        //\n        // 3. Start with the smallest comparison (b >= 0), which is always\n        //    true, so set the result to the starting ASCII value (65).\n        //\n        // 4. Continue comparing b to higher ASCII values, and selecting\n        //    zero if comparison isn't true, otherwise selecting a value\n        //    to add to result, which:\n        //\n        //          a) undoes the previous addition\n        //          b) provides new value to add\n        //\n        let result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 43);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 43) - 63 + 47);\n\n        return String.fromCharCode(result);\n    }\n\n    // Decode a character code into a byte.\n    // Must return 256 if character is out of alphabet range.\n    protected _decodeChar(c: number): number {\n        // Decoding works similar to encoding: using the same comparison\n        // function, but now it works on ranges: result is always incremented\n        // by value, but this value becomes zero if the range is not\n        // satisfied.\n        //\n        // Decoding starts with invalid value, 256, which is then\n        // subtracted when the range is satisfied. If none of the ranges\n        // apply, the function returns 256, which is then checked by\n        // the caller to throw error.\n        let result = INVALID_BYTE; // start with invalid character\n\n        // c == 43 (c > 42 and c < 44)\n        result += (((42 - c) & (c - 44)) >>> 8) & (-INVALID_BYTE + c - 43 + 62);\n        // c == 47 (c > 46 and c < 48)\n        result += (((46 - c) & (c - 48)) >>> 8) & (-INVALID_BYTE + c - 47 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n\n        return result;\n    }\n\n    private _getPaddingLength(s: string): number {\n        let paddingLength = 0;\n        if (this._paddingCharacter) {\n            for (let i = s.length - 1; i >= 0; i--) {\n                if (s[i] !== this._paddingCharacter) {\n                    break;\n                }\n                paddingLength++;\n            }\n            if (s.length < 4 || paddingLength > 2) {\n                throw new Error(\"Base64Coder: incorrect padding\");\n            }\n        }\n        return paddingLength;\n    }\n\n}\n\nconst stdCoder = new Coder();\n\nexport function encode(data: Uint8Array): string {\n    return stdCoder.encode(data);\n}\n\nexport function decode(s: string): Uint8Array {\n    return stdCoder.decode(s);\n}\n\n/**\n * Implements URL-safe Base64 encoding.\n * (Same as Base64, but '+' is replaced with '-', and '/' with '_').\n *\n * Operates in constant time.\n */\nexport class URLSafeCoder extends Coder {\n    // URL-safe encoding have the following encoded/decoded ranges:\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  -   _\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   45  95\n    //\n\n    protected _encodeByte(b: number): string {\n        let result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 45);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 45) - 63 + 95);\n\n        return String.fromCharCode(result);\n    }\n\n    protected _decodeChar(c: number): number {\n        let result = INVALID_BYTE;\n\n        // c == 45 (c > 44 and c < 46)\n        result += (((44 - c) & (c - 46)) >>> 8) & (-INVALID_BYTE + c - 45 + 62);\n        // c == 95 (c > 94 and c < 96)\n        result += (((94 - c) & (c - 96)) >>> 8) & (-INVALID_BYTE + c - 95 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n\n        return result;\n    }\n}\n\nconst urlSafeCoder = new URLSafeCoder();\n\nexport function encodeURLSafe(data: Uint8Array): string {\n    return urlSafeCoder.encode(data);\n}\n\nexport function decodeURLSafe(s: string): Uint8Array {\n    return urlSafeCoder.decode(s);\n}\n\n\nexport const encodedLength = (length: number) =>\n    stdCoder.encodedLength(length);\n\nexport const maxDecodedLength = (length: number) =>\n    stdCoder.maxDecodedLength(length);\n\nexport const decodedLength = (s: string) =>\n    stdCoder.decodedLength(s);\n","(function (root, factory) {\n    // Hack to make all exports of this module sha256 function object properties.\n    var exports = {};\n    factory(exports);\n    var sha256 = exports[\"default\"];\n    for (var k in exports) {\n        sha256[k] = exports[k];\n    }\n        \n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        module.exports = sha256;\n    } else if (typeof define === 'function' && define.amd) {\n        define(function() { return sha256; }); \n    } else {\n        root.sha256 = sha256;\n    }\n})(this, function(exports) {\n\"use strict\";\nexports.__esModule = true;\n// SHA-256 (+ HMAC and PBKDF2) for JavaScript.\n//\n// Written in 2014-2016 by Dmitry Chestnykh.\n// Public domain, no warranty.\n//\n// Functions (accept and return Uint8Arrays):\n//\n//   sha256(message) -> hash\n//   sha256.hmac(key, message) -> mac\n//   sha256.pbkdf2(password, salt, rounds, dkLen) -> dk\n//\n//  Classes:\n//\n//   new sha256.Hash()\n//   new sha256.HMAC(key)\n//\nexports.digestLength = 32;\nexports.blockSize = 64;\n// SHA-256 constants\nvar K = new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b,\n    0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01,\n    0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7,\n    0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n    0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152,\n    0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147,\n    0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc,\n    0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819,\n    0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08,\n    0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f,\n    0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n    0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\nfunction hashBlocks(w, v, p, pos, len) {\n    var a, b, c, d, e, f, g, h, u, i, j, t1, t2;\n    while (len >= 64) {\n        a = v[0];\n        b = v[1];\n        c = v[2];\n        d = v[3];\n        e = v[4];\n        f = v[5];\n        g = v[6];\n        h = v[7];\n        for (i = 0; i < 16; i++) {\n            j = pos + i * 4;\n            w[i] = (((p[j] & 0xff) << 24) | ((p[j + 1] & 0xff) << 16) |\n                ((p[j + 2] & 0xff) << 8) | (p[j + 3] & 0xff));\n        }\n        for (i = 16; i < 64; i++) {\n            u = w[i - 2];\n            t1 = (u >>> 17 | u << (32 - 17)) ^ (u >>> 19 | u << (32 - 19)) ^ (u >>> 10);\n            u = w[i - 15];\n            t2 = (u >>> 7 | u << (32 - 7)) ^ (u >>> 18 | u << (32 - 18)) ^ (u >>> 3);\n            w[i] = (t1 + w[i - 7] | 0) + (t2 + w[i - 16] | 0);\n        }\n        for (i = 0; i < 64; i++) {\n            t1 = (((((e >>> 6 | e << (32 - 6)) ^ (e >>> 11 | e << (32 - 11)) ^\n                (e >>> 25 | e << (32 - 25))) + ((e & f) ^ (~e & g))) | 0) +\n                ((h + ((K[i] + w[i]) | 0)) | 0)) | 0;\n            t2 = (((a >>> 2 | a << (32 - 2)) ^ (a >>> 13 | a << (32 - 13)) ^\n                (a >>> 22 | a << (32 - 22))) + ((a & b) ^ (a & c) ^ (b & c))) | 0;\n            h = g;\n            g = f;\n            f = e;\n            e = (d + t1) | 0;\n            d = c;\n            c = b;\n            b = a;\n            a = (t1 + t2) | 0;\n        }\n        v[0] += a;\n        v[1] += b;\n        v[2] += c;\n        v[3] += d;\n        v[4] += e;\n        v[5] += f;\n        v[6] += g;\n        v[7] += h;\n        pos += 64;\n        len -= 64;\n    }\n    return pos;\n}\n// Hash implements SHA256 hash algorithm.\nvar Hash = /** @class */ (function () {\n    function Hash() {\n        this.digestLength = exports.digestLength;\n        this.blockSize = exports.blockSize;\n        // Note: Int32Array is used instead of Uint32Array for performance reasons.\n        this.state = new Int32Array(8); // hash state\n        this.temp = new Int32Array(64); // temporary state\n        this.buffer = new Uint8Array(128); // buffer for data to hash\n        this.bufferLength = 0; // number of bytes in buffer\n        this.bytesHashed = 0; // number of total bytes hashed\n        this.finished = false; // indicates whether the hash was finalized\n        this.reset();\n    }\n    // Resets hash state making it possible\n    // to re-use this instance to hash other data.\n    Hash.prototype.reset = function () {\n        this.state[0] = 0x6a09e667;\n        this.state[1] = 0xbb67ae85;\n        this.state[2] = 0x3c6ef372;\n        this.state[3] = 0xa54ff53a;\n        this.state[4] = 0x510e527f;\n        this.state[5] = 0x9b05688c;\n        this.state[6] = 0x1f83d9ab;\n        this.state[7] = 0x5be0cd19;\n        this.bufferLength = 0;\n        this.bytesHashed = 0;\n        this.finished = false;\n        return this;\n    };\n    // Cleans internal buffers and re-initializes hash state.\n    Hash.prototype.clean = function () {\n        for (var i = 0; i < this.buffer.length; i++) {\n            this.buffer[i] = 0;\n        }\n        for (var i = 0; i < this.temp.length; i++) {\n            this.temp[i] = 0;\n        }\n        this.reset();\n    };\n    // Updates hash state with the given data.\n    //\n    // Optionally, length of the data can be specified to hash\n    // fewer bytes than data.length.\n    //\n    // Throws error when trying to update already finalized hash:\n    // instance must be reset to use it again.\n    Hash.prototype.update = function (data, dataLength) {\n        if (dataLength === void 0) { dataLength = data.length; }\n        if (this.finished) {\n            throw new Error(\"SHA256: can't update because hash was finished.\");\n        }\n        var dataPos = 0;\n        this.bytesHashed += dataLength;\n        if (this.bufferLength > 0) {\n            while (this.bufferLength < 64 && dataLength > 0) {\n                this.buffer[this.bufferLength++] = data[dataPos++];\n                dataLength--;\n            }\n            if (this.bufferLength === 64) {\n                hashBlocks(this.temp, this.state, this.buffer, 0, 64);\n                this.bufferLength = 0;\n            }\n        }\n        if (dataLength >= 64) {\n            dataPos = hashBlocks(this.temp, this.state, data, dataPos, dataLength);\n            dataLength %= 64;\n        }\n        while (dataLength > 0) {\n            this.buffer[this.bufferLength++] = data[dataPos++];\n            dataLength--;\n        }\n        return this;\n    };\n    // Finalizes hash state and puts hash into out.\n    //\n    // If hash was already finalized, puts the same value.\n    Hash.prototype.finish = function (out) {\n        if (!this.finished) {\n            var bytesHashed = this.bytesHashed;\n            var left = this.bufferLength;\n            var bitLenHi = (bytesHashed / 0x20000000) | 0;\n            var bitLenLo = bytesHashed << 3;\n            var padLength = (bytesHashed % 64 < 56) ? 64 : 128;\n            this.buffer[left] = 0x80;\n            for (var i = left + 1; i < padLength - 8; i++) {\n                this.buffer[i] = 0;\n            }\n            this.buffer[padLength - 8] = (bitLenHi >>> 24) & 0xff;\n            this.buffer[padLength - 7] = (bitLenHi >>> 16) & 0xff;\n            this.buffer[padLength - 6] = (bitLenHi >>> 8) & 0xff;\n            this.buffer[padLength - 5] = (bitLenHi >>> 0) & 0xff;\n            this.buffer[padLength - 4] = (bitLenLo >>> 24) & 0xff;\n            this.buffer[padLength - 3] = (bitLenLo >>> 16) & 0xff;\n            this.buffer[padLength - 2] = (bitLenLo >>> 8) & 0xff;\n            this.buffer[padLength - 1] = (bitLenLo >>> 0) & 0xff;\n            hashBlocks(this.temp, this.state, this.buffer, 0, padLength);\n            this.finished = true;\n        }\n        for (var i = 0; i < 8; i++) {\n            out[i * 4 + 0] = (this.state[i] >>> 24) & 0xff;\n            out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n            out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n            out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n        }\n        return this;\n    };\n    // Returns the final hash digest.\n    Hash.prototype.digest = function () {\n        var out = new Uint8Array(this.digestLength);\n        this.finish(out);\n        return out;\n    };\n    // Internal function for use in HMAC for optimization.\n    Hash.prototype._saveState = function (out) {\n        for (var i = 0; i < this.state.length; i++) {\n            out[i] = this.state[i];\n        }\n    };\n    // Internal function for use in HMAC for optimization.\n    Hash.prototype._restoreState = function (from, bytesHashed) {\n        for (var i = 0; i < this.state.length; i++) {\n            this.state[i] = from[i];\n        }\n        this.bytesHashed = bytesHashed;\n        this.finished = false;\n        this.bufferLength = 0;\n    };\n    return Hash;\n}());\nexports.Hash = Hash;\n// HMAC implements HMAC-SHA256 message authentication algorithm.\nvar HMAC = /** @class */ (function () {\n    function HMAC(key) {\n        this.inner = new Hash();\n        this.outer = new Hash();\n        this.blockSize = this.inner.blockSize;\n        this.digestLength = this.inner.digestLength;\n        var pad = new Uint8Array(this.blockSize);\n        if (key.length > this.blockSize) {\n            (new Hash()).update(key).finish(pad).clean();\n        }\n        else {\n            for (var i = 0; i < key.length; i++) {\n                pad[i] = key[i];\n            }\n        }\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] ^= 0x36;\n        }\n        this.inner.update(pad);\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] ^= 0x36 ^ 0x5c;\n        }\n        this.outer.update(pad);\n        this.istate = new Uint32Array(8);\n        this.ostate = new Uint32Array(8);\n        this.inner._saveState(this.istate);\n        this.outer._saveState(this.ostate);\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] = 0;\n        }\n    }\n    // Returns HMAC state to the state initialized with key\n    // to make it possible to run HMAC over the other data with the same\n    // key without creating a new instance.\n    HMAC.prototype.reset = function () {\n        this.inner._restoreState(this.istate, this.inner.blockSize);\n        this.outer._restoreState(this.ostate, this.outer.blockSize);\n        return this;\n    };\n    // Cleans HMAC state.\n    HMAC.prototype.clean = function () {\n        for (var i = 0; i < this.istate.length; i++) {\n            this.ostate[i] = this.istate[i] = 0;\n        }\n        this.inner.clean();\n        this.outer.clean();\n    };\n    // Updates state with provided data.\n    HMAC.prototype.update = function (data) {\n        this.inner.update(data);\n        return this;\n    };\n    // Finalizes HMAC and puts the result in out.\n    HMAC.prototype.finish = function (out) {\n        if (this.outer.finished) {\n            this.outer.finish(out);\n        }\n        else {\n            this.inner.finish(out);\n            this.outer.update(out, this.digestLength).finish(out);\n        }\n        return this;\n    };\n    // Returns message authentication code.\n    HMAC.prototype.digest = function () {\n        var out = new Uint8Array(this.digestLength);\n        this.finish(out);\n        return out;\n    };\n    return HMAC;\n}());\nexports.HMAC = HMAC;\n// Returns SHA256 hash of data.\nfunction hash(data) {\n    var h = (new Hash()).update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.hash = hash;\n// Function hash is both available as module.hash and as default export.\nexports[\"default\"] = hash;\n// Returns HMAC-SHA256 of data under the key.\nfunction hmac(key, data) {\n    var h = (new HMAC(key)).update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.hmac = hmac;\n// Fills hkdf buffer like this:\n// T(1) = HMAC-Hash(PRK, T(0) | info | 0x01)\nfunction fillBuffer(buffer, hmac, info, counter) {\n    // Counter is a byte value: check if it overflowed.\n    var num = counter[0];\n    if (num === 0) {\n        throw new Error(\"hkdf: cannot expand more\");\n    }\n    // Prepare HMAC instance for new data with old key.\n    hmac.reset();\n    // Hash in previous output if it was generated\n    // (i.e. counter is greater than 1).\n    if (num > 1) {\n        hmac.update(buffer);\n    }\n    // Hash in info if it exists.\n    if (info) {\n        hmac.update(info);\n    }\n    // Hash in the counter.\n    hmac.update(counter);\n    // Output result to buffer and clean HMAC instance.\n    hmac.finish(buffer);\n    // Increment counter inside typed array, this works properly.\n    counter[0]++;\n}\nvar hkdfSalt = new Uint8Array(exports.digestLength); // Filled with zeroes.\nfunction hkdf(key, salt, info, length) {\n    if (salt === void 0) { salt = hkdfSalt; }\n    if (length === void 0) { length = 32; }\n    var counter = new Uint8Array([1]);\n    // HKDF-Extract uses salt as HMAC key, and key as data.\n    var okm = hmac(salt, key);\n    // Initialize HMAC for expanding with extracted key.\n    // Ensure no collisions with `hmac` function.\n    var hmac_ = new HMAC(okm);\n    // Allocate buffer.\n    var buffer = new Uint8Array(hmac_.digestLength);\n    var bufpos = buffer.length;\n    var out = new Uint8Array(length);\n    for (var i = 0; i < length; i++) {\n        if (bufpos === buffer.length) {\n            fillBuffer(buffer, hmac_, info, counter);\n            bufpos = 0;\n        }\n        out[i] = buffer[bufpos++];\n    }\n    hmac_.clean();\n    buffer.fill(0);\n    counter.fill(0);\n    return out;\n}\nexports.hkdf = hkdf;\n// Derives a key from password and salt using PBKDF2-HMAC-SHA256\n// with the given number of iterations.\n//\n// The number of bytes returned is equal to dkLen.\n//\n// (For better security, avoid dkLen greater than hash length - 32 bytes).\nfunction pbkdf2(password, salt, iterations, dkLen) {\n    var prf = new HMAC(password);\n    var len = prf.digestLength;\n    var ctr = new Uint8Array(4);\n    var t = new Uint8Array(len);\n    var u = new Uint8Array(len);\n    var dk = new Uint8Array(dkLen);\n    for (var i = 0; i * len < dkLen; i++) {\n        var c = i + 1;\n        ctr[0] = (c >>> 24) & 0xff;\n        ctr[1] = (c >>> 16) & 0xff;\n        ctr[2] = (c >>> 8) & 0xff;\n        ctr[3] = (c >>> 0) & 0xff;\n        prf.reset();\n        prf.update(salt);\n        prf.update(ctr);\n        prf.finish(u);\n        for (var j = 0; j < len; j++) {\n            t[j] = u[j];\n        }\n        for (var j = 2; j <= iterations; j++) {\n            prf.reset();\n            prf.update(u).finish(u);\n            for (var k = 0; k < len; k++) {\n                t[k] ^= u[k];\n            }\n        }\n        for (var j = 0; j < len && i * len + j < dkLen; j++) {\n            dk[i * len + j] = t[j];\n        }\n    }\n    for (var i = 0; i < len; i++) {\n        t[i] = u[i] = 0;\n    }\n    for (var i = 0; i < 4; i++) {\n        ctr[i] = 0;\n    }\n    prf.clean();\n    return dk;\n}\nexports.pbkdf2 = pbkdf2;\n});\n","unable to read source [project]/node_modules/standardwebhooks/src/index.ts","function message(msg, actual, ...types) {\n    types = types.filter(Boolean);\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor?.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexport const invalidKeyInput = (actual, ...types) => message('Key must be ', actual, ...types);\nexport const withAlg = (alg, actual, ...types) => message(`Key for the ${alg} algorithm must be `, actual, ...types);\n","function __classPrivateFieldSet(receiver, state, value, kind, f) {\n    if (kind === \"m\")\n        throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f)\n        throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n        throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? (f.value = value) : state.set(receiver, value), value;\n}\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\n    if (kind === \"a\" && !f)\n        throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver))\n        throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nexport { __classPrivateFieldSet, __classPrivateFieldGet };\n","const isObjectLike = (value) => typeof value === 'object' && value !== null;\nexport function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n","const unusable = (name, prop = 'algorithm.name') => new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\nconst isAlgorithm = (algorithm, name) => algorithm.name === name;\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usage) {\n    if (usage && !key.usages.includes(usage)) {\n        throw new TypeError(`CryptoKey does not support this operation, its usages must include ${usage}.`);\n    }\n}\nexport function checkSigCryptoKey(key, alg, usage) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'Ed25519':\n        case 'EdDSA': {\n            if (!isAlgorithm(key.algorithm, 'Ed25519'))\n                throw unusable('Ed25519');\n            break;\n        }\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87': {\n            if (!isAlgorithm(key.algorithm, alg))\n                throw unusable(alg);\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usage);\n}\nexport function checkEncCryptoKey(key, alg, usage) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                    break;\n                default:\n                    throw unusable('ECDH or X25519');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usage);\n}\n","export function validateAlgorithms(option, algorithms) {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n}\n","export function encodeBase64(input) {\n    if (Uint8Array.prototype.toBase64) {\n        return input.toBase64();\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < input.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n}\nexport function decodeBase64(encoded) {\n    if (Uint8Array.fromBase64) {\n        return Uint8Array.fromBase64(encoded);\n    }\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n}\n","export class JOSEError extends Error {\n    static code = 'ERR_JOSE_GENERIC';\n    code = 'ERR_JOSE_GENERIC';\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nexport class JWTClaimValidationFailed extends JOSEError {\n    static code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    claim;\n    reason;\n    payload;\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nexport class JWTExpired extends JOSEError {\n    static code = 'ERR_JWT_EXPIRED';\n    code = 'ERR_JWT_EXPIRED';\n    claim;\n    reason;\n    payload;\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nexport class JOSEAlgNotAllowed extends JOSEError {\n    static code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n}\nexport class JOSENotSupported extends JOSEError {\n    static code = 'ERR_JOSE_NOT_SUPPORTED';\n    code = 'ERR_JOSE_NOT_SUPPORTED';\n}\nexport class JWEDecryptionFailed extends JOSEError {\n    static code = 'ERR_JWE_DECRYPTION_FAILED';\n    code = 'ERR_JWE_DECRYPTION_FAILED';\n    constructor(message = 'decryption operation failed', options) {\n        super(message, options);\n    }\n}\nexport class JWEInvalid extends JOSEError {\n    static code = 'ERR_JWE_INVALID';\n    code = 'ERR_JWE_INVALID';\n}\nexport class JWSInvalid extends JOSEError {\n    static code = 'ERR_JWS_INVALID';\n    code = 'ERR_JWS_INVALID';\n}\nexport class JWTInvalid extends JOSEError {\n    static code = 'ERR_JWT_INVALID';\n    code = 'ERR_JWT_INVALID';\n}\nexport class JWKInvalid extends JOSEError {\n    static code = 'ERR_JWK_INVALID';\n    code = 'ERR_JWK_INVALID';\n}\nexport class JWKSInvalid extends JOSEError {\n    static code = 'ERR_JWKS_INVALID';\n    code = 'ERR_JWKS_INVALID';\n}\nexport class JWKSNoMatchingKey extends JOSEError {\n    static code = 'ERR_JWKS_NO_MATCHING_KEY';\n    code = 'ERR_JWKS_NO_MATCHING_KEY';\n    constructor(message = 'no applicable key found in the JSON Web Key Set', options) {\n        super(message, options);\n    }\n}\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    [Symbol.asyncIterator];\n    static code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    constructor(message = 'multiple matching keys found in the JSON Web Key Set', options) {\n        super(message, options);\n    }\n}\nexport class JWKSTimeout extends JOSEError {\n    static code = 'ERR_JWKS_TIMEOUT';\n    code = 'ERR_JWKS_TIMEOUT';\n    constructor(message = 'request timed out', options) {\n        super(message, options);\n    }\n}\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    static code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    constructor(message = 'signature verification failed', options) {\n        super(message, options);\n    }\n}\n","export function checkKeyLength(alg, key) {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n}\n","export const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function encode(string) {\n    const bytes = new Uint8Array(string.length);\n    for (let i = 0; i < string.length; i++) {\n        const code = string.charCodeAt(i);\n        if (code > 127) {\n            throw new TypeError('non-ASCII string encountered in encode()');\n        }\n        bytes[i] = code;\n    }\n    return bytes;\n}\n","export function isDisjoint(...headers) {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n}\n","export function assertCryptoKey(key) {\n    if (!isCryptoKey(key)) {\n        throw new Error('CryptoKey instance expected');\n    }\n}\nexport const isCryptoKey = (key) => {\n    if (key?.[Symbol.toStringTag] === 'CryptoKey')\n        return true;\n    try {\n        return key instanceof CryptoKey;\n    }\n    catch {\n        return false;\n    }\n};\nexport const isKeyObject = (key) => key?.[Symbol.toStringTag] === 'KeyObject';\nexport const isKeyLike = (key) => isCryptoKey(key) || isKeyObject(key);\n","export const VERSION = '0.0.3'; // x-release-please-version\n","import { JOSENotSupported } from '../util/errors.js';\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'AKP': {\n            switch (jwk.alg) {\n                case 'ML-DSA-44':\n                case 'ML-DSA-65':\n                case 'ML-DSA-87':\n                    algorithm = { name: jwk.alg };\n                    keyUsages = jwk.priv ? ['sign'] : ['verify'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.slice(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'OKP': {\n            switch (jwk.alg) {\n                case 'Ed25519':\n                case 'EdDSA':\n                    algorithm = { name: 'Ed25519' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\nexport async function jwkToKey(jwk) {\n    if (!jwk.alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const keyData = { ...jwk };\n    if (keyData.kty !== 'AKP') {\n        delete keyData.alg;\n    }\n    delete keyData.use;\n    return crypto.subtle.importKey('jwk', keyData, algorithm, jwk.ext ?? (jwk.d || jwk.priv ? false : true), jwk.key_ops ?? keyUsages);\n}\n","import { importJWK, jwtVerify } from 'jose';\nimport type { Whop } from '../client';\n\nconst USER_TOKEN_HEADER_NAME = 'x-whop-user-token';\nconst USER_TOKEN_VERIFICATION_KEY =\n  '{\"kty\":\"EC\",\"x\":\"rz8a8vxvexHC0TLT91g7llOdDOsNuYiGEfic4Qhni-E\",\"y\":\"zH0QblKYToexd5PEIMGXPVJS9AB5smKrW4S_TbiXrOs\",\"crv\":\"P-256\"}';\n\nexport interface GetUserTokenOptions {\n  headerName?: string | null | undefined;\n}\n\ntype GetUserTokenInput = string | Headers | Request | null | undefined;\n\nexport function getUserToken(token: string, options?: GetUserTokenOptions): string;\nexport function getUserToken(\n  tokenOrHeadersOrRequest: GetUserTokenInput,\n  options?: GetUserTokenOptions,\n): string | null;\nexport function getUserToken(\n  tokenOrHeadersOrRequest: GetUserTokenInput,\n  options?: GetUserTokenOptions,\n): string | null {\n  const headerName = options?.headerName ?? USER_TOKEN_HEADER_NAME;\n  if (typeof tokenOrHeadersOrRequest === 'string') return tokenOrHeadersOrRequest;\n\n  if (tokenOrHeadersOrRequest instanceof Headers) return tokenOrHeadersOrRequest.get(headerName);\n\n  if (tokenOrHeadersOrRequest instanceof Request) return tokenOrHeadersOrRequest.headers.get(headerName);\n\n  return null;\n}\n\nexport interface UserTokenPayload {\n  /// The user id of the user who is making the request.\n  userId: string;\n\n  /// The app id of the app that is making the request.\n  /// This will always be the same as the app id passed in the options.\n  appId: string;\n}\n\nexport interface VerifyUserTokenOptions<DontThrow extends boolean = false> {\n  /// This is the app id of your app. You can find it in the app settings dashboard.\n  appId: string;\n\n  /// The public key used to verify the user token. You don't need to provide this by default.\n  publicKey?: string;\n\n  /// If true, the function will instead return null if the user token is invalid.\n  /// Otherwise, it will throw an error. Defaults to `false`, meaning on validation failure, an error will be thrown.\n  dontThrow?: DontThrow;\n\n  /// The header name to use to get the user token. Defaults to `x-whop-user-token`.\n  headerName?: string | null | undefined;\n}\n\nexport function makeUserTokenVerifierFromSdk(client: Whop) {\n  const baseOptions: VerifyUserTokenOptions<false> = {\n    appId: client.appID,\n  };\n  return async function verifyUserToken<DT extends boolean = false>(\n    tokenOrHeadersOrRequest: string | Headers | Request | null | undefined,\n    options?: Partial<VerifyUserTokenOptions<DT>>,\n  ) {\n    return await internalVerifyUserToken<DT>(tokenOrHeadersOrRequest, {\n      ...baseOptions,\n      ...options,\n    } as VerifyUserTokenOptions<DT>);\n  };\n}\n\nexport function verifyUserToken<DontThrow extends boolean = false>(\n  tokenOrHeadersOrRequest: string | Headers | Request | null | undefined,\n  overrideOptions?: Partial<VerifyUserTokenOptions<DontThrow>>,\n) {\n  return internalVerifyUserToken<DontThrow>(tokenOrHeadersOrRequest, {\n    ...overrideOptions,\n  } as VerifyUserTokenOptions<DontThrow>);\n}\n\nasync function internalVerifyUserToken<DontThrow extends boolean = false>(\n  tokenOrHeadersOrRequest: string | Headers | Request | null | undefined,\n  options: Partial<VerifyUserTokenOptions<DontThrow>>,\n): Promise<Promise<DontThrow extends true ? UserTokenPayload | null : UserTokenPayload>> {\n  try {\n    const tokenString = getUserToken(tokenOrHeadersOrRequest, {\n      headerName: options?.headerName,\n    });\n\n    if (!tokenString) {\n      throw new Error(\n        'Whop user token not found. If you are the app developer, ensure you are developing in the whop.com iframe and have the dev proxy enabled.',\n      );\n    }\n\n    const jwkString = options.publicKey ?? USER_TOKEN_VERIFICATION_KEY;\n    const key = await importJWK(JSON.parse(jwkString), 'ES256').catch(() => {\n      throw new Error('Invalid public key provided to verifyUserToken');\n    });\n    const token = await jwtVerify(tokenString, key, {\n      issuer: 'urn:whopcom:exp-proxy',\n    }).catch((_e: any) => {\n      throw new Error('Invalid user token provided to verifyUserToken');\n    });\n    if (!(token.payload.sub && token.payload.aud) || Array.isArray(token.payload.aud)) {\n      throw new Error('Invalid user token provided to verifyUserToken');\n    }\n    if (options.appId && token.payload.aud !== options.appId)\n      throw new Error('Invalid app id provided to verifyUserToken');\n    return {\n      appId: token.payload.aud,\n      userId: token.payload.sub,\n    };\n  } catch (e) {\n    if (options.dontThrow) {\n      return null as DontThrow extends true ? UserTokenPayload | null : never;\n    }\n\n    throw e;\n  }\n}\n","import { isObject } from './is_object.js';\nexport const isJWK = (key) => isObject(key) && typeof key.kty === 'string';\nexport const isPrivateJWK = (key) => key.kty !== 'oct' &&\n    ((key.kty === 'AKP' && typeof key.priv === 'string') || typeof key.d === 'string');\nexport const isPublicJWK = (key) => key.kty !== 'oct' && key.d === undefined && key.priv === undefined;\nexport const isSecretJWK = (key) => key.kty === 'oct' && typeof key.k === 'string';\n","import { JOSENotSupported, JWEInvalid, JWSInvalid } from '../util/errors.js';\nexport function validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader?.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\n","import { JOSENotSupported } from '../util/errors.js';\nexport function subtleAlgorithm(alg, algorithm) {\n    const hash = `SHA-${alg.slice(-3)}`;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            return { hash, name: 'HMAC' };\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { hash, name: 'RSA-PSS', saltLength: parseInt(alg.slice(-3), 10) >> 3 };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { hash, name: 'RSASSA-PKCS1-v1_5' };\n        case 'ES256':\n        case 'ES384':\n        case 'ES512':\n            return { hash, name: 'ECDSA', namedCurve: algorithm.namedCurve };\n        case 'Ed25519':\n        case 'EdDSA':\n            return { name: 'Ed25519' };\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            return { name: alg };\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n/**\n * This module provides internal shims and utility functions for environments where certain Node.js or global types may not be available.\n *\n * These are used to ensure we can provide a consistent behaviour between different JavaScript environments and good error\n * messages in cases where an environment isn't fully supported.\n */\n\nimport type { Fetch } from './builtin-types';\nimport type { ReadableStream } from './shim-types';\n\nexport function getDefaultFetch(): Fetch {\n  if (typeof fetch !== 'undefined') {\n    return fetch as any;\n  }\n\n  throw new Error(\n    '`fetch` is not defined as a global; Either pass `fetch` to the client, `new Whop({ fetch })` or polyfill the global, `globalThis.fetch = fetch`',\n  );\n}\n\ntype ReadableStreamArgs = ConstructorParameters<typeof ReadableStream>;\n\nexport function makeReadableStream(...args: ReadableStreamArgs): ReadableStream {\n  const ReadableStream = (globalThis as any).ReadableStream;\n  if (typeof ReadableStream === 'undefined') {\n    // Note: All of the platforms / runtimes we officially support already define\n    // `ReadableStream` as a global, so this should only ever be hit on unsupported runtimes.\n    throw new Error(\n      '`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`',\n    );\n  }\n\n  return new ReadableStream(...args);\n}\n\nexport function ReadableStreamFrom<T>(iterable: Iterable<T> | AsyncIterable<T>): ReadableStream<T> {\n  let iter: AsyncIterator<T> | Iterator<T> =\n    Symbol.asyncIterator in iterable ? iterable[Symbol.asyncIterator]() : iterable[Symbol.iterator]();\n\n  return makeReadableStream({\n    start() {},\n    async pull(controller: any) {\n      const { done, value } = await iter.next();\n      if (done) {\n        controller.close();\n      } else {\n        controller.enqueue(value);\n      }\n    },\n    async cancel() {\n      await iter.return?.();\n    },\n  });\n}\n\n/**\n * Most browsers don't yet have async iterable support for ReadableStream,\n * and Node has a very different way of reading bytes from its \"ReadableStream\".\n *\n * This polyfill was pulled from https://github.com/MattiasBuelens/web-streams-polyfill/pull/122#issuecomment-1627354490\n */\nexport function ReadableStreamToAsyncIterable<T>(stream: any): AsyncIterableIterator<T> {\n  if (stream[Symbol.asyncIterator]) return stream;\n\n  const reader = stream.getReader();\n  return {\n    async next() {\n      try {\n        const result = await reader.read();\n        if (result?.done) reader.releaseLock(); // release lock when stream becomes closed\n        return result;\n      } catch (e) {\n        reader.releaseLock(); // release lock when stream becomes errored\n        throw e;\n      }\n    },\n    async return() {\n      const cancelPromise = reader.cancel();\n      reader.releaseLock();\n      await cancelPromise;\n      return { done: true, value: undefined };\n    },\n    [Symbol.asyncIterator]() {\n      return this;\n    },\n  };\n}\n\n/**\n * Cancels a ReadableStream we don't need to consume.\n * See https://undici.nodejs.org/#/?id=garbage-collection\n */\nexport async function CancelReadableStream(stream: any): Promise<void> {\n  if (stream === null || typeof stream !== 'object') return;\n\n  if (stream[Symbol.asyncIterator]) {\n    await stream[Symbol.asyncIterator]().return?.();\n    return;\n  }\n\n  const reader = stream.getReader();\n  const cancelPromise = reader.cancel();\n  reader.releaseLock();\n  await cancelPromise;\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { NullableHeaders } from './headers';\n\nimport type { BodyInit } from './builtin-types';\nimport type { HTTPMethod, MergedRequestInit } from './types';\nimport { type HeadersLike } from './headers';\n\nexport type FinalRequestOptions = RequestOptions & { method: HTTPMethod; path: string };\n\nexport type RequestOptions = {\n  /**\n   * The HTTP method for the request (e.g., 'get', 'post', 'put', 'delete').\n   */\n  method?: HTTPMethod;\n\n  /**\n   * The URL path for the request.\n   *\n   * @example \"/v1/foo\"\n   */\n  path?: string;\n\n  /**\n   * Query parameters to include in the request URL.\n   */\n  query?: object | undefined | null;\n\n  /**\n   * The request body. Can be a string, JSON object, FormData, or other supported types.\n   */\n  body?: unknown;\n\n  /**\n   * HTTP headers to include with the request. Can be a Headers object, plain object, or array of tuples.\n   */\n  headers?: HeadersLike;\n\n  /**\n   * The maximum number of times that the client will retry a request in case of a\n   * temporary failure, like a network error or a 5XX error from the server.\n   *\n   * @default 2\n   */\n  maxRetries?: number;\n\n  stream?: boolean | undefined;\n\n  /**\n   * The maximum amount of time (in milliseconds) that the client should wait for a response\n   * from the server before timing out a single request.\n   *\n   * @unit milliseconds\n   */\n  timeout?: number;\n\n  /**\n   * Additional `RequestInit` options to be passed to the underlying `fetch` call.\n   * These options will be merged with the client's default fetch options.\n   */\n  fetchOptions?: MergedRequestInit;\n\n  /**\n   * An AbortSignal that can be used to cancel the request.\n   */\n  signal?: AbortSignal | undefined | null;\n\n  /**\n   * A unique key for this request to enable idempotency.\n   */\n  idempotencyKey?: string;\n\n  /**\n   * Override the default base URL for this specific request.\n   */\n  defaultBaseURL?: string | undefined;\n\n  __binaryResponse?: boolean | undefined;\n};\n\nexport type EncodedContent = { bodyHeaders: HeadersLike; body: BodyInit };\nexport type RequestEncoder = (request: { headers: NullableHeaders; body: unknown }) => EncodedContent;\n\nexport const FallbackEncoder: RequestEncoder = ({ headers, body }) => {\n  return {\n    bodyHeaders: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify(body),\n  };\n};\n","import { encode, is_buffer, maybe_map, has } from './utils';\nimport { default_format, default_formatter, formatters } from './formats';\nimport type { NonNullableProperties, StringifyOptions } from './types';\nimport { isArray } from '../utils/values';\n\nconst array_prefix_generators = {\n  brackets(prefix: PropertyKey) {\n    return String(prefix) + '[]';\n  },\n  comma: 'comma',\n  indices(prefix: PropertyKey, key: string) {\n    return String(prefix) + '[' + key + ']';\n  },\n  repeat(prefix: PropertyKey) {\n    return String(prefix);\n  },\n};\n\nconst push_to_array = function (arr: any[], value_or_array: any) {\n  Array.prototype.push.apply(arr, isArray(value_or_array) ? value_or_array : [value_or_array]);\n};\n\nlet toISOString;\n\nconst defaults = {\n  addQueryPrefix: false,\n  allowDots: false,\n  allowEmptyArrays: false,\n  arrayFormat: 'indices',\n  charset: 'utf-8',\n  charsetSentinel: false,\n  delimiter: '&',\n  encode: true,\n  encodeDotInKeys: false,\n  encoder: encode,\n  encodeValuesOnly: false,\n  format: default_format,\n  formatter: default_formatter,\n  /** @deprecated */\n  indices: false,\n  serializeDate(date) {\n    return (toISOString ??= Function.prototype.call.bind(Date.prototype.toISOString))(date);\n  },\n  skipNulls: false,\n  strictNullHandling: false,\n} as NonNullableProperties<StringifyOptions & { formatter: (typeof formatters)['RFC1738'] }>;\n\nfunction is_non_nullish_primitive(v: unknown): v is string | number | boolean | symbol | bigint {\n  return (\n    typeof v === 'string' ||\n    typeof v === 'number' ||\n    typeof v === 'boolean' ||\n    typeof v === 'symbol' ||\n    typeof v === 'bigint'\n  );\n}\n\nconst sentinel = {};\n\nfunction inner_stringify(\n  object: any,\n  prefix: PropertyKey,\n  generateArrayPrefix: StringifyOptions['arrayFormat'] | ((prefix: string, key: string) => string),\n  commaRoundTrip: boolean,\n  allowEmptyArrays: boolean,\n  strictNullHandling: boolean,\n  skipNulls: boolean,\n  encodeDotInKeys: boolean,\n  encoder: StringifyOptions['encoder'],\n  filter: StringifyOptions['filter'],\n  sort: StringifyOptions['sort'],\n  allowDots: StringifyOptions['allowDots'],\n  serializeDate: StringifyOptions['serializeDate'],\n  format: StringifyOptions['format'],\n  formatter: StringifyOptions['formatter'],\n  encodeValuesOnly: boolean,\n  charset: StringifyOptions['charset'],\n  sideChannel: WeakMap<any, any>,\n) {\n  let obj = object;\n\n  let tmp_sc = sideChannel;\n  let step = 0;\n  let find_flag = false;\n  while ((tmp_sc = tmp_sc.get(sentinel)) !== void undefined && !find_flag) {\n    // Where object last appeared in the ref tree\n    const pos = tmp_sc.get(object);\n    step += 1;\n    if (typeof pos !== 'undefined') {\n      if (pos === step) {\n        throw new RangeError('Cyclic object value');\n      } else {\n        find_flag = true; // Break while\n      }\n    }\n    if (typeof tmp_sc.get(sentinel) === 'undefined') {\n      step = 0;\n    }\n  }\n\n  if (typeof filter === 'function') {\n    obj = filter(prefix, obj);\n  } else if (obj instanceof Date) {\n    obj = serializeDate?.(obj);\n  } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n    obj = maybe_map(obj, function (value) {\n      if (value instanceof Date) {\n        return serializeDate?.(value);\n      }\n      return value;\n    });\n  }\n\n  if (obj === null) {\n    if (strictNullHandling) {\n      return encoder && !encodeValuesOnly ?\n          // @ts-expect-error\n          encoder(prefix, defaults.encoder, charset, 'key', format)\n        : prefix;\n    }\n\n    obj = '';\n  }\n\n  if (is_non_nullish_primitive(obj) || is_buffer(obj)) {\n    if (encoder) {\n      const key_value =\n        encodeValuesOnly ? prefix\n          // @ts-expect-error\n        : encoder(prefix, defaults.encoder, charset, 'key', format);\n      return [\n        formatter?.(key_value) +\n          '=' +\n          // @ts-expect-error\n          formatter?.(encoder(obj, defaults.encoder, charset, 'value', format)),\n      ];\n    }\n    return [formatter?.(prefix) + '=' + formatter?.(String(obj))];\n  }\n\n  const values: string[] = [];\n\n  if (typeof obj === 'undefined') {\n    return values;\n  }\n\n  let obj_keys;\n  if (generateArrayPrefix === 'comma' && isArray(obj)) {\n    // we need to join elements in\n    if (encodeValuesOnly && encoder) {\n      // @ts-expect-error values only\n      obj = maybe_map(obj, encoder);\n    }\n    obj_keys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n  } else if (isArray(filter)) {\n    obj_keys = filter;\n  } else {\n    const keys = Object.keys(obj);\n    obj_keys = sort ? keys.sort(sort) : keys;\n  }\n\n  const encoded_prefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n\n  const adjusted_prefix =\n    commaRoundTrip && isArray(obj) && obj.length === 1 ? encoded_prefix + '[]' : encoded_prefix;\n\n  if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n    return adjusted_prefix + '[]';\n  }\n\n  for (let j = 0; j < obj_keys.length; ++j) {\n    const key = obj_keys[j];\n    const value =\n      // @ts-ignore\n      typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key as any];\n\n    if (skipNulls && value === null) {\n      continue;\n    }\n\n    // @ts-ignore\n    const encoded_key = allowDots && encodeDotInKeys ? (key as any).replace(/\\./g, '%2E') : key;\n    const key_prefix =\n      isArray(obj) ?\n        typeof generateArrayPrefix === 'function' ?\n          generateArrayPrefix(adjusted_prefix, encoded_key)\n        : adjusted_prefix\n      : adjusted_prefix + (allowDots ? '.' + encoded_key : '[' + encoded_key + ']');\n\n    sideChannel.set(object, step);\n    const valueSideChannel = new WeakMap();\n    valueSideChannel.set(sentinel, sideChannel);\n    push_to_array(\n      values,\n      inner_stringify(\n        value,\n        key_prefix,\n        generateArrayPrefix,\n        commaRoundTrip,\n        allowEmptyArrays,\n        strictNullHandling,\n        skipNulls,\n        encodeDotInKeys,\n        // @ts-ignore\n        generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n        filter,\n        sort,\n        allowDots,\n        serializeDate,\n        format,\n        formatter,\n        encodeValuesOnly,\n        charset,\n        valueSideChannel,\n      ),\n    );\n  }\n\n  return values;\n}\n\nfunction normalize_stringify_options(\n  opts: StringifyOptions = defaults,\n): NonNullableProperties<Omit<StringifyOptions, 'indices'>> & { indices?: boolean } {\n  if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n    throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n  }\n\n  if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n    throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n  }\n\n  if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n    throw new TypeError('Encoder has to be a function.');\n  }\n\n  const charset = opts.charset || defaults.charset;\n  if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n    throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n  }\n\n  let format = default_format;\n  if (typeof opts.format !== 'undefined') {\n    if (!has(formatters, opts.format)) {\n      throw new TypeError('Unknown format option provided.');\n    }\n    format = opts.format;\n  }\n  const formatter = formatters[format];\n\n  let filter = defaults.filter;\n  if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n    filter = opts.filter;\n  }\n\n  let arrayFormat: StringifyOptions['arrayFormat'];\n  if (opts.arrayFormat && opts.arrayFormat in array_prefix_generators) {\n    arrayFormat = opts.arrayFormat;\n  } else if ('indices' in opts) {\n    arrayFormat = opts.indices ? 'indices' : 'repeat';\n  } else {\n    arrayFormat = defaults.arrayFormat;\n  }\n\n  if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n    throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n  }\n\n  const allowDots =\n    typeof opts.allowDots === 'undefined' ?\n      !!opts.encodeDotInKeys === true ?\n        true\n      : defaults.allowDots\n    : !!opts.allowDots;\n\n  return {\n    addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n    // @ts-ignore\n    allowDots: allowDots,\n    allowEmptyArrays:\n      typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n    arrayFormat: arrayFormat,\n    charset: charset,\n    charsetSentinel:\n      typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n    commaRoundTrip: !!opts.commaRoundTrip,\n    delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n    encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n    encodeDotInKeys:\n      typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n    encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n    encodeValuesOnly:\n      typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n    filter: filter,\n    format: format,\n    formatter: formatter,\n    serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n    skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n    // @ts-ignore\n    sort: typeof opts.sort === 'function' ? opts.sort : null,\n    strictNullHandling:\n      typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n  };\n}\n\nexport function stringify(object: any, opts: StringifyOptions = {}) {\n  let obj = object;\n  const options = normalize_stringify_options(opts);\n\n  let obj_keys: PropertyKey[] | undefined;\n  let filter;\n\n  if (typeof options.filter === 'function') {\n    filter = options.filter;\n    obj = filter('', obj);\n  } else if (isArray(options.filter)) {\n    filter = options.filter;\n    obj_keys = filter;\n  }\n\n  const keys: string[] = [];\n\n  if (typeof obj !== 'object' || obj === null) {\n    return '';\n  }\n\n  const generateArrayPrefix = array_prefix_generators[options.arrayFormat];\n  const commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n  if (!obj_keys) {\n    obj_keys = Object.keys(obj);\n  }\n\n  if (options.sort) {\n    obj_keys.sort(options.sort);\n  }\n\n  const sideChannel = new WeakMap();\n  for (let i = 0; i < obj_keys.length; ++i) {\n    const key = obj_keys[i]!;\n\n    if (options.skipNulls && obj[key] === null) {\n      continue;\n    }\n    push_to_array(\n      keys,\n      inner_stringify(\n        obj[key],\n        key,\n        // @ts-expect-error\n        generateArrayPrefix,\n        commaRoundTrip,\n        options.allowEmptyArrays,\n        options.strictNullHandling,\n        options.skipNulls,\n        options.encodeDotInKeys,\n        options.encode ? options.encoder : null,\n        options.filter,\n        options.sort,\n        options.allowDots,\n        options.serializeDate,\n        options.format,\n        options.formatter,\n        options.encodeValuesOnly,\n        options.charset,\n        sideChannel,\n      ),\n    );\n  }\n\n  const joined = keys.join(options.delimiter);\n  let prefix = options.addQueryPrefix === true ? '?' : '';\n\n  if (options.charsetSentinel) {\n    if (options.charset === 'iso-8859-1') {\n      // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n      prefix += 'utf8=%26%2310003%3B&';\n    } else {\n      // encodeURIComponent('')\n      prefix += 'utf8=%E2%9C%93&';\n    }\n  }\n\n  return joined.length > 0 ? prefix + joined : '';\n}\n","import type { Format } from './types';\n\nexport const default_format: Format = 'RFC3986';\nexport const default_formatter = (v: PropertyKey) => String(v);\nexport const formatters: Record<Format, (str: PropertyKey) => string> = {\n  RFC1738: (v: PropertyKey) => String(v).replace(/%20/g, '+'),\n  RFC3986: default_formatter,\n};\nexport const RFC1738 = 'RFC1738';\nexport const RFC3986 = 'RFC3986';\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nexport const sleep = (ms: number) => new Promise<void>((resolve) => setTimeout(resolve, ms));\n","import { checkSigCryptoKey } from './crypto_key.js';\nimport { invalidKeyInput } from './invalid_key_input.js';\nexport async function getSigKey(alg, key, usage) {\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError(invalidKeyInput(key, 'CryptoKey', 'KeyObject', 'JSON Web Key'));\n        }\n        return crypto.subtle.importKey('raw', key, { hash: `SHA-${alg.slice(-3)}`, name: 'HMAC' }, false, [usage]);\n    }\n    checkSigCryptoKey(key, alg, usage);\n    return key;\n}\n","import { Whop } from \"@whop/sdk\";\n\nexport const whopsdk = new Whop({\n  appID: process.env.NEXT_PUBLIC_WHOP_APP_ID,\n  apiKey: process.env.WHOP_API_KEY,\n  webhookKey: btoa(process.env.WHOP_WEBHOOK_SECRET || \"\"),\n});\n","import { encoder, decoder } from '../lib/buffer_utils.js';\nimport { encodeBase64, decodeBase64 } from '../lib/base64.js';\nexport function decode(input) {\n    if (Uint8Array.fromBase64) {\n        return Uint8Array.fromBase64(typeof input === 'string' ? input : decoder.decode(input), {\n            alphabet: 'base64url',\n        });\n    }\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n}\nexport function encode(input) {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    if (Uint8Array.prototype.toBase64) {\n        return unencoded.toBase64({ alphabet: 'base64url', omitPadding: true });\n    }\n    return encodeBase64(unencoded).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nexport function isAbortError(err: unknown) {\n  return (\n    typeof err === 'object' &&\n    err !== null &&\n    // Spec-compliant fetch implementations\n    (('name' in err && (err as any).name === 'AbortError') ||\n      // Expo fetch\n      ('message' in err && String((err as any).message).includes('FetchRequestCanceledException')))\n  );\n}\n\nexport const castToError = (err: any): Error => {\n  if (err instanceof Error) return err;\n  if (typeof err === 'object' && err !== null) {\n    try {\n      if (Object.prototype.toString.call(err) === '[object Error]') {\n        // @ts-ignore - not all envs have native support for cause yet\n        const error = new Error(err.message, err.cause ? { cause: err.cause } : {});\n        if (err.stack) error.stack = err.stack;\n        // @ts-ignore - not all envs have native support for cause yet\n        if (err.cause && !error.cause) error.cause = err.cause;\n        if (err.name) error.name = err.name;\n        return error;\n      }\n    } catch {}\n    try {\n      return new Error(JSON.stringify(err));\n    } catch {}\n  }\n  return new Error(err);\n};\n","import { type RequestOptions } from './request-options';\nimport type { FilePropertyBag, Fetch } from './builtin-types';\nimport type { Whop } from '../client';\nimport { ReadableStreamFrom } from './shims';\n\nexport type BlobPart = string | ArrayBuffer | ArrayBufferView | Blob | DataView;\ntype FsReadStream = AsyncIterable<Uint8Array> & { path: string | { toString(): string } };\n\n// https://github.com/oven-sh/bun/issues/5980\ninterface BunFile extends Blob {\n  readonly name?: string | undefined;\n}\n\nexport const checkFileSupport = () => {\n  if (typeof File === 'undefined') {\n    const { process } = globalThis as any;\n    const isOldNode =\n      typeof process?.versions?.node === 'string' && parseInt(process.versions.node.split('.')) < 20;\n    throw new Error(\n      '`File` is not defined as a global, which is required for file uploads.' +\n        (isOldNode ?\n          \" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.\"\n        : ''),\n    );\n  }\n};\n\n/**\n * Typically, this is a native \"File\" class.\n *\n * We provide the {@link toFile} utility to convert a variety of objects\n * into the File class.\n *\n * For convenience, you can also pass a fetch Response, or in Node,\n * the result of fs.createReadStream().\n */\nexport type Uploadable = File | Response | FsReadStream | BunFile;\n\n/**\n * Construct a `File` instance. This is used to ensure a helpful error is thrown\n * for environments that don't define a global `File` yet.\n */\nexport function makeFile(\n  fileBits: BlobPart[],\n  fileName: string | undefined,\n  options?: FilePropertyBag,\n): File {\n  checkFileSupport();\n  return new File(fileBits as any, fileName ?? 'unknown_file', options);\n}\n\nexport function getName(value: any): string | undefined {\n  return (\n    (\n      (typeof value === 'object' &&\n        value !== null &&\n        (('name' in value && value.name && String(value.name)) ||\n          ('url' in value && value.url && String(value.url)) ||\n          ('filename' in value && value.filename && String(value.filename)) ||\n          ('path' in value && value.path && String(value.path)))) ||\n      ''\n    )\n      .split(/[\\\\/]/)\n      .pop() || undefined\n  );\n}\n\nexport const isAsyncIterable = (value: any): value is AsyncIterable<any> =>\n  value != null && typeof value === 'object' && typeof value[Symbol.asyncIterator] === 'function';\n\n/**\n * Returns a multipart/form-data request if any part of the given request body contains a File / Blob value.\n * Otherwise returns the request as is.\n */\nexport const maybeMultipartFormRequestOptions = async (\n  opts: RequestOptions,\n  fetch: Whop | Fetch,\n): Promise<RequestOptions> => {\n  if (!hasUploadableValue(opts.body)) return opts;\n\n  return { ...opts, body: await createForm(opts.body, fetch) };\n};\n\ntype MultipartFormRequestOptions = Omit<RequestOptions, 'body'> & { body: unknown };\n\nexport const multipartFormRequestOptions = async (\n  opts: MultipartFormRequestOptions,\n  fetch: Whop | Fetch,\n): Promise<RequestOptions> => {\n  return { ...opts, body: await createForm(opts.body, fetch) };\n};\n\nconst supportsFormDataMap = /* @__PURE__ */ new WeakMap<Fetch, Promise<boolean>>();\n\n/**\n * node-fetch doesn't support the global FormData object in recent node versions. Instead of sending\n * properly-encoded form data, it just stringifies the object, resulting in a request body of \"[object FormData]\".\n * This function detects if the fetch function provided supports the global FormData object to avoid\n * confusing error messages later on.\n */\nfunction supportsFormData(fetchObject: Whop | Fetch): Promise<boolean> {\n  const fetch: Fetch = typeof fetchObject === 'function' ? fetchObject : (fetchObject as any).fetch;\n  const cached = supportsFormDataMap.get(fetch);\n  if (cached) return cached;\n  const promise = (async () => {\n    try {\n      const FetchResponse = (\n        'Response' in fetch ?\n          fetch.Response\n        : (await fetch('data:,')).constructor) as typeof Response;\n      const data = new FormData();\n      if (data.toString() === (await new FetchResponse(data).text())) {\n        return false;\n      }\n      return true;\n    } catch {\n      // avoid false negatives\n      return true;\n    }\n  })();\n  supportsFormDataMap.set(fetch, promise);\n  return promise;\n}\n\nexport const createForm = async <T = Record<string, unknown>>(\n  body: T | undefined,\n  fetch: Whop | Fetch,\n): Promise<FormData> => {\n  if (!(await supportsFormData(fetch))) {\n    throw new TypeError(\n      'The provided fetch function does not support file uploads with the current global FormData class.',\n    );\n  }\n  const form = new FormData();\n  await Promise.all(Object.entries(body || {}).map(([key, value]) => addFormValue(form, key, value)));\n  return form;\n};\n\n// We check for Blob not File because Bun.File doesn't inherit from File,\n// but they both inherit from Blob and have a `name` property at runtime.\nconst isNamedBlob = (value: unknown) => value instanceof Blob && 'name' in value;\n\nconst isUploadable = (value: unknown) =>\n  typeof value === 'object' &&\n  value !== null &&\n  (value instanceof Response || isAsyncIterable(value) || isNamedBlob(value));\n\nconst hasUploadableValue = (value: unknown): boolean => {\n  if (isUploadable(value)) return true;\n  if (Array.isArray(value)) return value.some(hasUploadableValue);\n  if (value && typeof value === 'object') {\n    for (const k in value) {\n      if (hasUploadableValue((value as any)[k])) return true;\n    }\n  }\n  return false;\n};\n\nconst addFormValue = async (form: FormData, key: string, value: unknown): Promise<void> => {\n  if (value === undefined) return;\n  if (value == null) {\n    throw new TypeError(\n      `Received null for \"${key}\"; to pass null in FormData, you must use the string 'null'`,\n    );\n  }\n\n  // TODO: make nested formats configurable\n  if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n    form.append(key, String(value));\n  } else if (value instanceof Response) {\n    form.append(key, makeFile([await value.blob()], getName(value)));\n  } else if (isAsyncIterable(value)) {\n    form.append(key, makeFile([await new Response(ReadableStreamFrom(value)).blob()], getName(value)));\n  } else if (isNamedBlob(value)) {\n    form.append(key, value, getName(value));\n  } else if (Array.isArray(value)) {\n    await Promise.all(value.map((entry) => addFormValue(form, key + '[]', entry)));\n  } else if (typeof value === 'object') {\n    await Promise.all(\n      Object.entries(value).map(([name, prop]) => addFormValue(form, `${key}[${name}]`, prop)),\n    );\n  } else {\n    throw new TypeError(\n      `Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`,\n    );\n  }\n};\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport type { FinalRequestOptions } from './request-options';\nimport { type Whop } from '../client';\nimport { formatRequestDetails, loggerFor } from './utils/log';\n\nexport type APIResponseProps = {\n  response: Response;\n  options: FinalRequestOptions;\n  controller: AbortController;\n  requestLogID: string;\n  retryOfRequestLogID: string | undefined;\n  startTime: number;\n};\n\nexport async function defaultParseResponse<T>(client: Whop, props: APIResponseProps): Promise<T> {\n  const { response, requestLogID, retryOfRequestLogID, startTime } = props;\n  const body = await (async () => {\n    // fetch refuses to read the body when the status code is 204.\n    if (response.status === 204) {\n      return null as T;\n    }\n\n    if (props.options.__binaryResponse) {\n      return response as unknown as T;\n    }\n\n    const contentType = response.headers.get('content-type');\n    const mediaType = contentType?.split(';')[0]?.trim();\n    const isJSON = mediaType?.includes('application/json') || mediaType?.endsWith('+json');\n    if (isJSON) {\n      const json = await response.json();\n      return json as T;\n    }\n\n    const text = await response.text();\n    return text as unknown as T;\n  })();\n  loggerFor(client).debug(\n    `[${requestLogID}] response parsed`,\n    formatRequestDetails({\n      retryOfRequestLogID,\n      url: response.url,\n      status: response.status,\n      body,\n      durationMs: Date.now() - startTime,\n    }),\n  );\n  return body;\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { isReadonlyArray } from './utils/values';\n\ntype HeaderValue = string | undefined | null;\nexport type HeadersLike =\n  | Headers\n  | readonly HeaderValue[][]\n  | Record<string, HeaderValue | readonly HeaderValue[]>\n  | undefined\n  | null\n  | NullableHeaders;\n\nconst brand_privateNullableHeaders = /* @__PURE__ */ Symbol('brand.privateNullableHeaders');\n\n/**\n * @internal\n * Users can pass explicit nulls to unset default headers. When we parse them\n * into a standard headers type we need to preserve that information.\n */\nexport type NullableHeaders = {\n  /** Brand check, prevent users from creating a NullableHeaders. */\n  [brand_privateNullableHeaders]: true;\n  /** Parsed headers. */\n  values: Headers;\n  /** Set of lowercase header names explicitly set to null. */\n  nulls: Set<string>;\n};\n\nfunction* iterateHeaders(headers: HeadersLike): IterableIterator<readonly [string, string | null]> {\n  if (!headers) return;\n\n  if (brand_privateNullableHeaders in headers) {\n    const { values, nulls } = headers;\n    yield* values.entries();\n    for (const name of nulls) {\n      yield [name, null];\n    }\n    return;\n  }\n\n  let shouldClear = false;\n  let iter: Iterable<readonly (HeaderValue | readonly HeaderValue[])[]>;\n  if (headers instanceof Headers) {\n    iter = headers.entries();\n  } else if (isReadonlyArray(headers)) {\n    iter = headers;\n  } else {\n    shouldClear = true;\n    iter = Object.entries(headers ?? {});\n  }\n  for (let row of iter) {\n    const name = row[0];\n    if (typeof name !== 'string') throw new TypeError('expected header name to be a string');\n    const values = isReadonlyArray(row[1]) ? row[1] : [row[1]];\n    let didClear = false;\n    for (const value of values) {\n      if (value === undefined) continue;\n\n      // Objects keys always overwrite older headers, they never append.\n      // Yield a null to clear the header before adding the new values.\n      if (shouldClear && !didClear) {\n        didClear = true;\n        yield [name, null];\n      }\n      yield [name, value];\n    }\n  }\n}\n\nexport const buildHeaders = (newHeaders: HeadersLike[]): NullableHeaders => {\n  const targetHeaders = new Headers();\n  const nullHeaders = new Set<string>();\n  for (const headers of newHeaders) {\n    const seenHeaders = new Set<string>();\n    for (const [name, value] of iterateHeaders(headers)) {\n      const lowerName = name.toLowerCase();\n      if (!seenHeaders.has(lowerName)) {\n        targetHeaders.delete(name);\n        seenHeaders.add(lowerName);\n      }\n      if (value === null) {\n        targetHeaders.delete(name);\n        nullHeaders.add(lowerName);\n      } else {\n        targetHeaders.append(name, value);\n        nullHeaders.delete(lowerName);\n      }\n    }\n  }\n  return { [brand_privateNullableHeaders]: true, values: targetHeaders, nulls: nullHeaders };\n};\n\nexport const isEmptyHeaders = (headers: HeadersLike) => {\n  for (const _ of iterateHeaders(headers)) return false;\n  return true;\n};\n","import { RFC1738 } from './formats';\nimport type { DefaultEncoder, Format } from './types';\nimport { isArray } from '../utils/values';\n\nexport let has = (obj: object, key: PropertyKey): boolean => (\n  (has = (Object as any).hasOwn ?? Function.prototype.call.bind(Object.prototype.hasOwnProperty)),\n  has(obj, key)\n);\n\nconst hex_table = /* @__PURE__ */ (() => {\n  const array = [];\n  for (let i = 0; i < 256; ++i) {\n    array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n  }\n\n  return array;\n})();\n\nfunction compact_queue<T extends Record<string, any>>(queue: Array<{ obj: T; prop: string }>) {\n  while (queue.length > 1) {\n    const item = queue.pop();\n    if (!item) continue;\n\n    const obj = item.obj[item.prop];\n\n    if (isArray(obj)) {\n      const compacted: unknown[] = [];\n\n      for (let j = 0; j < obj.length; ++j) {\n        if (typeof obj[j] !== 'undefined') {\n          compacted.push(obj[j]);\n        }\n      }\n\n      // @ts-ignore\n      item.obj[item.prop] = compacted;\n    }\n  }\n}\n\nfunction array_to_object(source: any[], options: { plainObjects: boolean }) {\n  const obj = options && options.plainObjects ? Object.create(null) : {};\n  for (let i = 0; i < source.length; ++i) {\n    if (typeof source[i] !== 'undefined') {\n      obj[i] = source[i];\n    }\n  }\n\n  return obj;\n}\n\nexport function merge(\n  target: any,\n  source: any,\n  options: { plainObjects?: boolean; allowPrototypes?: boolean } = {},\n) {\n  if (!source) {\n    return target;\n  }\n\n  if (typeof source !== 'object') {\n    if (isArray(target)) {\n      target.push(source);\n    } else if (target && typeof target === 'object') {\n      if ((options && (options.plainObjects || options.allowPrototypes)) || !has(Object.prototype, source)) {\n        target[source] = true;\n      }\n    } else {\n      return [target, source];\n    }\n\n    return target;\n  }\n\n  if (!target || typeof target !== 'object') {\n    return [target].concat(source);\n  }\n\n  let mergeTarget = target;\n  if (isArray(target) && !isArray(source)) {\n    // @ts-ignore\n    mergeTarget = array_to_object(target, options);\n  }\n\n  if (isArray(target) && isArray(source)) {\n    source.forEach(function (item, i) {\n      if (has(target, i)) {\n        const targetItem = target[i];\n        if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n          target[i] = merge(targetItem, item, options);\n        } else {\n          target.push(item);\n        }\n      } else {\n        target[i] = item;\n      }\n    });\n    return target;\n  }\n\n  return Object.keys(source).reduce(function (acc, key) {\n    const value = source[key];\n\n    if (has(acc, key)) {\n      acc[key] = merge(acc[key], value, options);\n    } else {\n      acc[key] = value;\n    }\n    return acc;\n  }, mergeTarget);\n}\n\nexport function assign_single_source(target: any, source: any) {\n  return Object.keys(source).reduce(function (acc, key) {\n    acc[key] = source[key];\n    return acc;\n  }, target);\n}\n\nexport function decode(str: string, _: any, charset: string) {\n  const strWithoutPlus = str.replace(/\\+/g, ' ');\n  if (charset === 'iso-8859-1') {\n    // unescape never throws, no try...catch needed:\n    return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n  }\n  // utf-8\n  try {\n    return decodeURIComponent(strWithoutPlus);\n  } catch (e) {\n    return strWithoutPlus;\n  }\n}\n\nconst limit = 1024;\n\nexport const encode: (\n  str: any,\n  defaultEncoder: DefaultEncoder,\n  charset: string,\n  type: 'key' | 'value',\n  format: Format,\n) => string = (str, _defaultEncoder, charset, _kind, format: Format) => {\n  // This code was originally written by Brian White for the io.js core querystring library.\n  // It has been adapted here for stricter adherence to RFC 3986\n  if (str.length === 0) {\n    return str;\n  }\n\n  let string = str;\n  if (typeof str === 'symbol') {\n    string = Symbol.prototype.toString.call(str);\n  } else if (typeof str !== 'string') {\n    string = String(str);\n  }\n\n  if (charset === 'iso-8859-1') {\n    return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n      return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n    });\n  }\n\n  let out = '';\n  for (let j = 0; j < string.length; j += limit) {\n    const segment = string.length >= limit ? string.slice(j, j + limit) : string;\n    const arr = [];\n\n    for (let i = 0; i < segment.length; ++i) {\n      let c = segment.charCodeAt(i);\n      if (\n        c === 0x2d || // -\n        c === 0x2e || // .\n        c === 0x5f || // _\n        c === 0x7e || // ~\n        (c >= 0x30 && c <= 0x39) || // 0-9\n        (c >= 0x41 && c <= 0x5a) || // a-z\n        (c >= 0x61 && c <= 0x7a) || // A-Z\n        (format === RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n      ) {\n        arr[arr.length] = segment.charAt(i);\n        continue;\n      }\n\n      if (c < 0x80) {\n        arr[arr.length] = hex_table[c];\n        continue;\n      }\n\n      if (c < 0x800) {\n        arr[arr.length] = hex_table[0xc0 | (c >> 6)]! + hex_table[0x80 | (c & 0x3f)];\n        continue;\n      }\n\n      if (c < 0xd800 || c >= 0xe000) {\n        arr[arr.length] =\n          hex_table[0xe0 | (c >> 12)]! + hex_table[0x80 | ((c >> 6) & 0x3f)] + hex_table[0x80 | (c & 0x3f)];\n        continue;\n      }\n\n      i += 1;\n      c = 0x10000 + (((c & 0x3ff) << 10) | (segment.charCodeAt(i) & 0x3ff));\n\n      arr[arr.length] =\n        hex_table[0xf0 | (c >> 18)]! +\n        hex_table[0x80 | ((c >> 12) & 0x3f)] +\n        hex_table[0x80 | ((c >> 6) & 0x3f)] +\n        hex_table[0x80 | (c & 0x3f)];\n    }\n\n    out += arr.join('');\n  }\n\n  return out;\n};\n\nexport function compact(value: any) {\n  const queue = [{ obj: { o: value }, prop: 'o' }];\n  const refs = [];\n\n  for (let i = 0; i < queue.length; ++i) {\n    const item = queue[i];\n    // @ts-ignore\n    const obj = item.obj[item.prop];\n\n    const keys = Object.keys(obj);\n    for (let j = 0; j < keys.length; ++j) {\n      const key = keys[j]!;\n      const val = obj[key];\n      if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n        queue.push({ obj: obj, prop: key });\n        refs.push(val);\n      }\n    }\n  }\n\n  compact_queue(queue);\n\n  return value;\n}\n\nexport function is_regexp(obj: any) {\n  return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\n\nexport function is_buffer(obj: any) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n}\n\nexport function combine(a: any, b: any) {\n  return [].concat(a, b);\n}\n\nexport function maybe_map<T>(val: T[], fn: (v: T) => T) {\n  if (isArray(val)) {\n    const mapped = [];\n    for (let i = 0; i < val.length; i += 1) {\n      mapped.push(fn(val[i]!));\n    }\n    return mapped;\n  }\n  return fn(val);\n}\n","import { withAlg as invalidKeyInput } from './invalid_key_input.js';\nimport { isKeyLike } from './is_key_like.js';\nimport * as jwk from './is_jwk.js';\nconst tag = (key) => key?.[Symbol.toStringTag];\nconst jwkMatchesOp = (alg, key, usage) => {\n    if (key.use !== undefined) {\n        let expected;\n        switch (usage) {\n            case 'sign':\n            case 'verify':\n                expected = 'sig';\n                break;\n            case 'encrypt':\n            case 'decrypt':\n                expected = 'enc';\n                break;\n        }\n        if (key.use !== expected) {\n            throw new TypeError(`Invalid key for this operation, its \"use\" must be \"${expected}\" when present`);\n        }\n    }\n    if (key.alg !== undefined && key.alg !== alg) {\n        throw new TypeError(`Invalid key for this operation, its \"alg\" must be \"${alg}\" when present`);\n    }\n    if (Array.isArray(key.key_ops)) {\n        let expectedKeyOp;\n        switch (true) {\n            case usage === 'sign' || usage === 'verify':\n            case alg === 'dir':\n            case alg.includes('CBC-HS'):\n                expectedKeyOp = usage;\n                break;\n            case alg.startsWith('PBES2'):\n                expectedKeyOp = 'deriveBits';\n                break;\n            case /^A\\d{3}(?:GCM)?(?:KW)?$/.test(alg):\n                if (!alg.includes('GCM') && alg.endsWith('KW')) {\n                    expectedKeyOp = usage === 'encrypt' ? 'wrapKey' : 'unwrapKey';\n                }\n                else {\n                    expectedKeyOp = usage;\n                }\n                break;\n            case usage === 'encrypt' && alg.startsWith('RSA'):\n                expectedKeyOp = 'wrapKey';\n                break;\n            case usage === 'decrypt':\n                expectedKeyOp = alg.startsWith('RSA') ? 'unwrapKey' : 'deriveBits';\n                break;\n        }\n        if (expectedKeyOp && key.key_ops?.includes?.(expectedKeyOp) === false) {\n            throw new TypeError(`Invalid key for this operation, its \"key_ops\" must include \"${expectedKeyOp}\" when present`);\n        }\n    }\n    return true;\n};\nconst symmetricTypeCheck = (alg, key, usage) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (jwk.isJWK(key)) {\n        if (jwk.isSecretJWK(key) && jwkMatchesOp(alg, key, usage))\n            return;\n        throw new TypeError(`JSON Web Key for symmetric algorithms must have JWK \"kty\" (Key Type) equal to \"oct\" and the JWK \"k\" (Key Value) present`);\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, 'CryptoKey', 'KeyObject', 'JSON Web Key', 'Uint8Array'));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${tag(key)} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage) => {\n    if (jwk.isJWK(key)) {\n        switch (usage) {\n            case 'decrypt':\n            case 'sign':\n                if (jwk.isPrivateJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation must be a private JWK`);\n            case 'encrypt':\n            case 'verify':\n                if (jwk.isPublicJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation must be a public JWK`);\n        }\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, 'CryptoKey', 'KeyObject', 'JSON Web Key'));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (key.type === 'public') {\n        switch (usage) {\n            case 'sign':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm signing must be of type \"private\"`);\n            case 'decrypt':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm decryption must be of type \"private\"`);\n        }\n    }\n    if (key.type === 'private') {\n        switch (usage) {\n            case 'verify':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm verifying must be of type \"public\"`);\n            case 'encrypt':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm encryption must be of type \"public\"`);\n        }\n    }\n};\nexport function checkKeyType(alg, key, usage) {\n    switch (alg.substring(0, 2)) {\n        case 'A1':\n        case 'A2':\n        case 'di':\n        case 'HS':\n        case 'PB':\n            symmetricTypeCheck(alg, key, usage);\n            break;\n        default:\n            asymmetricTypeCheck(alg, key, usage);\n    }\n}\n","import { JWTClaimValidationFailed, JWTExpired, JWTInvalid } from '../util/errors.js';\nimport { encoder, decoder } from './buffer_utils.js';\nimport { isObject } from './is_object.js';\nconst epoch = (date) => Math.floor(date.getTime() / 1000);\nconst minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\nexport function secs(str) {\n    const matched = REGEX.exec(str);\n    if (!matched || (matched[4] && matched[1])) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[2]);\n    const unit = matched[3].toLowerCase();\n    let numericDate;\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            numericDate = Math.round(value);\n            break;\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            numericDate = Math.round(value * minute);\n            break;\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            numericDate = Math.round(value * hour);\n            break;\n        case 'day':\n        case 'days':\n        case 'd':\n            numericDate = Math.round(value * day);\n            break;\n        case 'week':\n        case 'weeks':\n        case 'w':\n            numericDate = Math.round(value * week);\n            break;\n        default:\n            numericDate = Math.round(value * year);\n            break;\n    }\n    if (matched[1] === '-' || matched[4] === 'ago') {\n        return -numericDate;\n    }\n    return numericDate;\n}\nfunction validateInput(label, input) {\n    if (!Number.isFinite(input)) {\n        throw new TypeError(`Invalid ${label} input`);\n    }\n    return input;\n}\nconst normalizeTyp = (value) => {\n    if (value.includes('/')) {\n        return value.toLowerCase();\n    }\n    return `application/${value.toLowerCase()}`;\n};\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexport function validateClaimsSet(protectedHeader, encodedPayload, options = {}) {\n    let payload;\n    try {\n        payload = JSON.parse(decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!isObject(payload)) {\n        throw new JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new JWTClaimValidationFailed('unexpected \"typ\" JWT header value', payload, 'typ', 'check_failed');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    const presenceCheck = [...requiredClaims];\n    if (maxTokenAge !== undefined)\n        presenceCheck.push('iat');\n    if (audience !== undefined)\n        presenceCheck.push('aud');\n    if (subject !== undefined)\n        presenceCheck.push('sub');\n    if (issuer !== undefined)\n        presenceCheck.push('iss');\n    for (const claim of new Set(presenceCheck.reverse())) {\n        if (!(claim in payload)) {\n            throw new JWTClaimValidationFailed(`missing required \"${claim}\" claim`, payload, claim, 'missing');\n        }\n    }\n    if (issuer &&\n        !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new JWTClaimValidationFailed('unexpected \"iss\" claim value', payload, 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new JWTClaimValidationFailed('unexpected \"sub\" claim value', payload, 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new JWTClaimValidationFailed('unexpected \"aud\" claim value', payload, 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = secs(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = epoch(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new JWTClaimValidationFailed('\"iat\" claim must be a number', payload, 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new JWTClaimValidationFailed('\"nbf\" claim must be a number', payload, 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', payload, 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new JWTClaimValidationFailed('\"exp\" claim must be a number', payload, 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new JWTExpired('\"exp\" claim timestamp check failed', payload, 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : secs(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', payload, 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', payload, 'iat', 'check_failed');\n        }\n    }\n    return payload;\n}\nexport class JWTClaimsBuilder {\n    #payload;\n    constructor(payload) {\n        if (!isObject(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this.#payload = structuredClone(payload);\n    }\n    data() {\n        return encoder.encode(JSON.stringify(this.#payload));\n    }\n    get iss() {\n        return this.#payload.iss;\n    }\n    set iss(value) {\n        this.#payload.iss = value;\n    }\n    get sub() {\n        return this.#payload.sub;\n    }\n    set sub(value) {\n        this.#payload.sub = value;\n    }\n    get aud() {\n        return this.#payload.aud;\n    }\n    set aud(value) {\n        this.#payload.aud = value;\n    }\n    set jti(value) {\n        this.#payload.jti = value;\n    }\n    set nbf(value) {\n        if (typeof value === 'number') {\n            this.#payload.nbf = validateInput('setNotBefore', value);\n        }\n        else if (value instanceof Date) {\n            this.#payload.nbf = validateInput('setNotBefore', epoch(value));\n        }\n        else {\n            this.#payload.nbf = epoch(new Date()) + secs(value);\n        }\n    }\n    set exp(value) {\n        if (typeof value === 'number') {\n            this.#payload.exp = validateInput('setExpirationTime', value);\n        }\n        else if (value instanceof Date) {\n            this.#payload.exp = validateInput('setExpirationTime', epoch(value));\n        }\n        else {\n            this.#payload.exp = epoch(new Date()) + secs(value);\n        }\n    }\n    set iat(value) {\n        if (value === undefined) {\n            this.#payload.iat = epoch(new Date());\n        }\n        else if (value instanceof Date) {\n            this.#payload.iat = validateInput('setIssuedAt', epoch(value));\n        }\n        else if (typeof value === 'string') {\n            this.#payload.iat = validateInput('setIssuedAt', epoch(new Date()) + secs(value));\n        }\n        else {\n            this.#payload.iat = validateInput('setIssuedAt', value);\n        }\n    }\n}\n","import { subtleAlgorithm } from './subtle_dsa.js';\nimport { checkKeyLength } from './check_key_length.js';\nimport { getSigKey } from './get_sign_verify_key.js';\nexport async function verify(alg, key, signature, data) {\n    const cryptoKey = await getSigKey(alg, key, 'verify');\n    checkKeyLength(alg, cryptoKey);\n    const algorithm = subtleAlgorithm(alg, cryptoKey.algorithm);\n    try {\n        return await crypto.subtle.verify(algorithm, cryptoKey, signature, data);\n    }\n    catch {\n        return false;\n    }\n}\n","import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await flattenedVerify({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n","import { compactVerify } from '../jws/compact/verify.js';\nimport { validateClaimsSet } from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n    const verified = await compactVerify(jwt, key, options);\n    if (verified.protectedHeader.crit?.includes('b64') && verified.protectedHeader.b64 === false) {\n        throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = validateClaimsSet(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { WhopError } from '../../core/error';\n\n// https://url.spec.whatwg.org/#url-scheme-string\nconst startsWithSchemeRegexp = /^[a-z][a-z0-9+.-]*:/i;\n\nexport const isAbsoluteURL = (url: string): boolean => {\n  return startsWithSchemeRegexp.test(url);\n};\n\nexport let isArray = (val: unknown): val is unknown[] => ((isArray = Array.isArray), isArray(val));\nexport let isReadonlyArray = isArray as (val: unknown) => val is readonly unknown[];\n\n/** Returns an object if the given value isn't an object, otherwise returns as-is */\nexport function maybeObj(x: unknown): object {\n  if (typeof x !== 'object') {\n    return {};\n  }\n\n  return x ?? {};\n}\n\n// https://stackoverflow.com/a/34491287\nexport function isEmptyObj(obj: Object | null | undefined): boolean {\n  if (!obj) return true;\n  for (const _k in obj) return false;\n  return true;\n}\n\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nexport function hasOwn<T extends object = object>(obj: T, key: PropertyKey): key is keyof T {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nexport function isObj(obj: unknown): obj is Record<string, unknown> {\n  return obj != null && typeof obj === 'object' && !Array.isArray(obj);\n}\n\nexport const ensurePresent = <T>(value: T | null | undefined): T => {\n  if (value == null) {\n    throw new WhopError(`Expected a value to be given but received ${value} instead.`);\n  }\n\n  return value;\n};\n\nexport const validatePositiveInteger = (name: string, n: unknown): number => {\n  if (typeof n !== 'number' || !Number.isInteger(n)) {\n    throw new WhopError(`${name} must be an integer`);\n  }\n  if (n < 0) {\n    throw new WhopError(`${name} must be a positive integer`);\n  }\n  return n;\n};\n\nexport const coerceInteger = (value: unknown): number => {\n  if (typeof value === 'number') return Math.round(value);\n  if (typeof value === 'string') return parseInt(value, 10);\n\n  throw new WhopError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\n\nexport const coerceFloat = (value: unknown): number => {\n  if (typeof value === 'number') return value;\n  if (typeof value === 'string') return parseFloat(value);\n\n  throw new WhopError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\n\nexport const coerceBoolean = (value: unknown): boolean => {\n  if (typeof value === 'boolean') return value;\n  if (typeof value === 'string') return value === 'true';\n  return Boolean(value);\n};\n\nexport const maybeCoerceInteger = (value: unknown): number | undefined => {\n  if (value == null) {\n    return undefined;\n  }\n  return coerceInteger(value);\n};\n\nexport const maybeCoerceFloat = (value: unknown): number | undefined => {\n  if (value == null) {\n    return undefined;\n  }\n  return coerceFloat(value);\n};\n\nexport const maybeCoerceBoolean = (value: unknown): boolean | undefined => {\n  if (value == null) {\n    return undefined;\n  }\n  return coerceBoolean(value);\n};\n\nexport const safeJSON = (text: string) => {\n  try {\n    return JSON.parse(text);\n  } catch (err) {\n    return undefined;\n  }\n};\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class LedgerAccounts extends APIResource {\n  /**\n   * Retrieves a ledger account by ID\n   *\n   * Required permissions:\n   *\n   * - `company:balance:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<LedgerAccountRetrieveResponse> {\n    return this._client.get(path`/ledger_accounts/${id}`, options);\n  }\n}\n\n/**\n * Represents a LedgerAccount.\n */\nexport interface LedgerAccountRetrieveResponse {\n  /**\n   * The ID of the LedgerAccount.\n   */\n  id: string;\n\n  /**\n   * The balances associated with the account.\n   */\n  balances: Array<LedgerAccountRetrieveResponse.Balance>;\n\n  /**\n   * The different statuses a LedgerAccountAudit can be\n   */\n  ledger_account_audit_status:\n    | 'pending'\n    | 'approved'\n    | 'reserves_imposed'\n    | 'suspended'\n    | 'ignored'\n    | 'rejected'\n    | 'requested_more_information'\n    | 'information_submitted'\n    | 'requested_tos_violation_correction'\n    | 'clawback_attempted'\n    | 'awaiting_sales_review'\n    | null;\n\n  /**\n   * The type of ledger account.\n   */\n  ledger_type: 'primary' | 'pool';\n\n  /**\n   * The owner of the ledger account.\n   */\n  owner: LedgerAccountRetrieveResponse.User | null | LedgerAccountRetrieveResponse.Company | null;\n\n  /**\n   * The different approval statuses an account can have.\n   */\n  payments_approval_status: 'pending' | 'approved' | 'monitoring' | 'rejected' | null;\n\n  /**\n   * The fee for transfers, if applicable.\n   */\n  transfer_fee: number | null;\n}\n\nexport namespace LedgerAccountRetrieveResponse {\n  /**\n   * A cached balance for a LedgerAccount in respect to a currency.\n   */\n  export interface Balance {\n    /**\n     * The amount of the balance.\n     */\n    balance: number;\n\n    /**\n     * The currency of the balance.\n     */\n    currency: Shared.Currency;\n\n    /**\n     * The amount of the balance that is pending.\n     */\n    pending_balance: number;\n\n    /**\n     * The amount of the balance that is reserved.\n     */\n    reserve_balance: number;\n  }\n\n  /**\n   * An object representing a (sanitized) user of the site.\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The typename of this object\n     */\n    typename: 'User';\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n\n  /**\n   * An object representing a (sanitized) company.\n   */\n  export interface Company {\n    /**\n     * The ID (tag) of the company.\n     */\n    id: string;\n\n    /**\n     * The slug/route of the company on the Whop site.\n     */\n    route: string;\n\n    /**\n     * The title of the company.\n     */\n    title: string;\n\n    /**\n     * The typename of this object\n     */\n    typename: 'Company';\n  }\n}\n\nexport declare namespace LedgerAccounts {\n  export { type LedgerAccountRetrieveResponse as LedgerAccountRetrieveResponse };\n}\n","import { isJWK } from './is_jwk.js';\nimport { decode } from '../util/base64url.js';\nimport { jwkToKey } from './jwk_to_key.js';\nimport { isCryptoKey, isKeyObject } from './is_key_like.js';\nlet cache;\nconst handleJWK = async (key, jwk, alg, freeze = false) => {\n    cache ||= new WeakMap();\n    let cached = cache.get(key);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const cryptoKey = await jwkToKey({ ...jwk, alg });\n    if (freeze)\n        Object.freeze(key);\n    if (!cached) {\n        cache.set(key, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\nconst handleKeyObject = (keyObject, alg) => {\n    cache ||= new WeakMap();\n    let cached = cache.get(keyObject);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const isPublic = keyObject.type === 'public';\n    const extractable = isPublic ? true : false;\n    let cryptoKey;\n    if (keyObject.asymmetricKeyType === 'x25519') {\n        switch (alg) {\n            case 'ECDH-ES':\n            case 'ECDH-ES+A128KW':\n            case 'ECDH-ES+A192KW':\n            case 'ECDH-ES+A256KW':\n                break;\n            default:\n                throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        cryptoKey = keyObject.toCryptoKey(keyObject.asymmetricKeyType, extractable, isPublic ? [] : ['deriveBits']);\n    }\n    if (keyObject.asymmetricKeyType === 'ed25519') {\n        if (alg !== 'EdDSA' && alg !== 'Ed25519') {\n            throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        cryptoKey = keyObject.toCryptoKey(keyObject.asymmetricKeyType, extractable, [\n            isPublic ? 'verify' : 'sign',\n        ]);\n    }\n    switch (keyObject.asymmetricKeyType) {\n        case 'ml-dsa-44':\n        case 'ml-dsa-65':\n        case 'ml-dsa-87': {\n            if (alg !== keyObject.asymmetricKeyType.toUpperCase()) {\n                throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n            }\n            cryptoKey = keyObject.toCryptoKey(keyObject.asymmetricKeyType, extractable, [\n                isPublic ? 'verify' : 'sign',\n            ]);\n        }\n    }\n    if (keyObject.asymmetricKeyType === 'rsa') {\n        let hash;\n        switch (alg) {\n            case 'RSA-OAEP':\n                hash = 'SHA-1';\n                break;\n            case 'RS256':\n            case 'PS256':\n            case 'RSA-OAEP-256':\n                hash = 'SHA-256';\n                break;\n            case 'RS384':\n            case 'PS384':\n            case 'RSA-OAEP-384':\n                hash = 'SHA-384';\n                break;\n            case 'RS512':\n            case 'PS512':\n            case 'RSA-OAEP-512':\n                hash = 'SHA-512';\n                break;\n            default:\n                throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        if (alg.startsWith('RSA-OAEP')) {\n            return keyObject.toCryptoKey({\n                name: 'RSA-OAEP',\n                hash,\n            }, extractable, isPublic ? ['encrypt'] : ['decrypt']);\n        }\n        cryptoKey = keyObject.toCryptoKey({\n            name: alg.startsWith('PS') ? 'RSA-PSS' : 'RSASSA-PKCS1-v1_5',\n            hash,\n        }, extractable, [isPublic ? 'verify' : 'sign']);\n    }\n    if (keyObject.asymmetricKeyType === 'ec') {\n        const nist = new Map([\n            ['prime256v1', 'P-256'],\n            ['secp384r1', 'P-384'],\n            ['secp521r1', 'P-521'],\n        ]);\n        const namedCurve = nist.get(keyObject.asymmetricKeyDetails?.namedCurve);\n        if (!namedCurve) {\n            throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        if (alg === 'ES256' && namedCurve === 'P-256') {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDSA',\n                namedCurve,\n            }, extractable, [isPublic ? 'verify' : 'sign']);\n        }\n        if (alg === 'ES384' && namedCurve === 'P-384') {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDSA',\n                namedCurve,\n            }, extractable, [isPublic ? 'verify' : 'sign']);\n        }\n        if (alg === 'ES512' && namedCurve === 'P-521') {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDSA',\n                namedCurve,\n            }, extractable, [isPublic ? 'verify' : 'sign']);\n        }\n        if (alg.startsWith('ECDH-ES')) {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDH',\n                namedCurve,\n            }, extractable, isPublic ? [] : ['deriveBits']);\n        }\n    }\n    if (!cryptoKey) {\n        throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n    }\n    if (!cached) {\n        cache.set(keyObject, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\nexport async function normalizeKey(key, alg) {\n    if (key instanceof Uint8Array) {\n        return key;\n    }\n    if (isCryptoKey(key)) {\n        return key;\n    }\n    if (isKeyObject(key)) {\n        if (key.type === 'secret') {\n            return key.export();\n        }\n        if ('toCryptoKey' in key && typeof key.toCryptoKey === 'function') {\n            try {\n                return handleKeyObject(key, alg);\n            }\n            catch (err) {\n                if (err instanceof TypeError) {\n                    throw err;\n                }\n            }\n        }\n        let jwk = key.export({ format: 'jwk' });\n        return handleJWK(key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k) {\n            return decode(key.k);\n        }\n        return handleJWK(key, key, alg, true);\n    }\n    throw new Error('unreachable');\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { Webhook } from 'standardwebhooks';\n\nexport class Webhooks extends APIResource {\n  unwrap(\n    body: string,\n    { headers, key }: { headers: Record<string, string>; key?: string },\n  ): UnwrapWebhookEvent {\n    if (headers !== undefined) {\n      const keyStr: string | null = key === undefined ? this._client.webhookKey : key;\n      if (keyStr === null) throw new Error('Webhook key must not be null in order to unwrap');\n      const wh = new Webhook(keyStr);\n      wh.verify(body, headers);\n    }\n    return JSON.parse(body) as UnwrapWebhookEvent;\n  }\n}\n\nexport interface InvoiceCreatedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * A statement that defines an amount due by a customer.\n   */\n  data: Shared.Invoice;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'invoice.created';\n}\n\nexport interface InvoicePaidWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * A statement that defines an amount due by a customer.\n   */\n  data: Shared.Invoice;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'invoice.paid';\n}\n\nexport interface InvoicePastDueWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * A statement that defines an amount due by a customer.\n   */\n  data: Shared.Invoice;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'invoice.past_due';\n}\n\nexport interface InvoiceVoidedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * A statement that defines an amount due by a customer.\n   */\n  data: Shared.Invoice;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'invoice.voided';\n}\n\nexport interface MembershipActivatedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * A membership represents a purchase between a User and a Company for a specific\n   * Product.\n   */\n  data: Shared.Membership;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'membership.activated';\n}\n\nexport interface MembershipDeactivatedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * A membership represents a purchase between a User and a Company for a specific\n   * Product.\n   */\n  data: Shared.Membership;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'membership.deactivated';\n}\n\nexport interface EntryCreatedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * An object representing an entry in a waitlist.\n   */\n  data: Shared.Entry;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'entry.created';\n}\n\nexport interface EntryApprovedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * An object representing an entry in a waitlist.\n   */\n  data: Shared.Entry;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'entry.approved';\n}\n\nexport interface EntryDeniedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * An object representing an entry in a waitlist.\n   */\n  data: Shared.Entry;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'entry.denied';\n}\n\nexport interface EntryDeletedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * An object representing an entry in a waitlist.\n   */\n  data: Shared.Entry;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'entry.deleted';\n}\n\nexport interface CourseLessonInteractionCompletedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * A lesson interaction tracking user progress in courses\n   */\n  data: Shared.CourseLessonInteraction;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'course_lesson_interaction.completed';\n}\n\nexport interface PaymentSucceededWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * An object representing a receipt for a membership.\n   */\n  data: Shared.Payment;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'payment.succeeded';\n}\n\nexport interface PaymentFailedWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * An object representing a receipt for a membership.\n   */\n  data: Shared.Payment;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'payment.failed';\n}\n\nexport interface PaymentPendingWebhookEvent {\n  /**\n   * A unique ID for every single webhook request\n   */\n  id: string;\n\n  /**\n   * The API version for this webhook\n   */\n  api_version: 'v1';\n\n  /**\n   * An object representing a receipt for a membership.\n   */\n  data: Shared.Payment;\n\n  /**\n   * The timestamp in ISO 8601 format that the webhook was sent at on the server\n   */\n  timestamp: string;\n\n  /**\n   * The webhook event type\n   */\n  type: 'payment.pending';\n}\n\nexport type UnwrapWebhookEvent =\n  | InvoiceCreatedWebhookEvent\n  | InvoicePaidWebhookEvent\n  | InvoicePastDueWebhookEvent\n  | InvoiceVoidedWebhookEvent\n  | MembershipActivatedWebhookEvent\n  | MembershipDeactivatedWebhookEvent\n  | EntryCreatedWebhookEvent\n  | EntryApprovedWebhookEvent\n  | EntryDeniedWebhookEvent\n  | EntryDeletedWebhookEvent\n  | CourseLessonInteractionCompletedWebhookEvent\n  | PaymentSucceededWebhookEvent\n  | PaymentFailedWebhookEvent\n  | PaymentPendingWebhookEvent;\n\nexport declare namespace Webhooks {\n  export {\n    type InvoiceCreatedWebhookEvent as InvoiceCreatedWebhookEvent,\n    type InvoicePaidWebhookEvent as InvoicePaidWebhookEvent,\n    type InvoicePastDueWebhookEvent as InvoicePastDueWebhookEvent,\n    type InvoiceVoidedWebhookEvent as InvoiceVoidedWebhookEvent,\n    type MembershipActivatedWebhookEvent as MembershipActivatedWebhookEvent,\n    type MembershipDeactivatedWebhookEvent as MembershipDeactivatedWebhookEvent,\n    type EntryCreatedWebhookEvent as EntryCreatedWebhookEvent,\n    type EntryApprovedWebhookEvent as EntryApprovedWebhookEvent,\n    type EntryDeniedWebhookEvent as EntryDeniedWebhookEvent,\n    type EntryDeletedWebhookEvent as EntryDeletedWebhookEvent,\n    type CourseLessonInteractionCompletedWebhookEvent as CourseLessonInteractionCompletedWebhookEvent,\n    type PaymentSucceededWebhookEvent as PaymentSucceededWebhookEvent,\n    type PaymentFailedWebhookEvent as PaymentFailedWebhookEvent,\n    type PaymentPendingWebhookEvent as PaymentPendingWebhookEvent,\n    type UnwrapWebhookEvent as UnwrapWebhookEvent,\n  };\n}\n","import { BlobPart, getName, makeFile, isAsyncIterable } from './uploads';\nimport type { FilePropertyBag } from './builtin-types';\nimport { checkFileSupport } from './uploads';\n\ntype BlobLikePart = string | ArrayBuffer | ArrayBufferView | BlobLike | DataView;\n\n/**\n * Intended to match DOM Blob, node-fetch Blob, node:buffer Blob, etc.\n * Don't add arrayBuffer here, node-fetch doesn't have it\n */\ninterface BlobLike {\n  /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/size) */\n  readonly size: number;\n  /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/type) */\n  readonly type: string;\n  /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/text) */\n  text(): Promise<string>;\n  /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/slice) */\n  slice(start?: number, end?: number): BlobLike;\n}\n\n/**\n * This check adds the arrayBuffer() method type because it is available and used at runtime\n */\nconst isBlobLike = (value: any): value is BlobLike & { arrayBuffer(): Promise<ArrayBuffer> } =>\n  value != null &&\n  typeof value === 'object' &&\n  typeof value.size === 'number' &&\n  typeof value.type === 'string' &&\n  typeof value.text === 'function' &&\n  typeof value.slice === 'function' &&\n  typeof value.arrayBuffer === 'function';\n\n/**\n * Intended to match DOM File, node:buffer File, undici File, etc.\n */\ninterface FileLike extends BlobLike {\n  /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/File/lastModified) */\n  readonly lastModified: number;\n  /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/File/name) */\n  readonly name?: string | undefined;\n}\n\n/**\n * This check adds the arrayBuffer() method type because it is available and used at runtime\n */\nconst isFileLike = (value: any): value is FileLike & { arrayBuffer(): Promise<ArrayBuffer> } =>\n  value != null &&\n  typeof value === 'object' &&\n  typeof value.name === 'string' &&\n  typeof value.lastModified === 'number' &&\n  isBlobLike(value);\n\n/**\n * Intended to match DOM Response, node-fetch Response, undici Response, etc.\n */\nexport interface ResponseLike {\n  url: string;\n  blob(): Promise<BlobLike>;\n}\n\nconst isResponseLike = (value: any): value is ResponseLike =>\n  value != null &&\n  typeof value === 'object' &&\n  typeof value.url === 'string' &&\n  typeof value.blob === 'function';\n\nexport type ToFileInput =\n  | FileLike\n  | ResponseLike\n  | Exclude<BlobLikePart, string>\n  | AsyncIterable<BlobLikePart>;\n\n/**\n * Helper for creating a {@link File} to pass to an SDK upload method from a variety of different data formats\n * @param value the raw content of the file. Can be an {@link Uploadable}, BlobLikePart, or AsyncIterable of BlobLikeParts\n * @param {string=} name the name of the file. If omitted, toFile will try to determine a file name from bits if possible\n * @param {Object=} options additional properties\n * @param {string=} options.type the MIME type of the content\n * @param {number=} options.lastModified the last modified timestamp\n * @returns a {@link File} with the given properties\n */\nexport async function toFile(\n  value: ToFileInput | PromiseLike<ToFileInput>,\n  name?: string | null | undefined,\n  options?: FilePropertyBag | undefined,\n): Promise<File> {\n  checkFileSupport();\n\n  // If it's a promise, resolve it.\n  value = await value;\n\n  // If we've been given a `File` we don't need to do anything\n  if (isFileLike(value)) {\n    if (value instanceof File) {\n      return value;\n    }\n    return makeFile([await value.arrayBuffer()], value.name);\n  }\n\n  if (isResponseLike(value)) {\n    const blob = await value.blob();\n    name ||= new URL(value.url).pathname.split(/[\\\\/]/).pop();\n\n    return makeFile(await getBytes(blob), name, options);\n  }\n\n  const parts = await getBytes(value);\n\n  name ||= getName(value);\n\n  if (!options?.type) {\n    const type = parts.find((part) => typeof part === 'object' && 'type' in part && part.type);\n    if (typeof type === 'string') {\n      options = { ...options, type };\n    }\n  }\n\n  return makeFile(parts, name, options);\n}\n\nasync function getBytes(value: BlobLikePart | AsyncIterable<BlobLikePart>): Promise<Array<BlobPart>> {\n  let parts: Array<BlobPart> = [];\n  if (\n    typeof value === 'string' ||\n    ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.\n    value instanceof ArrayBuffer\n  ) {\n    parts.push(value);\n  } else if (isBlobLike(value)) {\n    parts.push(value instanceof Blob ? value : await value.arrayBuffer());\n  } else if (\n    isAsyncIterable(value) // includes Readable, ReadableStream, etc.\n  ) {\n    for await (const chunk of value) {\n      parts.push(...(await getBytes(chunk as BlobLikePart))); // TODO, consider validating?\n    }\n  } else {\n    const constructor = value?.constructor?.name;\n    throw new Error(\n      `Unexpected data type: ${typeof value}${\n        constructor ? `; constructor: ${constructor}` : ''\n      }${propsForError(value)}`,\n    );\n  }\n\n  return parts;\n}\n\nfunction propsForError(value: unknown): string {\n  if (typeof value !== 'object' || value === null) return '';\n  const props = Object.getOwnPropertyNames(value);\n  return `; props: [${props.map((p) => `\"${p}\"`).join(', ')}]`;\n}\n","import { decode as decodeBase64URL } from '../util/base64url.js';\nimport { fromSPKI, fromPKCS8, fromX509 } from '../lib/asn1.js';\nimport { jwkToKey } from '../lib/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { isObject } from '../lib/is_object.js';\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return fromSPKI(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return fromX509(x509, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return fromPKCS8(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg, options) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    let ext;\n    alg ??= jwk.alg;\n    ext ??= options?.extractable ?? jwk.ext;\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if ('oth' in jwk && jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n            return jwkToKey({ ...jwk, alg, ext });\n        case 'AKP': {\n            if (typeof jwk.alg !== 'string' || !jwk.alg) {\n                throw new TypeError('missing \"alg\" (Algorithm) Parameter value');\n            }\n            if (alg !== undefined && alg !== jwk.alg) {\n                throw new TypeError('JWK alg and alg option value mismatch');\n            }\n            return jwkToKey({ ...jwk, ext });\n        }\n        case 'EC':\n        case 'OKP':\n            return jwkToKey({ ...jwk, alg, ext });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { castToError } from '../internal/errors';\n\nexport class WhopError extends Error {}\n\nexport class APIError<\n  TStatus extends number | undefined = number | undefined,\n  THeaders extends Headers | undefined = Headers | undefined,\n  TError extends Object | undefined = Object | undefined,\n> extends WhopError {\n  /** HTTP status for the response that caused the error */\n  readonly status: TStatus;\n  /** HTTP headers for the response that caused the error */\n  readonly headers: THeaders;\n  /** JSON body of the response that caused the error */\n  readonly error: TError;\n\n  constructor(status: TStatus, error: TError, message: string | undefined, headers: THeaders) {\n    super(`${APIError.makeMessage(status, error, message)}`);\n    this.status = status;\n    this.headers = headers;\n    this.error = error;\n  }\n\n  private static makeMessage(status: number | undefined, error: any, message: string | undefined) {\n    const msg =\n      error?.message ?\n        typeof error.message === 'string' ?\n          error.message\n        : JSON.stringify(error.message)\n      : error ? JSON.stringify(error)\n      : message;\n\n    if (status && msg) {\n      return `${status} ${msg}`;\n    }\n    if (status) {\n      return `${status} status code (no body)`;\n    }\n    if (msg) {\n      return msg;\n    }\n    return '(no status code or body)';\n  }\n\n  static generate(\n    status: number | undefined,\n    errorResponse: Object | undefined,\n    message: string | undefined,\n    headers: Headers | undefined,\n  ): APIError {\n    if (!status || !headers) {\n      return new APIConnectionError({ message, cause: castToError(errorResponse) });\n    }\n\n    const error = errorResponse as Record<string, any>;\n\n    if (status === 400) {\n      return new BadRequestError(status, error, message, headers);\n    }\n\n    if (status === 401) {\n      return new AuthenticationError(status, error, message, headers);\n    }\n\n    if (status === 403) {\n      return new PermissionDeniedError(status, error, message, headers);\n    }\n\n    if (status === 404) {\n      return new NotFoundError(status, error, message, headers);\n    }\n\n    if (status === 409) {\n      return new ConflictError(status, error, message, headers);\n    }\n\n    if (status === 422) {\n      return new UnprocessableEntityError(status, error, message, headers);\n    }\n\n    if (status === 429) {\n      return new RateLimitError(status, error, message, headers);\n    }\n\n    if (status >= 500) {\n      return new InternalServerError(status, error, message, headers);\n    }\n\n    return new APIError(status, error, message, headers);\n  }\n}\n\nexport class APIUserAbortError extends APIError<undefined, undefined, undefined> {\n  constructor({ message }: { message?: string } = {}) {\n    super(undefined, undefined, message || 'Request was aborted.', undefined);\n  }\n}\n\nexport class APIConnectionError extends APIError<undefined, undefined, undefined> {\n  constructor({ message, cause }: { message?: string | undefined; cause?: Error | undefined }) {\n    super(undefined, undefined, message || 'Connection error.', undefined);\n    // in some environments the 'cause' property is already declared\n    // @ts-ignore\n    if (cause) this.cause = cause;\n  }\n}\n\nexport class APIConnectionTimeoutError extends APIConnectionError {\n  constructor({ message }: { message?: string } = {}) {\n    super({ message: message ?? 'Request timed out.' });\n  }\n}\n\nexport class BadRequestError extends APIError<400, Headers> {}\n\nexport class AuthenticationError extends APIError<401, Headers> {}\n\nexport class PermissionDeniedError extends APIError<403, Headers> {}\n\nexport class NotFoundError extends APIError<404, Headers> {}\n\nexport class ConflictError extends APIError<409, Headers> {}\n\nexport class UnprocessableEntityError extends APIError<422, Headers> {}\n\nexport class RateLimitError extends APIError<429, Headers> {}\n\nexport class InternalServerError extends APIError<number, Headers> {}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n/**\n * https://stackoverflow.com/a/2117523\n */\nexport let uuid4 = function () {\n  const { crypto } = globalThis as any;\n  if (crypto?.randomUUID) {\n    uuid4 = crypto.randomUUID.bind(crypto);\n    return crypto.randomUUID();\n  }\n  const u8 = new Uint8Array(1);\n  const randomByte = crypto ? () => crypto.getRandomValues(u8)[0]! : () => (Math.random() * 0xff) & 0xff;\n  return '10000000-1000-4000-8000-100000000000'.replace(/[018]/g, (c) =>\n    (+c ^ (randomByte() & (15 >> (+c / 4)))).toString(16),\n  );\n};\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nexport { Whop as default } from './client';\n\nexport { type Uploadable, toFile } from './core/uploads';\nexport { APIPromise } from './core/api-promise';\nexport { Whop, type ClientOptions } from './client';\nexport { PagePromise } from './core/pagination';\nexport {\n  WhopError,\n  APIError,\n  APIConnectionError,\n  APIConnectionTimeoutError,\n  APIUserAbortError,\n  NotFoundError,\n  ConflictError,\n  RateLimitError,\n  BadRequestError,\n  AuthenticationError,\n  InternalServerError,\n  PermissionDeniedError,\n  UnprocessableEntityError,\n} from './core/error';\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { WhopError } from './error';\nimport { FinalRequestOptions } from '../internal/request-options';\nimport { defaultParseResponse } from '../internal/parse';\nimport { type Whop } from '../client';\nimport { APIPromise } from './api-promise';\nimport { type APIResponseProps } from '../internal/parse';\nimport { maybeObj } from '../internal/utils/values';\n\nexport type PageRequestOptions = Pick<FinalRequestOptions, 'query' | 'headers' | 'body' | 'path' | 'method'>;\n\nexport abstract class AbstractPage<Item> implements AsyncIterable<Item> {\n  #client: Whop;\n  protected options: FinalRequestOptions;\n\n  protected response: Response;\n  protected body: unknown;\n\n  constructor(client: Whop, response: Response, body: unknown, options: FinalRequestOptions) {\n    this.#client = client;\n    this.options = options;\n    this.response = response;\n    this.body = body;\n  }\n\n  abstract nextPageRequestOptions(): PageRequestOptions | null;\n\n  abstract getPaginatedItems(): Item[];\n\n  hasNextPage(): boolean {\n    const items = this.getPaginatedItems();\n    if (!items.length) return false;\n    return this.nextPageRequestOptions() != null;\n  }\n\n  async getNextPage(): Promise<this> {\n    const nextOptions = this.nextPageRequestOptions();\n    if (!nextOptions) {\n      throw new WhopError(\n        'No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.',\n      );\n    }\n\n    return await this.#client.requestAPIList(this.constructor as any, nextOptions);\n  }\n\n  async *iterPages(): AsyncGenerator<this> {\n    let page: this = this;\n    yield page;\n    while (page.hasNextPage()) {\n      page = await page.getNextPage();\n      yield page;\n    }\n  }\n\n  async *[Symbol.asyncIterator](): AsyncGenerator<Item> {\n    for await (const page of this.iterPages()) {\n      for (const item of page.getPaginatedItems()) {\n        yield item;\n      }\n    }\n  }\n}\n\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */\nexport class PagePromise<\n    PageClass extends AbstractPage<Item>,\n    Item = ReturnType<PageClass['getPaginatedItems']>[number],\n  >\n  extends APIPromise<PageClass>\n  implements AsyncIterable<Item>\n{\n  constructor(\n    client: Whop,\n    request: Promise<APIResponseProps>,\n    Page: new (...args: ConstructorParameters<typeof AbstractPage>) => PageClass,\n  ) {\n    super(\n      client,\n      request,\n      async (client, props) =>\n        new Page(client, props.response, await defaultParseResponse(client, props), props.options),\n    );\n  }\n\n  /**\n   * Allow auto-paginating iteration on an unawaited list call, eg:\n   *\n   *    for await (const item of client.items.list()) {\n   *      console.log(item)\n   *    }\n   */\n  async *[Symbol.asyncIterator](): AsyncGenerator<Item> {\n    const page = await this;\n    for await (const item of page) {\n      yield item;\n    }\n  }\n}\n\nexport interface CursorPageResponse<Item> {\n  data: Array<Item>;\n\n  page_info: CursorPageResponse.PageInfo;\n}\n\nexport namespace CursorPageResponse {\n  export interface PageInfo {\n    end_cursor?: string;\n  }\n}\n\nexport interface CursorPageParams {\n  after?: string;\n}\n\nexport class CursorPage<Item> extends AbstractPage<Item> implements CursorPageResponse<Item> {\n  data: Array<Item>;\n\n  page_info: CursorPageResponse.PageInfo;\n\n  constructor(\n    client: Whop,\n    response: Response,\n    body: CursorPageResponse<Item>,\n    options: FinalRequestOptions,\n  ) {\n    super(client, response, body, options);\n\n    this.data = body.data || [];\n    this.page_info = body.page_info || {};\n  }\n\n  getPaginatedItems(): Item[] {\n    return this.data ?? [];\n  }\n\n  nextPageRequestOptions(): PageRequestOptions | null {\n    const cursor = this.page_info?.end_cursor;\n    if (!cursor) {\n      return null;\n    }\n\n    return {\n      ...this.options,\n      query: {\n        ...maybeObj(this.options.query),\n        after: cursor,\n      },\n    };\n  }\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Users extends APIResource {\n  /**\n   * Retrieves a user by ID or username\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<UserRetrieveResponse> {\n    return this._client.get(path`/users/${id}`, options);\n  }\n\n  /**\n   * Check if a user has access (and their access level) to a resource\n   */\n  checkAccess(\n    resourceID: string,\n    params: UserCheckAccessParams,\n    options?: RequestOptions,\n  ): APIPromise<UserCheckAccessResponse> {\n    const { id } = params;\n    return this._client.get(path`/users/${id}/access/${resourceID}`, options);\n  }\n}\n\n/**\n * An object representing a (sanitized) user of the site.\n */\nexport interface UserRetrieveResponse {\n  /**\n   * The internal ID of the user.\n   */\n  id: string;\n\n  /**\n   * The user's bio\n   */\n  bio: string | null;\n\n  /**\n   * When the user was created.\n   */\n  created_at: string;\n\n  /**\n   * The name of the user from their Whop account.\n   */\n  name: string | null;\n\n  /**\n   * The user's profile picture\n   */\n  profile_picture: UserRetrieveResponse.ProfilePicture | null;\n\n  /**\n   * The username of the user from their Whop account.\n   */\n  username: string;\n}\n\nexport namespace UserRetrieveResponse {\n  /**\n   * The user's profile picture\n   */\n  export interface ProfilePicture {\n    /**\n     * This is the URL you use to render optimized attachments on the client. This\n     * should be used for apps.\n     */\n    url: string | null;\n  }\n}\n\n/**\n * The result of a has access check for the developer API\n */\nexport interface UserCheckAccessResponse {\n  /**\n   * The permission level of the user\n   */\n  access_level: Shared.AccessLevel;\n\n  /**\n   * Whether the user has access to the resource\n   */\n  has_access: boolean;\n}\n\nexport interface UserCheckAccessParams {\n  id: string;\n}\n\nexport declare namespace Users {\n  export {\n    type UserRetrieveResponse as UserRetrieveResponse,\n    type UserCheckAccessResponse as UserCheckAccessResponse,\n    type UserCheckAccessParams as UserCheckAccessParams,\n  };\n}\n","import { WhopError } from '../../core/error';\n\n/**\n * Percent-encode everything that isn't safe to have in a path without encoding safe chars.\n *\n * Taken from https://datatracker.ietf.org/doc/html/rfc3986#section-3.3:\n * > unreserved  = ALPHA / DIGIT / \"-\" / \".\" / \"_\" / \"~\"\n * > sub-delims  = \"!\" / \"$\" / \"&\" / \"'\" / \"(\" / \")\" / \"*\" / \"+\" / \",\" / \";\" / \"=\"\n * > pchar       = unreserved / pct-encoded / sub-delims / \":\" / \"@\"\n */\nexport function encodeURIPath(str: string) {\n  return str.replace(/[^A-Za-z0-9\\-._~!$&'()*+,;=:@]+/g, encodeURIComponent);\n}\n\nconst EMPTY = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.create(null));\n\nexport const createPathTagFunction = (pathEncoder = encodeURIPath) =>\n  function path(statics: readonly string[], ...params: readonly unknown[]): string {\n    // If there are no params, no processing is needed.\n    if (statics.length === 1) return statics[0]!;\n\n    let postPath = false;\n    const invalidSegments = [];\n    const path = statics.reduce((previousValue, currentValue, index) => {\n      if (/[?#]/.test(currentValue)) {\n        postPath = true;\n      }\n      const value = params[index];\n      let encoded = (postPath ? encodeURIComponent : pathEncoder)('' + value);\n      if (\n        index !== params.length &&\n        (value == null ||\n          (typeof value === 'object' &&\n            // handle values from other realms\n            value.toString ===\n              Object.getPrototypeOf(Object.getPrototypeOf((value as any).hasOwnProperty ?? EMPTY) ?? EMPTY)\n                ?.toString))\n      ) {\n        encoded = value + '';\n        invalidSegments.push({\n          start: previousValue.length + currentValue.length,\n          length: encoded.length,\n          error: `Value of type ${Object.prototype.toString\n            .call(value)\n            .slice(8, -1)} is not a valid path parameter`,\n        });\n      }\n      return previousValue + currentValue + (index === params.length ? '' : encoded);\n    }, '');\n\n    const pathOnly = path.split(/[?#]/, 1)[0]!;\n    const invalidSegmentPattern = /(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)/gi;\n    let match;\n\n    // Find all invalid segments\n    while ((match = invalidSegmentPattern.exec(pathOnly)) !== null) {\n      invalidSegments.push({\n        start: match.index,\n        length: match[0].length,\n        error: `Value \"${match[0]}\" can\\'t be safely passed as a path parameter`,\n      });\n    }\n\n    invalidSegments.sort((a, b) => a.start - b.start);\n\n    if (invalidSegments.length > 0) {\n      let lastEnd = 0;\n      const underline = invalidSegments.reduce((acc, segment) => {\n        const spaces = ' '.repeat(segment.start - lastEnd);\n        const arrows = '^'.repeat(segment.length);\n        lastEnd = segment.start + segment.length;\n        return acc + spaces + arrows;\n      }, '');\n\n      throw new WhopError(\n        `Path parameters result in path with invalid segments:\\n${invalidSegments\n          .map((e) => e.error)\n          .join('\\n')}\\n${path}\\n${underline}`,\n      );\n    }\n\n    return path;\n  };\n\n/**\n * URI-encodes path params and ensures no unsafe /./ or /../ path segments are introduced.\n */\nexport const path = /* @__PURE__ */ createPathTagFunction(encodeURIPath);\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { hasOwn } from './values';\nimport { type Whop } from '../../client';\nimport { RequestOptions } from '../request-options';\n\ntype LogFn = (message: string, ...rest: unknown[]) => void;\nexport type Logger = {\n  error: LogFn;\n  warn: LogFn;\n  info: LogFn;\n  debug: LogFn;\n};\nexport type LogLevel = 'off' | 'error' | 'warn' | 'info' | 'debug';\n\nconst levelNumbers = {\n  off: 0,\n  error: 200,\n  warn: 300,\n  info: 400,\n  debug: 500,\n};\n\nexport const parseLogLevel = (\n  maybeLevel: string | undefined,\n  sourceName: string,\n  client: Whop,\n): LogLevel | undefined => {\n  if (!maybeLevel) {\n    return undefined;\n  }\n  if (hasOwn(levelNumbers, maybeLevel)) {\n    return maybeLevel;\n  }\n  loggerFor(client).warn(\n    `${sourceName} was set to ${JSON.stringify(maybeLevel)}, expected one of ${JSON.stringify(\n      Object.keys(levelNumbers),\n    )}`,\n  );\n  return undefined;\n};\n\nfunction noop() {}\n\nfunction makeLogFn(fnLevel: keyof Logger, logger: Logger | undefined, logLevel: LogLevel) {\n  if (!logger || levelNumbers[fnLevel] > levelNumbers[logLevel]) {\n    return noop;\n  } else {\n    // Don't wrap logger functions, we want the stacktrace intact!\n    return logger[fnLevel].bind(logger);\n  }\n}\n\nconst noopLogger = {\n  error: noop,\n  warn: noop,\n  info: noop,\n  debug: noop,\n};\n\nlet cachedLoggers = /* @__PURE__ */ new WeakMap<Logger, [LogLevel, Logger]>();\n\nexport function loggerFor(client: Whop): Logger {\n  const logger = client.logger;\n  const logLevel = client.logLevel ?? 'off';\n  if (!logger) {\n    return noopLogger;\n  }\n\n  const cachedLogger = cachedLoggers.get(logger);\n  if (cachedLogger && cachedLogger[0] === logLevel) {\n    return cachedLogger[1];\n  }\n\n  const levelLogger = {\n    error: makeLogFn('error', logger, logLevel),\n    warn: makeLogFn('warn', logger, logLevel),\n    info: makeLogFn('info', logger, logLevel),\n    debug: makeLogFn('debug', logger, logLevel),\n  };\n\n  cachedLoggers.set(logger, [logLevel, levelLogger]);\n\n  return levelLogger;\n}\n\nexport const formatRequestDetails = (details: {\n  options?: RequestOptions | undefined;\n  headers?: Headers | Record<string, string> | undefined;\n  retryOfRequestLogID?: string | undefined;\n  retryOf?: string | undefined;\n  url?: string | undefined;\n  status?: number | undefined;\n  method?: string | undefined;\n  durationMs?: number | undefined;\n  message?: unknown;\n  body?: unknown;\n}) => {\n  if (details.options) {\n    details.options = { ...details.options };\n    delete details.options['headers']; // redundant + leaks internals\n  }\n  if (details.headers) {\n    details.headers = Object.fromEntries(\n      (details.headers instanceof Headers ? [...details.headers] : Object.entries(details.headers)).map(\n        ([name, value]) => [\n          name,\n          (\n            name.toLowerCase() === 'authorization' ||\n            name.toLowerCase() === 'cookie' ||\n            name.toLowerCase() === 'set-cookie'\n          ) ?\n            '***'\n          : value,\n        ],\n      ),\n    );\n  }\n  if ('retryOfRequestLogID' in details) {\n    if (details.retryOfRequestLogID) {\n      details.retryOf = details.retryOfRequestLogID;\n    }\n    delete details.retryOfRequestLogID;\n  }\n  return details;\n};\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Reviews extends APIResource {\n  /**\n   * Retrieve a review by its ID\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<ReviewRetrieveResponse> {\n    return this._client.get(path`/reviews/${id}`, options);\n  }\n\n  /**\n   * List all reviews\n   */\n  list(\n    query: ReviewListParams,\n    options?: RequestOptions,\n  ): PagePromise<ReviewListResponsesCursorPage, ReviewListResponse> {\n    return this._client.getAPIList('/reviews', CursorPage<ReviewListResponse>, { query, ...options });\n  }\n}\n\nexport type ReviewListResponsesCursorPage = CursorPage<ReviewListResponse>;\n\n/**\n * The statuses a review can have\n */\nexport type ReviewStatus = 'pending' | 'published' | 'removed';\n\n/**\n * An object representing a user review of a company.\n */\nexport interface ReviewRetrieveResponse {\n  /**\n   * The internal ID of the review.\n   */\n  id: string;\n\n  /**\n   * The attachments attached to the review.\n   */\n  attachments: Array<ReviewRetrieveResponse.Attachment>;\n\n  /**\n   * The company the review is for.\n   */\n  company: ReviewRetrieveResponse.Company;\n\n  /**\n   * The timestamp of when the review was created.\n   */\n  created_at: string;\n\n  /**\n   * The description of the review.\n   */\n  description: string | null;\n\n  /**\n   * The timestamp of when the user joined the product.\n   */\n  joined_at: string | null;\n\n  /**\n   * Whether or not the user paid for the product. If null, the payment status is\n   * unknown.\n   */\n  paid_for_product: boolean | null;\n\n  /**\n   * The product the review is for.\n   */\n  product: ReviewRetrieveResponse.Product;\n\n  /**\n   * The timestamp of when the review was published.\n   */\n  published_at: string | null;\n\n  /**\n   * The number of stars the user gave the product.\n   */\n  stars: number;\n\n  /**\n   * The status of the review.\n   */\n  status: ReviewStatus;\n\n  /**\n   * The title of the review.\n   */\n  title: string | null;\n\n  /**\n   * The timestamp of when the review was last updated.\n   */\n  updated_at: string;\n\n  /**\n   * The user account that performed the action.\n   */\n  user: ReviewRetrieveResponse.User;\n}\n\nexport namespace ReviewRetrieveResponse {\n  /**\n   * Represents an image attachment\n   */\n  export interface Attachment {\n    /**\n     * The ID of the attachment\n     */\n    id: string;\n\n    /**\n     * The attachment's content type (e.g., image/jpg, video/mp4)\n     */\n    content_type: string | null;\n\n    /**\n     * The name of the file\n     */\n    filename: string | null;\n\n    /**\n     * This is the URL you use to render optimized attachments on the client. This\n     * should be used for apps.\n     */\n    url: string | null;\n  }\n\n  /**\n   * The company the review is for.\n   */\n  export interface Company {\n    /**\n     * The ID (tag) of the company.\n     */\n    id: string;\n\n    /**\n     * The slug/route of the company on the Whop site.\n     */\n    route: string;\n\n    /**\n     * The title of the company.\n     */\n    title: string;\n  }\n\n  /**\n   * The product the review is for.\n   */\n  export interface Product {\n    /**\n     * The internal ID of the public product.\n     */\n    id: string;\n\n    /**\n     * The title of the product. Use for Whop 4.0.\n     */\n    title: string;\n  }\n\n  /**\n   * The user account that performed the action.\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\n/**\n * An object representing a user review of a company.\n */\nexport interface ReviewListResponse {\n  /**\n   * The internal ID of the review.\n   */\n  id: string;\n\n  /**\n   * The attachments attached to the review.\n   */\n  attachments: Array<ReviewListResponse.Attachment>;\n\n  /**\n   * The timestamp of when the review was created.\n   */\n  created_at: string;\n\n  /**\n   * The description of the review.\n   */\n  description: string | null;\n\n  /**\n   * The timestamp of when the user joined the product.\n   */\n  joined_at: string | null;\n\n  /**\n   * Whether or not the user paid for the product. If null, the payment status is\n   * unknown.\n   */\n  paid_for_product: boolean | null;\n\n  /**\n   * The timestamp of when the review was published.\n   */\n  published_at: string | null;\n\n  /**\n   * The number of stars the user gave the product.\n   */\n  stars: number;\n\n  /**\n   * The status of the review.\n   */\n  status: ReviewStatus;\n\n  /**\n   * The title of the review.\n   */\n  title: string | null;\n\n  /**\n   * The timestamp of when the review was last updated.\n   */\n  updated_at: string;\n\n  /**\n   * The user account that performed the action.\n   */\n  user: ReviewListResponse.User;\n}\n\nexport namespace ReviewListResponse {\n  /**\n   * Represents an image attachment\n   */\n  export interface Attachment {\n    /**\n     * The ID of the attachment\n     */\n    id: string;\n\n    /**\n     * The attachment's content type (e.g., image/jpg, video/mp4)\n     */\n    content_type: string | null;\n\n    /**\n     * The name of the file\n     */\n    filename: string | null;\n\n    /**\n     * This is the URL you use to render optimized attachments on the client. This\n     * should be used for apps.\n     */\n    url: string | null;\n  }\n\n  /**\n   * The user account that performed the action.\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\nexport interface ReviewListParams extends CursorPageParams {\n  /**\n   * The ID of the product\n   */\n  product_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The maximum star rating of the review (inclusive)\n   */\n  max_stars?: number | null;\n\n  /**\n   * The minimum star rating of the review (inclusive)\n   */\n  min_stars?: number | null;\n}\n\nexport declare namespace Reviews {\n  export {\n    type ReviewStatus as ReviewStatus,\n    type ReviewRetrieveResponse as ReviewRetrieveResponse,\n    type ReviewListResponse as ReviewListResponse,\n    type ReviewListResponsesCursorPage as ReviewListResponsesCursorPage,\n    type ReviewListParams as ReviewListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { type Whop } from '../client';\n\nimport { type PromiseOrValue } from '../internal/types';\nimport { APIResponseProps, defaultParseResponse } from '../internal/parse';\n\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */\nexport class APIPromise<T> extends Promise<T> {\n  private parsedPromise: Promise<T> | undefined;\n  #client: Whop;\n\n  constructor(\n    client: Whop,\n    private responsePromise: Promise<APIResponseProps>,\n    private parseResponse: (\n      client: Whop,\n      props: APIResponseProps,\n    ) => PromiseOrValue<T> = defaultParseResponse,\n  ) {\n    super((resolve) => {\n      // this is maybe a bit weird but this has to be a no-op to not implicitly\n      // parse the response body; instead .then, .catch, .finally are overridden\n      // to parse the response\n      resolve(null as any);\n    });\n    this.#client = client;\n  }\n\n  _thenUnwrap<U>(transform: (data: T, props: APIResponseProps) => U): APIPromise<U> {\n    return new APIPromise(this.#client, this.responsePromise, async (client, props) =>\n      transform(await this.parseResponse(client, props), props),\n    );\n  }\n\n  /**\n   * Gets the raw `Response` instance instead of parsing the response\n   * data.\n   *\n   * If you want to parse the response body but still get the `Response`\n   * instance, you can use {@link withResponse()}.\n   *\n   *  Getting the wrong TypeScript type for `Response`?\n   * Try setting `\"moduleResolution\": \"NodeNext\"` or add `\"lib\": [\"DOM\"]`\n   * to your `tsconfig.json`.\n   */\n  asResponse(): Promise<Response> {\n    return this.responsePromise.then((p) => p.response);\n  }\n\n  /**\n   * Gets the parsed response data and the raw `Response` instance.\n   *\n   * If you just want to get the raw `Response` instance without parsing it,\n   * you can use {@link asResponse()}.\n   *\n   *  Getting the wrong TypeScript type for `Response`?\n   * Try setting `\"moduleResolution\": \"NodeNext\"` or add `\"lib\": [\"DOM\"]`\n   * to your `tsconfig.json`.\n   */\n  async withResponse(): Promise<{ data: T; response: Response }> {\n    const [data, response] = await Promise.all([this.parse(), this.asResponse()]);\n    return { data, response };\n  }\n\n  private parse(): Promise<T> {\n    if (!this.parsedPromise) {\n      this.parsedPromise = this.responsePromise.then((data) => this.parseResponse(this.#client, data));\n    }\n    return this.parsedPromise;\n  }\n\n  override then<TResult1 = T, TResult2 = never>(\n    onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null,\n  ): Promise<TResult1 | TResult2> {\n    return this.parse().then(onfulfilled, onrejected);\n  }\n\n  override catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | undefined | null,\n  ): Promise<T | TResult> {\n    return this.parse().catch(onrejected);\n  }\n\n  override finally(onfinally?: (() => void) | undefined | null): Promise<T> {\n    return this.parse().finally(onfinally);\n  }\n}\n","import { decode as b64u } from '../../util/base64url.js';\nimport { verify } from '../../lib/verify.js';\nimport { JOSEAlgNotAllowed, JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport { concat, encoder, decoder, encode } from '../../lib/buffer_utils.js';\nimport { isDisjoint } from '../../lib/is_disjoint.js';\nimport { isObject } from '../../lib/is_object.js';\nimport { checkKeyType } from '../../lib/check_key_type.js';\nimport { validateCrit } from '../../lib/validate_crit.js';\nimport { validateAlgorithms } from '../../lib/validate_algorithms.js';\nimport { normalizeKey } from '../../lib/normalize_key.js';\nexport async function flattenedVerify(jws, key, options) {\n    if (!isObject(jws)) {\n        throw new JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !isObject(jws.header)) {\n        throw new JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = b64u(jws.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jws.header)) {\n        throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && validateAlgorithms('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n    }\n    checkKeyType(alg, key, 'verify');\n    const data = concat(jws.protected !== undefined ? encode(jws.protected) : new Uint8Array(), encode('.'), typeof jws.payload === 'string'\n        ? b64\n            ? encode(jws.payload)\n            : encoder.encode(jws.payload)\n        : jws.payload);\n    let signature;\n    try {\n        signature = b64u(jws.signature);\n    }\n    catch {\n        throw new JWSInvalid('Failed to base64url decode the signature');\n    }\n    const k = await normalizeKey(key, alg);\n    const verified = await verify(alg, k, signature, data);\n    if (!verified) {\n        throw new JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = b64u(jws.payload);\n        }\n        catch {\n            throw new JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key: k };\n    }\n    return result;\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n/**\n * Read an environment variable.\n *\n * Trims beginning and trailing whitespace.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */\nexport const readEnv = (env: string): string | undefined => {\n  if (typeof (globalThis as any).process !== 'undefined') {\n    return (globalThis as any).process.env?.[env]?.trim() ?? undefined;\n  }\n  if (typeof (globalThis as any).Deno !== 'undefined') {\n    return (globalThis as any).Deno.env?.get?.(env)?.trim();\n  }\n  return undefined;\n};\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class AuthorizedUsers extends APIResource {\n  /**\n   * Retrieves a authorized user by ID\n   *\n   * Required permissions:\n   *\n   * - `company:authorized_user:read`\n   * - `member:email:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<AuthorizedUserRetrieveResponse> {\n    return this._client.get(path`/authorized_users/${id}`, options);\n  }\n\n  /**\n   * Lists authorized users\n   *\n   * Required permissions:\n   *\n   * - `company:authorized_user:read`\n   * - `member:email:read`\n   */\n  list(\n    query: AuthorizedUserListParams,\n    options?: RequestOptions,\n  ): PagePromise<AuthorizedUserListResponsesCursorPage, AuthorizedUserListResponse> {\n    return this._client.getAPIList('/authorized_users', CursorPage<AuthorizedUserListResponse>, {\n      query,\n      ...options,\n    });\n  }\n}\n\nexport type AuthorizedUserListResponsesCursorPage = CursorPage<AuthorizedUserListResponse>;\n\n/**\n * A user who has elevated security privileges for a company\n */\nexport interface AuthorizedUserRetrieveResponse {\n  /**\n   * A unique ID representing the authorized user object.\n   */\n  id: string;\n\n  /**\n   * The role of the authorized user in the company.\n   */\n  role: Shared.AuthorizedUserRoles;\n\n  /**\n   * The user associated with the authorized user.\n   */\n  user: AuthorizedUserRetrieveResponse.User;\n}\n\nexport namespace AuthorizedUserRetrieveResponse {\n  /**\n   * The user associated with the authorized user.\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The email of the user\n     */\n    email: string | null;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\n/**\n * A user who has elevated security privileges for a company\n */\nexport interface AuthorizedUserListResponse {\n  /**\n   * A unique ID representing the authorized user object.\n   */\n  id: string;\n\n  /**\n   * The role of the authorized user in the company.\n   */\n  role: Shared.AuthorizedUserRoles;\n\n  /**\n   * The user associated with the authorized user.\n   */\n  user: AuthorizedUserListResponse.User;\n}\n\nexport namespace AuthorizedUserListResponse {\n  /**\n   * The user associated with the authorized user.\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The email of the user\n     */\n    email: string | null;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\nexport interface AuthorizedUserListParams extends CursorPageParams {\n  /**\n   * The ID of the company to list authorized users for\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * Possible roles an authorized user can have\n   */\n  role?: Shared.AuthorizedUserRoles | null;\n\n  /**\n   * Filter by the user ID to check if the user is an authorized user\n   */\n  user_id?: string | null;\n}\n\nexport declare namespace AuthorizedUsers {\n  export {\n    type AuthorizedUserRetrieveResponse as AuthorizedUserRetrieveResponse,\n    type AuthorizedUserListResponse as AuthorizedUserListResponse,\n    type AuthorizedUserListResponsesCursorPage as AuthorizedUserListResponsesCursorPage,\n    type AuthorizedUserListParams as AuthorizedUserListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nexport * from './shared';\nexport {\n  AppBuilds,\n  type AppBuildListResponse,\n  type AppBuildCreateParams,\n  type AppBuildListParams,\n  type AppBuildListResponsesCursorPage,\n} from './app-builds';\nexport {\n  Apps,\n  type AppListResponse,\n  type AppCreateParams,\n  type AppUpdateParams,\n  type AppListParams,\n  type AppListResponsesCursorPage,\n} from './apps';\nexport {\n  AuthorizedUsers,\n  type AuthorizedUserRetrieveResponse,\n  type AuthorizedUserListResponse,\n  type AuthorizedUserListParams,\n  type AuthorizedUserListResponsesCursorPage,\n} from './authorized-users';\nexport {\n  ChatChannels,\n  type ChatChannelListResponse,\n  type ChatChannelUpdateParams,\n  type ChatChannelListParams,\n  type ChatChannelListResponsesCursorPage,\n} from './chat-channels';\nexport {\n  CheckoutConfigurations,\n  type CheckoutConfigurationListResponse,\n  type CheckoutConfigurationCreateParams,\n  type CheckoutConfigurationListParams,\n  type CheckoutConfigurationListResponsesCursorPage,\n} from './checkout-configurations';\nexport { Companies } from './companies';\nexport {\n  CourseChapters,\n  type CourseChapter,\n  type CourseChapterListResponse,\n  type CourseChapterDeleteResponse,\n  type CourseChapterCreateParams,\n  type CourseChapterUpdateParams,\n  type CourseChapterListParams,\n  type CourseChapterListResponsesCursorPage,\n} from './course-chapters';\nexport {\n  CourseLessonInteractions,\n  type CourseLessonInteractionListParams,\n} from './course-lesson-interactions';\nexport {\n  CourseLessons,\n  type AssessmentQuestionTypes,\n  type Lesson,\n  type LessonTypes,\n  type LessonVisibilities,\n  type CourseLessonListResponse,\n  type CourseLessonDeleteResponse,\n  type CourseLessonCreateParams,\n  type CourseLessonUpdateParams,\n  type CourseLessonListParams,\n  type CourseLessonListResponsesCursorPage,\n} from './course-lessons';\nexport {\n  Courses,\n  type Course,\n  type Languages,\n  type CourseListResponse,\n  type CourseDeleteResponse,\n  type CourseCreateParams,\n  type CourseUpdateParams,\n  type CourseListParams,\n  type CourseListResponsesCursorPage,\n} from './courses';\nexport {\n  Entries,\n  type EntryListResponse,\n  type EntryApproveResponse,\n  type EntryListParams,\n  type EntryListResponsesCursorPage,\n} from './entries';\nexport {\n  Experiences,\n  type ExperienceListResponse,\n  type ExperienceDeleteResponse,\n  type ExperienceCreateParams,\n  type ExperienceUpdateParams,\n  type ExperienceListParams,\n  type ExperienceAttachParams,\n  type ExperienceDetachParams,\n  type ExperienceDuplicateParams,\n  type ExperienceListResponsesCursorPage,\n} from './experiences';\nexport {\n  ForumPosts,\n  type ForumPostListResponse,\n  type ForumPostCreateParams,\n  type ForumPostUpdateParams,\n  type ForumPostListParams,\n  type ForumPostListResponsesCursorPage,\n} from './forum-posts';\nexport {\n  Forums,\n  type ForumListResponse,\n  type ForumUpdateParams,\n  type ForumListParams,\n  type ForumListResponsesCursorPage,\n} from './forums';\nexport {\n  Invoices,\n  type InvoiceCreateResponse,\n  type InvoiceVoidResponse,\n  type InvoiceCreateParams,\n  type InvoiceListParams,\n} from './invoices';\nexport { LedgerAccounts, type LedgerAccountRetrieveResponse } from './ledger-accounts';\nexport {\n  Members,\n  type MemberRetrieveResponse,\n  type MemberListResponse,\n  type MemberListParams,\n  type MemberListResponsesCursorPage,\n} from './members';\nexport {\n  Memberships,\n  type MembershipListResponse,\n  type MembershipUpdateParams,\n  type MembershipListParams,\n  type MembershipCancelParams,\n  type MembershipPauseParams,\n  type MembershipListResponsesCursorPage,\n} from './memberships';\nexport {\n  Messages,\n  type MessageListResponse,\n  type MessageCreateParams,\n  type MessageUpdateParams,\n  type MessageListParams,\n  type MessageListResponsesCursorPage,\n} from './messages';\nexport {\n  Payments,\n  type BillingReasons,\n  type CardBrands,\n  type PaymentMethodTypes,\n  type PaymentListResponse,\n  type PaymentListParams,\n  type PaymentRefundParams,\n  type PaymentListResponsesCursorPage,\n} from './payments';\nexport {\n  Plans,\n  type PlanListResponse,\n  type PlanDeleteResponse,\n  type PlanCreateParams,\n  type PlanUpdateParams,\n  type PlanListParams,\n  type PlanListResponsesCursorPage,\n} from './plans';\nexport {\n  Products,\n  type ProductDeleteResponse,\n  type ProductCreateParams,\n  type ProductUpdateParams,\n  type ProductListParams,\n} from './products';\nexport {\n  PromoCodes,\n  type PromoCode,\n  type PromoCodeStatus,\n  type PromoDuration,\n  type PromoCodeListResponse,\n  type PromoCodeDeleteResponse,\n  type PromoCodeCreateParams,\n  type PromoCodeListParams,\n  type PromoCodeListResponsesCursorPage,\n} from './promo-codes';\nexport {\n  Reactions,\n  type ReactionListResponse,\n  type ReactionCreateParams,\n  type ReactionListParams,\n  type ReactionListResponsesCursorPage,\n} from './reactions';\nexport {\n  Reviews,\n  type ReviewStatus,\n  type ReviewRetrieveResponse,\n  type ReviewListResponse,\n  type ReviewListParams,\n  type ReviewListResponsesCursorPage,\n} from './reviews';\nexport {\n  Shipments,\n  type ShipmentListResponse,\n  type ShipmentCreateParams,\n  type ShipmentListParams,\n  type ShipmentListResponsesCursorPage,\n} from './shipments';\nexport {\n  SupportChannels,\n  type SupportChannelListResponse,\n  type SupportChannelCreateParams,\n  type SupportChannelListParams,\n  type SupportChannelListResponsesCursorPage,\n} from './support-channels';\nexport {\n  Transfers,\n  type TransferListResponse,\n  type TransferCreateParams,\n  type TransferListParams,\n  type TransferListResponsesCursorPage,\n} from './transfers';\nexport {\n  Users,\n  type UserRetrieveResponse,\n  type UserCheckAccessResponse,\n  type UserCheckAccessParams,\n} from './users';\nexport {\n  Webhooks,\n  type InvoiceCreatedWebhookEvent,\n  type InvoicePaidWebhookEvent,\n  type InvoicePastDueWebhookEvent,\n  type InvoiceVoidedWebhookEvent,\n  type MembershipActivatedWebhookEvent,\n  type MembershipDeactivatedWebhookEvent,\n  type EntryCreatedWebhookEvent,\n  type EntryApprovedWebhookEvent,\n  type EntryDeniedWebhookEvent,\n  type EntryDeletedWebhookEvent,\n  type CourseLessonInteractionCompletedWebhookEvent,\n  type PaymentSucceededWebhookEvent,\n  type PaymentFailedWebhookEvent,\n  type PaymentPendingWebhookEvent,\n  type UnwrapWebhookEvent,\n} from './webhooks';\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Entries extends APIResource {\n  /**\n   * Retrieves an entry by ID\n   *\n   * Required permissions:\n   *\n   * - `plan:waitlist:read`\n   * - `member:email:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Entry> {\n    return this._client.get(path`/entries/${id}`, options);\n  }\n\n  /**\n   * Lists entries for a company\n   *\n   * Required permissions:\n   *\n   * - `plan:waitlist:read`\n   * - `member:email:read`\n   */\n  list(\n    query: EntryListParams,\n    options?: RequestOptions,\n  ): PagePromise<EntryListResponsesCursorPage, EntryListResponse> {\n    return this._client.getAPIList('/entries', CursorPage<EntryListResponse>, { query, ...options });\n  }\n\n  /**\n   * Approve an entry\n   *\n   * Required permissions:\n   *\n   * - `plan:waitlist:manage`\n   */\n  approve(id: string, options?: RequestOptions): APIPromise<EntryApproveResponse> {\n    return this._client.post(path`/entries/${id}/approve`, options);\n  }\n\n  /**\n   * Deny an entry\n   *\n   * Required permissions:\n   *\n   * - `plan:waitlist:manage`\n   * - `plan:basic:read`\n   * - `member:email:read`\n   */\n  deny(id: string, options?: RequestOptions): APIPromise<Shared.Entry> {\n    return this._client.post(path`/entries/${id}/deny`, options);\n  }\n}\n\nexport type EntryListResponsesCursorPage = CursorPage<EntryListResponse>;\n\n/**\n * An object representing an entry in a waitlist.\n */\nexport interface EntryListResponse {\n  /**\n   * The internal ID of the entry.\n   */\n  id: string;\n\n  /**\n   * When the entry was created.\n   */\n  created_at: string | null;\n\n  /**\n   * The waitlist plan the entry if for.\n   */\n  plan: EntryListResponse.Plan | null;\n\n  /**\n   * The access pass tied to this entry, if there is one.\n   */\n  product: EntryListResponse.Product | null;\n\n  /**\n   * The status of the entry.\n   */\n  status: Shared.EntryStatus;\n\n  /**\n   * The user who created the entry.\n   */\n  user: EntryListResponse.User;\n}\n\nexport namespace EntryListResponse {\n  /**\n   * The waitlist plan the entry if for.\n   */\n  export interface Plan {\n    /**\n     * The internal ID of the plan.\n     */\n    id: string;\n  }\n\n  /**\n   * The access pass tied to this entry, if there is one.\n   */\n  export interface Product {\n    /**\n     * The internal ID of the public product.\n     */\n    id: string;\n\n    /**\n     * The title of the product. Use for Whop 4.0.\n     */\n    title: string;\n  }\n\n  /**\n   * The user who created the entry.\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The email of the user\n     */\n    email: string | null;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\n/**\n * An object representing an asynchronous job.\n */\nexport interface EntryApproveResponse {\n  /**\n   * The ID of the job.\n   */\n  job_id: string;\n}\n\nexport interface EntryListParams extends CursorPageParams {\n  /**\n   * The ID of the company\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * Which columns can be used to sort.\n   */\n  order?: 'id' | 'created_at' | null;\n\n  /**\n   * The plan IDs to filter the entries by\n   */\n  plan_ids?: Array<string> | null;\n\n  /**\n   * The product IDs to filter the entries by\n   */\n  product_ids?: Array<string> | null;\n\n  /**\n   * The statuses to filter the entries by\n   */\n  statuses?: Array<Shared.EntryStatus> | null;\n}\n\nexport declare namespace Entries {\n  export {\n    type EntryListResponse as EntryListResponse,\n    type EntryApproveResponse as EntryApproveResponse,\n    type EntryListResponsesCursorPage as EntryListResponsesCursorPage,\n    type EntryListParams as EntryListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { CourseLessonInteractionListItemsCursorPage } from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class CourseLessonInteractions extends APIResource {\n  /**\n   * Retrieves a course lesson interaction by ID\n   *\n   * Required permissions:\n   *\n   * - `course_lesson_interaction:read`\n   * - `courses:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.CourseLessonInteraction> {\n    return this._client.get(path`/course_lesson_interactions/${id}`, options);\n  }\n\n  /**\n   * Lists course lesson interactions\n   *\n   * Required permissions:\n   *\n   * - `course_lesson_interaction:read`\n   * - `courses:read`\n   */\n  list(\n    query: CourseLessonInteractionListParams | null | undefined = {},\n    options?: RequestOptions,\n  ): PagePromise<CourseLessonInteractionListItemsCursorPage, Shared.CourseLessonInteractionListItem> {\n    return this._client.getAPIList(\n      '/course_lesson_interactions',\n      CursorPage<Shared.CourseLessonInteractionListItem>,\n      { query, ...options },\n    );\n  }\n}\n\nexport interface CourseLessonInteractionListParams extends CursorPageParams {\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Whether the lesson has been completed by the user\n   */\n  completed?: boolean | null;\n\n  /**\n   * The ID of the course to list course lesson interactions for\n   */\n  course_id?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The ID of the lesson to list course lesson interactions for\n   */\n  lesson_id?: string | null;\n\n  /**\n   * The ID of the user to list course lesson interactions for\n   */\n  user_id?: string | null;\n}\n\nexport declare namespace CourseLessonInteractions {\n  export { type CourseLessonInteractionListParams as CourseLessonInteractionListParams };\n}\n\nexport { type CourseLessonInteractionListItemsCursorPage };\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport type { RequestInit, RequestInfo, BodyInit } from './internal/builtin-types';\nimport type { HTTPMethod, PromiseOrValue, MergedRequestInit, FinalizedRequestInit } from './internal/types';\nimport { uuid4 } from './internal/utils/uuid';\nimport { validatePositiveInteger, isAbsoluteURL, safeJSON } from './internal/utils/values';\nimport { sleep } from './internal/utils/sleep';\nexport type { Logger, LogLevel } from './internal/utils/log';\nimport { castToError, isAbortError } from './internal/errors';\nimport type { APIResponseProps } from './internal/parse';\nimport { getPlatformHeaders } from './internal/detect-platform';\nimport * as Shims from './internal/shims';\nimport * as Opts from './internal/request-options';\nimport * as qs from './internal/qs';\nimport { VERSION } from './version';\nimport * as Errors from './core/error';\nimport * as Pagination from './core/pagination';\nimport { AbstractPage, type CursorPageParams, CursorPageResponse } from './core/pagination';\nimport * as Uploads from './core/uploads';\nimport * as API from './resources/index';\nimport { APIPromise } from './core/api-promise';\nimport {\n  AppBuildCreateParams,\n  AppBuildListParams,\n  AppBuildListResponse,\n  AppBuildListResponsesCursorPage,\n  AppBuilds,\n} from './resources/app-builds';\nimport {\n  AppCreateParams,\n  AppListParams,\n  AppListResponse,\n  AppListResponsesCursorPage,\n  AppUpdateParams,\n  Apps,\n} from './resources/apps';\nimport {\n  AuthorizedUserListParams,\n  AuthorizedUserListResponse,\n  AuthorizedUserListResponsesCursorPage,\n  AuthorizedUserRetrieveResponse,\n  AuthorizedUsers,\n} from './resources/authorized-users';\nimport {\n  ChatChannelListParams,\n  ChatChannelListResponse,\n  ChatChannelListResponsesCursorPage,\n  ChatChannelUpdateParams,\n  ChatChannels,\n} from './resources/chat-channels';\nimport {\n  CheckoutConfigurationCreateParams,\n  CheckoutConfigurationListParams,\n  CheckoutConfigurationListResponse,\n  CheckoutConfigurationListResponsesCursorPage,\n  CheckoutConfigurations,\n} from './resources/checkout-configurations';\nimport { Companies } from './resources/companies';\nimport {\n  CourseChapter,\n  CourseChapterCreateParams,\n  CourseChapterDeleteResponse,\n  CourseChapterListParams,\n  CourseChapterListResponse,\n  CourseChapterListResponsesCursorPage,\n  CourseChapterUpdateParams,\n  CourseChapters,\n} from './resources/course-chapters';\nimport {\n  CourseLessonInteractionListParams,\n  CourseLessonInteractions,\n} from './resources/course-lesson-interactions';\nimport {\n  AssessmentQuestionTypes,\n  CourseLessonCreateParams,\n  CourseLessonDeleteResponse,\n  CourseLessonListParams,\n  CourseLessonListResponse,\n  CourseLessonListResponsesCursorPage,\n  CourseLessonUpdateParams,\n  CourseLessons,\n  Lesson,\n  LessonTypes,\n  LessonVisibilities,\n} from './resources/course-lessons';\nimport {\n  Course,\n  CourseCreateParams,\n  CourseDeleteResponse,\n  CourseListParams,\n  CourseListResponse,\n  CourseListResponsesCursorPage,\n  CourseUpdateParams,\n  Courses,\n  Languages,\n} from './resources/courses';\nimport {\n  Entries,\n  EntryApproveResponse,\n  EntryListParams,\n  EntryListResponse,\n  EntryListResponsesCursorPage,\n} from './resources/entries';\nimport {\n  ExperienceAttachParams,\n  ExperienceCreateParams,\n  ExperienceDeleteResponse,\n  ExperienceDetachParams,\n  ExperienceDuplicateParams,\n  ExperienceListParams,\n  ExperienceListResponse,\n  ExperienceListResponsesCursorPage,\n  ExperienceUpdateParams,\n  Experiences,\n} from './resources/experiences';\nimport {\n  ForumPostCreateParams,\n  ForumPostListParams,\n  ForumPostListResponse,\n  ForumPostListResponsesCursorPage,\n  ForumPostUpdateParams,\n  ForumPosts,\n} from './resources/forum-posts';\nimport {\n  ForumListParams,\n  ForumListResponse,\n  ForumListResponsesCursorPage,\n  ForumUpdateParams,\n  Forums,\n} from './resources/forums';\nimport {\n  InvoiceCreateParams,\n  InvoiceCreateResponse,\n  InvoiceListParams,\n  InvoiceVoidResponse,\n  Invoices,\n} from './resources/invoices';\nimport { LedgerAccountRetrieveResponse, LedgerAccounts } from './resources/ledger-accounts';\nimport {\n  MemberListParams,\n  MemberListResponse,\n  MemberListResponsesCursorPage,\n  MemberRetrieveResponse,\n  Members,\n} from './resources/members';\nimport {\n  MembershipCancelParams,\n  MembershipListParams,\n  MembershipListResponse,\n  MembershipListResponsesCursorPage,\n  MembershipPauseParams,\n  MembershipUpdateParams,\n  Memberships,\n} from './resources/memberships';\nimport {\n  MessageCreateParams,\n  MessageListParams,\n  MessageListResponse,\n  MessageListResponsesCursorPage,\n  MessageUpdateParams,\n  Messages,\n} from './resources/messages';\nimport {\n  BillingReasons,\n  CardBrands,\n  PaymentListParams,\n  PaymentListResponse,\n  PaymentListResponsesCursorPage,\n  PaymentMethodTypes,\n  PaymentRefundParams,\n  Payments,\n} from './resources/payments';\nimport {\n  PlanCreateParams,\n  PlanDeleteResponse,\n  PlanListParams,\n  PlanListResponse,\n  PlanListResponsesCursorPage,\n  PlanUpdateParams,\n  Plans,\n} from './resources/plans';\nimport {\n  ProductCreateParams,\n  ProductDeleteResponse,\n  ProductListParams,\n  ProductUpdateParams,\n  Products,\n} from './resources/products';\nimport {\n  PromoCode,\n  PromoCodeCreateParams,\n  PromoCodeDeleteResponse,\n  PromoCodeListParams,\n  PromoCodeListResponse,\n  PromoCodeListResponsesCursorPage,\n  PromoCodeStatus,\n  PromoCodes,\n  PromoDuration,\n} from './resources/promo-codes';\nimport {\n  ReactionCreateParams,\n  ReactionListParams,\n  ReactionListResponse,\n  ReactionListResponsesCursorPage,\n  Reactions,\n} from './resources/reactions';\nimport {\n  ReviewListParams,\n  ReviewListResponse,\n  ReviewListResponsesCursorPage,\n  ReviewRetrieveResponse,\n  ReviewStatus,\n  Reviews,\n} from './resources/reviews';\nimport {\n  ShipmentCreateParams,\n  ShipmentListParams,\n  ShipmentListResponse,\n  ShipmentListResponsesCursorPage,\n  Shipments,\n} from './resources/shipments';\nimport {\n  SupportChannelCreateParams,\n  SupportChannelListParams,\n  SupportChannelListResponse,\n  SupportChannelListResponsesCursorPage,\n  SupportChannels,\n} from './resources/support-channels';\nimport {\n  TransferCreateParams,\n  TransferListParams,\n  TransferListResponse,\n  TransferListResponsesCursorPage,\n  Transfers,\n} from './resources/transfers';\nimport {\n  UserCheckAccessParams,\n  UserCheckAccessResponse,\n  UserRetrieveResponse,\n  Users,\n} from './resources/users';\nimport {\n  CourseLessonInteractionCompletedWebhookEvent,\n  EntryApprovedWebhookEvent,\n  EntryCreatedWebhookEvent,\n  EntryDeletedWebhookEvent,\n  EntryDeniedWebhookEvent,\n  InvoiceCreatedWebhookEvent,\n  InvoicePaidWebhookEvent,\n  InvoicePastDueWebhookEvent,\n  InvoiceVoidedWebhookEvent,\n  MembershipActivatedWebhookEvent,\n  MembershipDeactivatedWebhookEvent,\n  PaymentFailedWebhookEvent,\n  PaymentPendingWebhookEvent,\n  PaymentSucceededWebhookEvent,\n  UnwrapWebhookEvent,\n  Webhooks,\n} from './resources/webhooks';\nimport { type Fetch } from './internal/builtin-types';\nimport { HeadersLike, NullableHeaders, buildHeaders } from './internal/headers';\nimport { FinalRequestOptions, RequestOptions } from './internal/request-options';\nimport { readEnv } from './internal/utils/env';\nimport {\n  type LogLevel,\n  type Logger,\n  formatRequestDetails,\n  loggerFor,\n  parseLogLevel,\n} from './internal/utils/log';\nimport { isEmptyObj } from './internal/utils/values';\nimport { makeUserTokenVerifierFromSdk } from './lib/verify-user-token';\n\nexport interface ClientOptions {\n  /**\n   * The app API key from an app from the /dashboard/developer page\n   */\n  apiKey?: string | undefined;\n\n  /**\n   * Defaults to process.env['WHOP_WEBHOOK_SECRET'].\n   */\n  webhookKey?: string | null | undefined;\n\n  /**\n   * Defaults to process.env['WHOP_APP_ID'].\n   */\n  appID?: string | undefined;\n\n  /**\n   * Override the default base URL for the API, e.g., \"https://api.example.com/v2/\"\n   *\n   * Defaults to process.env['WHOP_BASE_URL'].\n   */\n  baseURL?: string | null | undefined;\n\n  /**\n   * The maximum amount of time (in milliseconds) that the client should wait for a response\n   * from the server before timing out a single request.\n   *\n   * Note that request timeouts are retried by default, so in a worst-case scenario you may wait\n   * much longer than this timeout before the promise succeeds or fails.\n   *\n   * @unit milliseconds\n   */\n  timeout?: number | undefined;\n  /**\n   * Additional `RequestInit` options to be passed to `fetch` calls.\n   * Properties will be overridden by per-request `fetchOptions`.\n   */\n  fetchOptions?: MergedRequestInit | undefined;\n\n  /**\n   * Specify a custom `fetch` function implementation.\n   *\n   * If not provided, we expect that `fetch` is defined globally.\n   */\n  fetch?: Fetch | undefined;\n\n  /**\n   * The maximum number of times that the client will retry a request in case of a\n   * temporary failure, like a network error or a 5XX error from the server.\n   *\n   * @default 2\n   */\n  maxRetries?: number | undefined;\n\n  /**\n   * Default headers to include with every request to the API.\n   *\n   * These can be removed in individual requests by explicitly setting the\n   * header to `null` in request options.\n   */\n  defaultHeaders?: HeadersLike | undefined;\n\n  /**\n   * Default query parameters to include with every request to the API.\n   *\n   * These can be removed in individual requests by explicitly setting the\n   * param to `undefined` in request options.\n   */\n  defaultQuery?: Record<string, string | undefined> | undefined;\n\n  /**\n   * Set the log level.\n   *\n   * Defaults to process.env['WHOP_LOG'] or 'warn' if it isn't set.\n   */\n  logLevel?: LogLevel | undefined;\n\n  /**\n   * Set the logger.\n   *\n   * Defaults to globalThis.console.\n   */\n  logger?: Logger | undefined;\n}\n\n/**\n * API Client for interfacing with the Whop API.\n */\nexport class Whop {\n  apiKey: string;\n  webhookKey: string | null;\n  appID: string;\n\n  baseURL: string;\n  maxRetries: number;\n  timeout: number;\n  logger: Logger | undefined;\n  logLevel: LogLevel | undefined;\n  fetchOptions: MergedRequestInit | undefined;\n\n  private fetch: Fetch;\n  #encoder: Opts.RequestEncoder;\n  protected idempotencyHeader?: string;\n  private _options: ClientOptions;\n\n  /**\n   * API Client for interfacing with the Whop API.\n   *\n   * @param {string | undefined} [opts.apiKey=process.env['WHOP_API_KEY'] ?? undefined]\n   * @param {string | null | undefined} [opts.webhookKey=process.env['WHOP_WEBHOOK_SECRET'] ?? null]\n   * @param {string | undefined} [opts.appID=process.env['WHOP_APP_ID'] ?? undefined]\n   * @param {string} [opts.baseURL=process.env['WHOP_BASE_URL'] ?? https://api.whop.com/api/v1] - Override the default base URL for the API.\n   * @param {number} [opts.timeout=1 minute] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n   * @param {MergedRequestInit} [opts.fetchOptions] - Additional `RequestInit` options to be passed to `fetch` calls.\n   * @param {Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n   * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n   * @param {HeadersLike} opts.defaultHeaders - Default headers to include with every request to the API.\n   * @param {Record<string, string | undefined>} opts.defaultQuery - Default query parameters to include with every request to the API.\n   */\n  constructor({\n    baseURL = readEnv('WHOP_BASE_URL'),\n    apiKey = readEnv('WHOP_API_KEY'),\n    webhookKey = readEnv('WHOP_WEBHOOK_SECRET') ?? null,\n    appID = readEnv('WHOP_APP_ID'),\n    ...opts\n  }: ClientOptions = {}) {\n    if (apiKey === undefined) {\n      throw new Errors.WhopError(\n        \"The WHOP_API_KEY environment variable is missing or empty; either provide it, or instantiate the Whop client with an apiKey option, like new Whop({ apiKey: 'My API Key' }).\",\n      );\n    }\n    if (appID === undefined) {\n      throw new Errors.WhopError(\n        \"The WHOP_APP_ID environment variable is missing or empty; either provide it, or instantiate the Whop client with an appID option, like new Whop({ appID: 'app_xxxxxxxxxxxxxx' }).\",\n      );\n    }\n\n    const options: ClientOptions = {\n      apiKey,\n      webhookKey,\n      appID,\n      ...opts,\n      baseURL: baseURL || `https://api.whop.com/api/v1`,\n    };\n\n    this.baseURL = options.baseURL!;\n    this.timeout = options.timeout ?? Whop.DEFAULT_TIMEOUT /* 1 minute */;\n    this.logger = options.logger ?? console;\n    const defaultLogLevel = 'warn';\n    // Set default logLevel early so that we can log a warning in parseLogLevel.\n    this.logLevel = defaultLogLevel;\n    this.logLevel =\n      parseLogLevel(options.logLevel, 'ClientOptions.logLevel', this) ??\n      parseLogLevel(readEnv('WHOP_LOG'), \"process.env['WHOP_LOG']\", this) ??\n      defaultLogLevel;\n    this.fetchOptions = options.fetchOptions;\n    this.maxRetries = options.maxRetries ?? 2;\n    this.fetch = options.fetch ?? Shims.getDefaultFetch();\n    this.#encoder = Opts.FallbackEncoder;\n\n    this._options = options;\n\n    this.apiKey = apiKey;\n    this.webhookKey = webhookKey;\n    this.appID = appID;\n  }\n\n  /**\n   * Create a new client instance re-using the same options given to the current client with optional overriding.\n   */\n  withOptions(options: Partial<ClientOptions>): this {\n    const client = new (this.constructor as any as new (props: ClientOptions) => typeof this)({\n      ...this._options,\n      baseURL: this.baseURL,\n      maxRetries: this.maxRetries,\n      timeout: this.timeout,\n      logger: this.logger,\n      logLevel: this.logLevel,\n      fetch: this.fetch,\n      fetchOptions: this.fetchOptions,\n      apiKey: this.apiKey,\n      webhookKey: this.webhookKey,\n      appID: this.appID,\n      ...options,\n    });\n    return client;\n  }\n\n  /**\n   * Check whether the base URL is set to its default.\n   */\n  #baseURLOverridden(): boolean {\n    return this.baseURL !== 'https://api.whop.com/api/v1';\n  }\n\n  protected defaultQuery(): Record<string, string | undefined> | undefined {\n    return this._options.defaultQuery;\n  }\n\n  protected validateHeaders({ values, nulls }: NullableHeaders) {\n    return;\n  }\n\n  protected async authHeaders(opts: FinalRequestOptions): Promise<NullableHeaders | undefined> {\n    return buildHeaders([{ Authorization: `Bearer ${this.apiKey}` }]);\n  }\n\n  protected stringifyQuery(query: Record<string, unknown>): string {\n    return qs.stringify(query, { arrayFormat: 'brackets' });\n  }\n\n  private getUserAgent(): string {\n    return `${this.constructor.name}/JS ${VERSION}`;\n  }\n\n  protected defaultIdempotencyKey(): string {\n    return `stainless-node-retry-${uuid4()}`;\n  }\n\n  protected makeStatusError(\n    status: number,\n    error: Object,\n    message: string | undefined,\n    headers: Headers,\n  ): Errors.APIError {\n    return Errors.APIError.generate(status, error, message, headers);\n  }\n\n  buildURL(\n    path: string,\n    query: Record<string, unknown> | null | undefined,\n    defaultBaseURL?: string | undefined,\n  ): string {\n    const baseURL = (!this.#baseURLOverridden() && defaultBaseURL) || this.baseURL;\n    const url =\n      isAbsoluteURL(path) ?\n        new URL(path)\n      : new URL(baseURL + (baseURL.endsWith('/') && path.startsWith('/') ? path.slice(1) : path));\n\n    const defaultQuery = this.defaultQuery();\n    if (!isEmptyObj(defaultQuery)) {\n      query = { ...defaultQuery, ...query };\n    }\n\n    if (typeof query === 'object' && query && !Array.isArray(query)) {\n      url.search = this.stringifyQuery(query as Record<string, unknown>);\n    }\n\n    return url.toString();\n  }\n\n  /**\n   * Used as a callback for mutating the given `FinalRequestOptions` object.\n   */\n  protected async prepareOptions(options: FinalRequestOptions): Promise<void> {}\n\n  /**\n   * Used as a callback for mutating the given `RequestInit` object.\n   *\n   * This is useful for cases where you want to add certain headers based off of\n   * the request properties, e.g. `method` or `url`.\n   */\n  protected async prepareRequest(\n    request: RequestInit,\n    { url, options }: { url: string; options: FinalRequestOptions },\n  ): Promise<void> {}\n\n  get<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp> {\n    return this.methodRequest('get', path, opts);\n  }\n\n  post<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp> {\n    return this.methodRequest('post', path, opts);\n  }\n\n  patch<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp> {\n    return this.methodRequest('patch', path, opts);\n  }\n\n  put<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp> {\n    return this.methodRequest('put', path, opts);\n  }\n\n  delete<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp> {\n    return this.methodRequest('delete', path, opts);\n  }\n\n  private methodRequest<Rsp>(\n    method: HTTPMethod,\n    path: string,\n    opts?: PromiseOrValue<RequestOptions>,\n  ): APIPromise<Rsp> {\n    return this.request(\n      Promise.resolve(opts).then((opts) => {\n        return { method, path, ...opts };\n      }),\n    );\n  }\n\n  request<Rsp>(\n    options: PromiseOrValue<FinalRequestOptions>,\n    remainingRetries: number | null = null,\n  ): APIPromise<Rsp> {\n    return new APIPromise(this, this.makeRequest(options, remainingRetries, undefined));\n  }\n\n  private async makeRequest(\n    optionsInput: PromiseOrValue<FinalRequestOptions>,\n    retriesRemaining: number | null,\n    retryOfRequestLogID: string | undefined,\n  ): Promise<APIResponseProps> {\n    const options = await optionsInput;\n    const maxRetries = options.maxRetries ?? this.maxRetries;\n    if (retriesRemaining == null) {\n      retriesRemaining = maxRetries;\n    }\n\n    await this.prepareOptions(options);\n\n    const { req, url, timeout } = await this.buildRequest(options, {\n      retryCount: maxRetries - retriesRemaining,\n    });\n\n    await this.prepareRequest(req, { url, options });\n\n    /** Not an API request ID, just for correlating local log entries. */\n    const requestLogID = 'log_' + ((Math.random() * (1 << 24)) | 0).toString(16).padStart(6, '0');\n    const retryLogStr = retryOfRequestLogID === undefined ? '' : `, retryOf: ${retryOfRequestLogID}`;\n    const startTime = Date.now();\n\n    loggerFor(this).debug(\n      `[${requestLogID}] sending request`,\n      formatRequestDetails({\n        retryOfRequestLogID,\n        method: options.method,\n        url,\n        options,\n        headers: req.headers,\n      }),\n    );\n\n    if (options.signal?.aborted) {\n      throw new Errors.APIUserAbortError();\n    }\n\n    const controller = new AbortController();\n    const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);\n    const headersTime = Date.now();\n\n    if (response instanceof globalThis.Error) {\n      const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;\n      if (options.signal?.aborted) {\n        throw new Errors.APIUserAbortError();\n      }\n      // detect native connection timeout errors\n      // deno throws \"TypeError: error sending request for url (https://example/): client error (Connect): tcp connect error: Operation timed out (os error 60): Operation timed out (os error 60)\"\n      // undici throws \"TypeError: fetch failed\" with cause \"ConnectTimeoutError: Connect Timeout Error (attempted address: example:443, timeout: 1ms)\"\n      // others do not provide enough information to distinguish timeouts from other connection errors\n      const isTimeout =\n        isAbortError(response) ||\n        /timed? ?out/i.test(String(response) + ('cause' in response ? String(response.cause) : ''));\n      if (retriesRemaining) {\n        loggerFor(this).info(\n          `[${requestLogID}] connection ${isTimeout ? 'timed out' : 'failed'} - ${retryMessage}`,\n        );\n        loggerFor(this).debug(\n          `[${requestLogID}] connection ${isTimeout ? 'timed out' : 'failed'} (${retryMessage})`,\n          formatRequestDetails({\n            retryOfRequestLogID,\n            url,\n            durationMs: headersTime - startTime,\n            message: response.message,\n          }),\n        );\n        return this.retryRequest(options, retriesRemaining, retryOfRequestLogID ?? requestLogID);\n      }\n      loggerFor(this).info(\n        `[${requestLogID}] connection ${isTimeout ? 'timed out' : 'failed'} - error; no more retries left`,\n      );\n      loggerFor(this).debug(\n        `[${requestLogID}] connection ${isTimeout ? 'timed out' : 'failed'} (error; no more retries left)`,\n        formatRequestDetails({\n          retryOfRequestLogID,\n          url,\n          durationMs: headersTime - startTime,\n          message: response.message,\n        }),\n      );\n      if (isTimeout) {\n        throw new Errors.APIConnectionTimeoutError();\n      }\n      throw new Errors.APIConnectionError({ cause: response });\n    }\n\n    const responseInfo = `[${requestLogID}${retryLogStr}] ${req.method} ${url} ${\n      response.ok ? 'succeeded' : 'failed'\n    } with status ${response.status} in ${headersTime - startTime}ms`;\n\n    if (!response.ok) {\n      const shouldRetry = await this.shouldRetry(response);\n      if (retriesRemaining && shouldRetry) {\n        const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;\n\n        // We don't need the body of this response.\n        await Shims.CancelReadableStream(response.body);\n        loggerFor(this).info(`${responseInfo} - ${retryMessage}`);\n        loggerFor(this).debug(\n          `[${requestLogID}] response error (${retryMessage})`,\n          formatRequestDetails({\n            retryOfRequestLogID,\n            url: response.url,\n            status: response.status,\n            headers: response.headers,\n            durationMs: headersTime - startTime,\n          }),\n        );\n        return this.retryRequest(\n          options,\n          retriesRemaining,\n          retryOfRequestLogID ?? requestLogID,\n          response.headers,\n        );\n      }\n\n      const retryMessage = shouldRetry ? `error; no more retries left` : `error; not retryable`;\n\n      loggerFor(this).info(`${responseInfo} - ${retryMessage}`);\n\n      const errText = await response.text().catch((err: any) => castToError(err).message);\n      const errJSON = safeJSON(errText);\n      const errMessage = errJSON ? undefined : errText;\n\n      loggerFor(this).debug(\n        `[${requestLogID}] response error (${retryMessage})`,\n        formatRequestDetails({\n          retryOfRequestLogID,\n          url: response.url,\n          status: response.status,\n          headers: response.headers,\n          message: errMessage,\n          durationMs: Date.now() - startTime,\n        }),\n      );\n\n      const err = this.makeStatusError(response.status, errJSON, errMessage, response.headers);\n      throw err;\n    }\n\n    loggerFor(this).info(responseInfo);\n    loggerFor(this).debug(\n      `[${requestLogID}] response start`,\n      formatRequestDetails({\n        retryOfRequestLogID,\n        url: response.url,\n        status: response.status,\n        headers: response.headers,\n        durationMs: headersTime - startTime,\n      }),\n    );\n\n    return { response, options, controller, requestLogID, retryOfRequestLogID, startTime };\n  }\n\n  getAPIList<Item, PageClass extends Pagination.AbstractPage<Item> = Pagination.AbstractPage<Item>>(\n    path: string,\n    Page: new (...args: any[]) => PageClass,\n    opts?: RequestOptions,\n  ): Pagination.PagePromise<PageClass, Item> {\n    return this.requestAPIList(Page, { method: 'get', path, ...opts });\n  }\n\n  requestAPIList<\n    Item = unknown,\n    PageClass extends Pagination.AbstractPage<Item> = Pagination.AbstractPage<Item>,\n  >(\n    Page: new (...args: ConstructorParameters<typeof Pagination.AbstractPage>) => PageClass,\n    options: FinalRequestOptions,\n  ): Pagination.PagePromise<PageClass, Item> {\n    const request = this.makeRequest(options, null, undefined);\n    return new Pagination.PagePromise<PageClass, Item>(this as any as Whop, request, Page);\n  }\n\n  async fetchWithTimeout(\n    url: RequestInfo,\n    init: RequestInit | undefined,\n    ms: number,\n    controller: AbortController,\n  ): Promise<Response> {\n    const { signal, method, ...options } = init || {};\n    if (signal) signal.addEventListener('abort', () => controller.abort());\n\n    const timeout = setTimeout(() => controller.abort(), ms);\n\n    const isReadableBody =\n      ((globalThis as any).ReadableStream && options.body instanceof (globalThis as any).ReadableStream) ||\n      (typeof options.body === 'object' && options.body !== null && Symbol.asyncIterator in options.body);\n\n    const fetchOptions: RequestInit = {\n      signal: controller.signal as any,\n      ...(isReadableBody ? { duplex: 'half' } : {}),\n      method: 'GET',\n      ...options,\n    };\n    if (method) {\n      // Custom methods like 'patch' need to be uppercased\n      // See https://github.com/nodejs/undici/issues/2294\n      fetchOptions.method = method.toUpperCase();\n    }\n\n    try {\n      // use undefined this binding; fetch errors if bound to something else in browser/cloudflare\n      return await this.fetch.call(undefined, url, fetchOptions);\n    } finally {\n      clearTimeout(timeout);\n    }\n  }\n\n  private async shouldRetry(response: Response): Promise<boolean> {\n    // Note this is not a standard header.\n    const shouldRetryHeader = response.headers.get('x-should-retry');\n\n    // If the server explicitly says whether or not to retry, obey.\n    if (shouldRetryHeader === 'true') return true;\n    if (shouldRetryHeader === 'false') return false;\n\n    // Retry on request timeouts.\n    if (response.status === 408) return true;\n\n    // Retry on lock timeouts.\n    if (response.status === 409) return true;\n\n    // Retry on rate limits.\n    if (response.status === 429) return true;\n\n    // Retry internal errors.\n    if (response.status >= 500) return true;\n\n    return false;\n  }\n\n  private async retryRequest(\n    options: FinalRequestOptions,\n    retriesRemaining: number,\n    requestLogID: string,\n    responseHeaders?: Headers | undefined,\n  ): Promise<APIResponseProps> {\n    let timeoutMillis: number | undefined;\n\n    // Note the `retry-after-ms` header may not be standard, but is a good idea and we'd like proactive support for it.\n    const retryAfterMillisHeader = responseHeaders?.get('retry-after-ms');\n    if (retryAfterMillisHeader) {\n      const timeoutMs = parseFloat(retryAfterMillisHeader);\n      if (!Number.isNaN(timeoutMs)) {\n        timeoutMillis = timeoutMs;\n      }\n    }\n\n    // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n    const retryAfterHeader = responseHeaders?.get('retry-after');\n    if (retryAfterHeader && !timeoutMillis) {\n      const timeoutSeconds = parseFloat(retryAfterHeader);\n      if (!Number.isNaN(timeoutSeconds)) {\n        timeoutMillis = timeoutSeconds * 1000;\n      } else {\n        timeoutMillis = Date.parse(retryAfterHeader) - Date.now();\n      }\n    }\n\n    // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n    // just do what it says, but otherwise calculate a default\n    if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1000)) {\n      const maxRetries = options.maxRetries ?? this.maxRetries;\n      timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);\n    }\n    await sleep(timeoutMillis);\n\n    return this.makeRequest(options, retriesRemaining - 1, requestLogID);\n  }\n\n  private calculateDefaultRetryTimeoutMillis(retriesRemaining: number, maxRetries: number): number {\n    const initialRetryDelay = 0.5;\n    const maxRetryDelay = 8.0;\n\n    const numRetries = maxRetries - retriesRemaining;\n\n    // Apply exponential backoff, but not more than the max.\n    const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);\n\n    // Apply some jitter, take up to at most 25 percent of the retry time.\n    const jitter = 1 - Math.random() * 0.25;\n\n    return sleepSeconds * jitter * 1000;\n  }\n\n  async buildRequest(\n    inputOptions: FinalRequestOptions,\n    { retryCount = 0 }: { retryCount?: number } = {},\n  ): Promise<{ req: FinalizedRequestInit; url: string; timeout: number }> {\n    const options = { ...inputOptions };\n    const { method, path, query, defaultBaseURL } = options;\n\n    const url = this.buildURL(path!, query as Record<string, unknown>, defaultBaseURL);\n    if ('timeout' in options) validatePositiveInteger('timeout', options.timeout);\n    options.timeout = options.timeout ?? this.timeout;\n    const { bodyHeaders, body } = this.buildBody({ options });\n    const reqHeaders = await this.buildHeaders({ options: inputOptions, method, bodyHeaders, retryCount });\n\n    const req: FinalizedRequestInit = {\n      method,\n      headers: reqHeaders,\n      ...(options.signal && { signal: options.signal }),\n      ...((globalThis as any).ReadableStream &&\n        body instanceof (globalThis as any).ReadableStream && { duplex: 'half' }),\n      ...(body && { body }),\n      ...((this.fetchOptions as any) ?? {}),\n      ...((options.fetchOptions as any) ?? {}),\n    };\n\n    return { req, url, timeout: options.timeout };\n  }\n\n  private async buildHeaders({\n    options,\n    method,\n    bodyHeaders,\n    retryCount,\n  }: {\n    options: FinalRequestOptions;\n    method: HTTPMethod;\n    bodyHeaders: HeadersLike;\n    retryCount: number;\n  }): Promise<Headers> {\n    let idempotencyHeaders: HeadersLike = {};\n    if (this.idempotencyHeader && method !== 'get') {\n      if (!options.idempotencyKey) options.idempotencyKey = this.defaultIdempotencyKey();\n      idempotencyHeaders[this.idempotencyHeader] = options.idempotencyKey;\n    }\n\n    const headers = buildHeaders([\n      idempotencyHeaders,\n      {\n        Accept: 'application/json',\n        'User-Agent': this.getUserAgent(),\n        'X-Stainless-Retry-Count': String(retryCount),\n        ...(options.timeout ? { 'X-Stainless-Timeout': String(Math.trunc(options.timeout / 1000)) } : {}),\n        ...getPlatformHeaders(),\n        'X-Whop-App-Id': this.appID,\n      },\n      await this.authHeaders(options),\n      this._options.defaultHeaders,\n      bodyHeaders,\n      options.headers,\n    ]);\n\n    this.validateHeaders(headers);\n\n    return headers.values;\n  }\n\n  private buildBody({ options: { body, headers: rawHeaders } }: { options: FinalRequestOptions }): {\n    bodyHeaders: HeadersLike;\n    body: BodyInit | undefined;\n  } {\n    if (!body) {\n      return { bodyHeaders: undefined, body: undefined };\n    }\n    const headers = buildHeaders([rawHeaders]);\n    if (\n      // Pass raw type verbatim\n      ArrayBuffer.isView(body) ||\n      body instanceof ArrayBuffer ||\n      body instanceof DataView ||\n      (typeof body === 'string' &&\n        // Preserve legacy string encoding behavior for now\n        headers.values.has('content-type')) ||\n      // `Blob` is superset of `File`\n      ((globalThis as any).Blob && body instanceof (globalThis as any).Blob) ||\n      // `FormData` -> `multipart/form-data`\n      body instanceof FormData ||\n      // `URLSearchParams` -> `application/x-www-form-urlencoded`\n      body instanceof URLSearchParams ||\n      // Send chunked stream (each chunk has own `length`)\n      ((globalThis as any).ReadableStream && body instanceof (globalThis as any).ReadableStream)\n    ) {\n      return { bodyHeaders: undefined, body: body as BodyInit };\n    } else if (\n      typeof body === 'object' &&\n      (Symbol.asyncIterator in body ||\n        (Symbol.iterator in body && 'next' in body && typeof body.next === 'function'))\n    ) {\n      return { bodyHeaders: undefined, body: Shims.ReadableStreamFrom(body as AsyncIterable<Uint8Array>) };\n    } else {\n      return this.#encoder({ body, headers });\n    }\n  }\n\n  verifyUserToken: ReturnType<typeof makeUserTokenVerifierFromSdk> = makeUserTokenVerifierFromSdk(this);\n\n  static Whop = this;\n  static DEFAULT_TIMEOUT = 60000; // 1 minute\n\n  static WhopError = Errors.WhopError;\n  static APIError = Errors.APIError;\n  static APIConnectionError = Errors.APIConnectionError;\n  static APIConnectionTimeoutError = Errors.APIConnectionTimeoutError;\n  static APIUserAbortError = Errors.APIUserAbortError;\n  static NotFoundError = Errors.NotFoundError;\n  static ConflictError = Errors.ConflictError;\n  static RateLimitError = Errors.RateLimitError;\n  static BadRequestError = Errors.BadRequestError;\n  static AuthenticationError = Errors.AuthenticationError;\n  static InternalServerError = Errors.InternalServerError;\n  static PermissionDeniedError = Errors.PermissionDeniedError;\n  static UnprocessableEntityError = Errors.UnprocessableEntityError;\n\n  static toFile = Uploads.toFile;\n\n  apps: API.Apps = new API.Apps(this);\n  invoices: API.Invoices = new API.Invoices(this);\n  courseLessonInteractions: API.CourseLessonInteractions = new API.CourseLessonInteractions(this);\n  products: API.Products = new API.Products(this);\n  companies: API.Companies = new API.Companies(this);\n  webhooks: API.Webhooks = new API.Webhooks(this);\n  plans: API.Plans = new API.Plans(this);\n  entries: API.Entries = new API.Entries(this);\n  forumPosts: API.ForumPosts = new API.ForumPosts(this);\n  transfers: API.Transfers = new API.Transfers(this);\n  ledgerAccounts: API.LedgerAccounts = new API.LedgerAccounts(this);\n  memberships: API.Memberships = new API.Memberships(this);\n  authorizedUsers: API.AuthorizedUsers = new API.AuthorizedUsers(this);\n  appBuilds: API.AppBuilds = new API.AppBuilds(this);\n  shipments: API.Shipments = new API.Shipments(this);\n  checkoutConfigurations: API.CheckoutConfigurations = new API.CheckoutConfigurations(this);\n  messages: API.Messages = new API.Messages(this);\n  chatChannels: API.ChatChannels = new API.ChatChannels(this);\n  users: API.Users = new API.Users(this);\n  payments: API.Payments = new API.Payments(this);\n  supportChannels: API.SupportChannels = new API.SupportChannels(this);\n  experiences: API.Experiences = new API.Experiences(this);\n  reactions: API.Reactions = new API.Reactions(this);\n  members: API.Members = new API.Members(this);\n  forums: API.Forums = new API.Forums(this);\n  promoCodes: API.PromoCodes = new API.PromoCodes(this);\n  courses: API.Courses = new API.Courses(this);\n  courseChapters: API.CourseChapters = new API.CourseChapters(this);\n  courseLessons: API.CourseLessons = new API.CourseLessons(this);\n  reviews: API.Reviews = new API.Reviews(this);\n}\n\nWhop.Apps = Apps;\nWhop.Invoices = Invoices;\nWhop.CourseLessonInteractions = CourseLessonInteractions;\nWhop.Products = Products;\nWhop.Companies = Companies;\nWhop.Webhooks = Webhooks;\nWhop.Plans = Plans;\nWhop.Entries = Entries;\nWhop.ForumPosts = ForumPosts;\nWhop.Transfers = Transfers;\nWhop.LedgerAccounts = LedgerAccounts;\nWhop.Memberships = Memberships;\nWhop.AuthorizedUsers = AuthorizedUsers;\nWhop.AppBuilds = AppBuilds;\nWhop.Shipments = Shipments;\nWhop.CheckoutConfigurations = CheckoutConfigurations;\nWhop.Messages = Messages;\nWhop.ChatChannels = ChatChannels;\nWhop.Users = Users;\nWhop.Payments = Payments;\nWhop.SupportChannels = SupportChannels;\nWhop.Experiences = Experiences;\nWhop.Reactions = Reactions;\nWhop.Members = Members;\nWhop.Forums = Forums;\nWhop.PromoCodes = PromoCodes;\nWhop.Courses = Courses;\nWhop.CourseChapters = CourseChapters;\nWhop.CourseLessons = CourseLessons;\nWhop.Reviews = Reviews;\n\nexport declare namespace Whop {\n  export type RequestOptions = Opts.RequestOptions;\n\n  export import CursorPage = Pagination.CursorPage;\n  export { type CursorPageParams as CursorPageParams, type CursorPageResponse as CursorPageResponse };\n\n  export {\n    Apps as Apps,\n    type AppListResponse as AppListResponse,\n    type AppListResponsesCursorPage as AppListResponsesCursorPage,\n    type AppCreateParams as AppCreateParams,\n    type AppUpdateParams as AppUpdateParams,\n    type AppListParams as AppListParams,\n  };\n\n  export {\n    Invoices as Invoices,\n    type InvoiceCreateResponse as InvoiceCreateResponse,\n    type InvoiceVoidResponse as InvoiceVoidResponse,\n    type InvoiceCreateParams as InvoiceCreateParams,\n    type InvoiceListParams as InvoiceListParams,\n  };\n\n  export {\n    CourseLessonInteractions as CourseLessonInteractions,\n    type CourseLessonInteractionListParams as CourseLessonInteractionListParams,\n  };\n\n  export {\n    Products as Products,\n    type ProductDeleteResponse as ProductDeleteResponse,\n    type ProductCreateParams as ProductCreateParams,\n    type ProductUpdateParams as ProductUpdateParams,\n    type ProductListParams as ProductListParams,\n  };\n\n  export { Companies as Companies };\n\n  export {\n    Webhooks as Webhooks,\n    type InvoiceCreatedWebhookEvent as InvoiceCreatedWebhookEvent,\n    type InvoicePaidWebhookEvent as InvoicePaidWebhookEvent,\n    type InvoicePastDueWebhookEvent as InvoicePastDueWebhookEvent,\n    type InvoiceVoidedWebhookEvent as InvoiceVoidedWebhookEvent,\n    type MembershipActivatedWebhookEvent as MembershipActivatedWebhookEvent,\n    type MembershipDeactivatedWebhookEvent as MembershipDeactivatedWebhookEvent,\n    type EntryCreatedWebhookEvent as EntryCreatedWebhookEvent,\n    type EntryApprovedWebhookEvent as EntryApprovedWebhookEvent,\n    type EntryDeniedWebhookEvent as EntryDeniedWebhookEvent,\n    type EntryDeletedWebhookEvent as EntryDeletedWebhookEvent,\n    type CourseLessonInteractionCompletedWebhookEvent as CourseLessonInteractionCompletedWebhookEvent,\n    type PaymentSucceededWebhookEvent as PaymentSucceededWebhookEvent,\n    type PaymentFailedWebhookEvent as PaymentFailedWebhookEvent,\n    type PaymentPendingWebhookEvent as PaymentPendingWebhookEvent,\n    type UnwrapWebhookEvent as UnwrapWebhookEvent,\n  };\n\n  export {\n    Plans as Plans,\n    type PlanListResponse as PlanListResponse,\n    type PlanDeleteResponse as PlanDeleteResponse,\n    type PlanListResponsesCursorPage as PlanListResponsesCursorPage,\n    type PlanCreateParams as PlanCreateParams,\n    type PlanUpdateParams as PlanUpdateParams,\n    type PlanListParams as PlanListParams,\n  };\n\n  export {\n    Entries as Entries,\n    type EntryListResponse as EntryListResponse,\n    type EntryApproveResponse as EntryApproveResponse,\n    type EntryListResponsesCursorPage as EntryListResponsesCursorPage,\n    type EntryListParams as EntryListParams,\n  };\n\n  export {\n    ForumPosts as ForumPosts,\n    type ForumPostListResponse as ForumPostListResponse,\n    type ForumPostListResponsesCursorPage as ForumPostListResponsesCursorPage,\n    type ForumPostCreateParams as ForumPostCreateParams,\n    type ForumPostUpdateParams as ForumPostUpdateParams,\n    type ForumPostListParams as ForumPostListParams,\n  };\n\n  export {\n    Transfers as Transfers,\n    type TransferListResponse as TransferListResponse,\n    type TransferListResponsesCursorPage as TransferListResponsesCursorPage,\n    type TransferCreateParams as TransferCreateParams,\n    type TransferListParams as TransferListParams,\n  };\n\n  export {\n    LedgerAccounts as LedgerAccounts,\n    type LedgerAccountRetrieveResponse as LedgerAccountRetrieveResponse,\n  };\n\n  export {\n    Memberships as Memberships,\n    type MembershipListResponse as MembershipListResponse,\n    type MembershipListResponsesCursorPage as MembershipListResponsesCursorPage,\n    type MembershipUpdateParams as MembershipUpdateParams,\n    type MembershipListParams as MembershipListParams,\n    type MembershipCancelParams as MembershipCancelParams,\n    type MembershipPauseParams as MembershipPauseParams,\n  };\n\n  export {\n    AuthorizedUsers as AuthorizedUsers,\n    type AuthorizedUserRetrieveResponse as AuthorizedUserRetrieveResponse,\n    type AuthorizedUserListResponse as AuthorizedUserListResponse,\n    type AuthorizedUserListResponsesCursorPage as AuthorizedUserListResponsesCursorPage,\n    type AuthorizedUserListParams as AuthorizedUserListParams,\n  };\n\n  export {\n    AppBuilds as AppBuilds,\n    type AppBuildListResponse as AppBuildListResponse,\n    type AppBuildListResponsesCursorPage as AppBuildListResponsesCursorPage,\n    type AppBuildCreateParams as AppBuildCreateParams,\n    type AppBuildListParams as AppBuildListParams,\n  };\n\n  export {\n    Shipments as Shipments,\n    type ShipmentListResponse as ShipmentListResponse,\n    type ShipmentListResponsesCursorPage as ShipmentListResponsesCursorPage,\n    type ShipmentCreateParams as ShipmentCreateParams,\n    type ShipmentListParams as ShipmentListParams,\n  };\n\n  export {\n    CheckoutConfigurations as CheckoutConfigurations,\n    type CheckoutConfigurationListResponse as CheckoutConfigurationListResponse,\n    type CheckoutConfigurationListResponsesCursorPage as CheckoutConfigurationListResponsesCursorPage,\n    type CheckoutConfigurationCreateParams as CheckoutConfigurationCreateParams,\n    type CheckoutConfigurationListParams as CheckoutConfigurationListParams,\n  };\n\n  export {\n    Messages as Messages,\n    type MessageListResponse as MessageListResponse,\n    type MessageListResponsesCursorPage as MessageListResponsesCursorPage,\n    type MessageCreateParams as MessageCreateParams,\n    type MessageUpdateParams as MessageUpdateParams,\n    type MessageListParams as MessageListParams,\n  };\n\n  export {\n    ChatChannels as ChatChannels,\n    type ChatChannelListResponse as ChatChannelListResponse,\n    type ChatChannelListResponsesCursorPage as ChatChannelListResponsesCursorPage,\n    type ChatChannelUpdateParams as ChatChannelUpdateParams,\n    type ChatChannelListParams as ChatChannelListParams,\n  };\n\n  export {\n    Users as Users,\n    type UserRetrieveResponse as UserRetrieveResponse,\n    type UserCheckAccessResponse as UserCheckAccessResponse,\n    type UserCheckAccessParams as UserCheckAccessParams,\n  };\n\n  export {\n    Payments as Payments,\n    type BillingReasons as BillingReasons,\n    type CardBrands as CardBrands,\n    type PaymentMethodTypes as PaymentMethodTypes,\n    type PaymentListResponse as PaymentListResponse,\n    type PaymentListResponsesCursorPage as PaymentListResponsesCursorPage,\n    type PaymentListParams as PaymentListParams,\n    type PaymentRefundParams as PaymentRefundParams,\n  };\n\n  export {\n    SupportChannels as SupportChannels,\n    type SupportChannelListResponse as SupportChannelListResponse,\n    type SupportChannelListResponsesCursorPage as SupportChannelListResponsesCursorPage,\n    type SupportChannelCreateParams as SupportChannelCreateParams,\n    type SupportChannelListParams as SupportChannelListParams,\n  };\n\n  export {\n    Experiences as Experiences,\n    type ExperienceListResponse as ExperienceListResponse,\n    type ExperienceDeleteResponse as ExperienceDeleteResponse,\n    type ExperienceListResponsesCursorPage as ExperienceListResponsesCursorPage,\n    type ExperienceCreateParams as ExperienceCreateParams,\n    type ExperienceUpdateParams as ExperienceUpdateParams,\n    type ExperienceListParams as ExperienceListParams,\n    type ExperienceAttachParams as ExperienceAttachParams,\n    type ExperienceDetachParams as ExperienceDetachParams,\n    type ExperienceDuplicateParams as ExperienceDuplicateParams,\n  };\n\n  export {\n    Reactions as Reactions,\n    type ReactionListResponse as ReactionListResponse,\n    type ReactionListResponsesCursorPage as ReactionListResponsesCursorPage,\n    type ReactionCreateParams as ReactionCreateParams,\n    type ReactionListParams as ReactionListParams,\n  };\n\n  export {\n    Members as Members,\n    type MemberRetrieveResponse as MemberRetrieveResponse,\n    type MemberListResponse as MemberListResponse,\n    type MemberListResponsesCursorPage as MemberListResponsesCursorPage,\n    type MemberListParams as MemberListParams,\n  };\n\n  export {\n    Forums as Forums,\n    type ForumListResponse as ForumListResponse,\n    type ForumListResponsesCursorPage as ForumListResponsesCursorPage,\n    type ForumUpdateParams as ForumUpdateParams,\n    type ForumListParams as ForumListParams,\n  };\n\n  export {\n    PromoCodes as PromoCodes,\n    type PromoCode as PromoCode,\n    type PromoCodeStatus as PromoCodeStatus,\n    type PromoDuration as PromoDuration,\n    type PromoCodeListResponse as PromoCodeListResponse,\n    type PromoCodeDeleteResponse as PromoCodeDeleteResponse,\n    type PromoCodeListResponsesCursorPage as PromoCodeListResponsesCursorPage,\n    type PromoCodeCreateParams as PromoCodeCreateParams,\n    type PromoCodeListParams as PromoCodeListParams,\n  };\n\n  export {\n    Courses as Courses,\n    type Course as Course,\n    type Languages as Languages,\n    type CourseListResponse as CourseListResponse,\n    type CourseDeleteResponse as CourseDeleteResponse,\n    type CourseListResponsesCursorPage as CourseListResponsesCursorPage,\n    type CourseCreateParams as CourseCreateParams,\n    type CourseUpdateParams as CourseUpdateParams,\n    type CourseListParams as CourseListParams,\n  };\n\n  export {\n    CourseChapters as CourseChapters,\n    type CourseChapter as CourseChapter,\n    type CourseChapterListResponse as CourseChapterListResponse,\n    type CourseChapterDeleteResponse as CourseChapterDeleteResponse,\n    type CourseChapterListResponsesCursorPage as CourseChapterListResponsesCursorPage,\n    type CourseChapterCreateParams as CourseChapterCreateParams,\n    type CourseChapterUpdateParams as CourseChapterUpdateParams,\n    type CourseChapterListParams as CourseChapterListParams,\n  };\n\n  export {\n    CourseLessons as CourseLessons,\n    type AssessmentQuestionTypes as AssessmentQuestionTypes,\n    type Lesson as Lesson,\n    type LessonTypes as LessonTypes,\n    type LessonVisibilities as LessonVisibilities,\n    type CourseLessonListResponse as CourseLessonListResponse,\n    type CourseLessonDeleteResponse as CourseLessonDeleteResponse,\n    type CourseLessonListResponsesCursorPage as CourseLessonListResponsesCursorPage,\n    type CourseLessonCreateParams as CourseLessonCreateParams,\n    type CourseLessonUpdateParams as CourseLessonUpdateParams,\n    type CourseLessonListParams as CourseLessonListParams,\n  };\n\n  export {\n    Reviews as Reviews,\n    type ReviewStatus as ReviewStatus,\n    type ReviewRetrieveResponse as ReviewRetrieveResponse,\n    type ReviewListResponse as ReviewListResponse,\n    type ReviewListResponsesCursorPage as ReviewListResponsesCursorPage,\n    type ReviewListParams as ReviewListParams,\n  };\n\n  export type AccessLevel = API.AccessLevel;\n  export type AccessPassType = API.AccessPassType;\n  export type App = API.App;\n  export type AppBuild = API.AppBuild;\n  export type AppBuildPlatforms = API.AppBuildPlatforms;\n  export type AppBuildStatuses = API.AppBuildStatuses;\n  export type AppStatuses = API.AppStatuses;\n  export type AppViewType = API.AppViewType;\n  export type AuthorizedUserRoles = API.AuthorizedUserRoles;\n  export type BusinessTypes = API.BusinessTypes;\n  export type ChatChannel = API.ChatChannel;\n  export type CheckoutConfiguration = API.CheckoutConfiguration;\n  export type CollectionMethod = API.CollectionMethod;\n  export type Company = API.Company;\n  export type CourseLessonInteraction = API.CourseLessonInteraction;\n  export type CourseLessonInteractionListItem = API.CourseLessonInteractionListItem;\n  export type Currency = API.Currency;\n  export type CustomCta = API.CustomCta;\n  export type Direction = API.Direction;\n  export type DmsPostTypes = API.DmsPostTypes;\n  export type EmailNotificationPreferences = API.EmailNotificationPreferences;\n  export type Entry = API.Entry;\n  export type EntryStatus = API.EntryStatus;\n  export type Experience = API.Experience;\n  export type Forum = API.Forum;\n  export type ForumPost = API.ForumPost;\n  export type FriendlyReceiptStatus = API.FriendlyReceiptStatus;\n  export type GlobalAffiliateStatus = API.GlobalAffiliateStatus;\n  export type IndustryTypes = API.IndustryTypes;\n  export type Invoice = API.Invoice;\n  export type InvoiceListItem = API.InvoiceListItem;\n  export type InvoiceStatus = API.InvoiceStatus;\n  export type MemberMostRecentActions = API.MemberMostRecentActions;\n  export type MemberStatuses = API.MemberStatuses;\n  export type Membership = API.Membership;\n  export type MembershipStatus = API.MembershipStatus;\n  export type Message = API.Message;\n  export type PageInfo = API.PageInfo;\n  export type Payment = API.Payment;\n  export type Plan = API.Plan;\n  export type PlanType = API.PlanType;\n  export type Product = API.Product;\n  export type ProductListItem = API.ProductListItem;\n  export type PromoType = API.PromoType;\n  export type Reaction = API.Reaction;\n  export type ReceiptStatus = API.ReceiptStatus;\n  export type ReleaseMethod = API.ReleaseMethod;\n  export type Shipment = API.Shipment;\n  export type ShipmentCarrier = API.ShipmentCarrier;\n  export type ShipmentStatus = API.ShipmentStatus;\n  export type ShipmentSubstatus = API.ShipmentSubstatus;\n  export type SupportChannel = API.SupportChannel;\n  export type TaxType = API.TaxType;\n  export type Transfer = API.Transfer;\n  export type Visibility = API.Visibility;\n  export type VisibilityFilter = API.VisibilityFilter;\n  export type WhoCanCommentTypes = API.WhoCanCommentTypes;\n  export type WhoCanPost = API.WhoCanPost;\n  export type WhoCanPostTypes = API.WhoCanPostTypes;\n  export type WhoCanReact = API.WhoCanReact;\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Forums extends APIResource {\n  /**\n   * Retrieves a forum\n   *\n   * Required permissions:\n   *\n   * - `forum:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Forum> {\n    return this._client.get(path`/forums/${id}`, options);\n  }\n\n  /**\n   * Updates a forum\n   *\n   * Required permissions:\n   *\n   * - `forum:moderate`\n   */\n  update(\n    id: string,\n    body: ForumUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Forum> {\n    return this._client.patch(path`/forums/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists forums inside a company\n   *\n   * Required permissions:\n   *\n   * - `forum:read`\n   */\n  list(\n    query: ForumListParams,\n    options?: RequestOptions,\n  ): PagePromise<ForumListResponsesCursorPage, ForumListResponse> {\n    return this._client.getAPIList('/forums', CursorPage<ForumListResponse>, { query, ...options });\n  }\n}\n\nexport type ForumListResponsesCursorPage = CursorPage<ForumListResponse>;\n\n/**\n * Represents a forum feed\n */\nexport interface ForumListResponse {\n  /**\n   * The unique identifier for the entity\n   */\n  id: string;\n\n  /**\n   * The email notification preference for this forum\n   */\n  email_notification_preference: Shared.EmailNotificationPreferences;\n\n  /**\n   * The experience for this forum\n   */\n  experience: ForumListResponse.Experience;\n\n  /**\n   * Who can comment on this forum\n   */\n  who_can_comment: Shared.WhoCanCommentTypes;\n\n  /**\n   * Who can post on this forum\n   */\n  who_can_post: Shared.WhoCanPostTypes;\n}\n\nexport namespace ForumListResponse {\n  /**\n   * The experience for this forum\n   */\n  export interface Experience {\n    /**\n     * The unique ID representing this experience\n     */\n    id: string;\n\n    /**\n     * The written name of the description.\n     */\n    name: string;\n  }\n}\n\nexport interface ForumUpdateParams {\n  /**\n   * Email notification preference option for a forum feed\n   */\n  email_notification_preference?: Shared.EmailNotificationPreferences | null;\n\n  /**\n   * Who can comment on a forum feed\n   */\n  who_can_comment?: Shared.WhoCanCommentTypes | null;\n\n  /**\n   * Who can post on a forum feed\n   */\n  who_can_post?: Shared.WhoCanPostTypes | null;\n}\n\nexport interface ForumListParams extends CursorPageParams {\n  /**\n   * The ID of the company to list forums for\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * If provided, only forums connected to this product are returned\n   */\n  product_id?: string | null;\n}\n\nexport declare namespace Forums {\n  export {\n    type ForumListResponse as ForumListResponse,\n    type ForumListResponsesCursorPage as ForumListResponsesCursorPage,\n    type ForumUpdateParams as ForumUpdateParams,\n    type ForumListParams as ForumListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Companies extends APIResource {\n  /**\n   * Retrieves an company by ID or its url route\n   *\n   * Required permissions:\n   *\n   * - `company:basic:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Company> {\n    return this._client.get(path`/companies/${id}`, options);\n  }\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Messages extends APIResource {\n  /**\n   * Creates a new message\n   *\n   * Required permissions:\n   *\n   * - `chat:message:create`\n   */\n  create(body: MessageCreateParams, options?: RequestOptions): APIPromise<Shared.Message> {\n    return this._client.post('/messages', { body, ...options });\n  }\n\n  /**\n   * Retrieves a message\n   *\n   * Required permissions:\n   *\n   * - `chat:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Message> {\n    return this._client.get(path`/messages/${id}`, options);\n  }\n\n  /**\n   * Updates an existing message\n   */\n  update(\n    id: string,\n    body: MessageUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Message> {\n    return this._client.patch(path`/messages/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists messages inside a channel\n   *\n   * Required permissions:\n   *\n   * - `chat:read`\n   */\n  list(\n    query: MessageListParams,\n    options?: RequestOptions,\n  ): PagePromise<MessageListResponsesCursorPage, MessageListResponse> {\n    return this._client.getAPIList('/messages', CursorPage<MessageListResponse>, { query, ...options });\n  }\n}\n\nexport type MessageListResponsesCursorPage = CursorPage<MessageListResponse>;\n\n/**\n * Represents a message in a DM channel\n */\nexport interface MessageListResponse {\n  /**\n   * The unique identifier for the entity\n   */\n  id: string;\n\n  /**\n   * The content of the message in Markdown format\n   */\n  content: string | null;\n\n  /**\n   * The timestamp when the post was created\n   */\n  created_at: string;\n\n  /**\n   * Whether the message has been edited\n   */\n  is_edited: boolean;\n\n  /**\n   * Whether this message is pinned\n   */\n  is_pinned: boolean;\n\n  /**\n   * The type of post\n   */\n  message_type: Shared.DmsPostTypes;\n\n  /**\n   * The poll for this message\n   */\n  poll: MessageListResponse.Poll | null;\n\n  /**\n   * The reaction counts for this message\n   */\n  poll_votes: Array<MessageListResponse.PollVote>;\n\n  /**\n   * The reaction counts for this message\n   */\n  reaction_counts: Array<MessageListResponse.ReactionCount>;\n\n  /**\n   * The ID of the message this is replying to, if applicable\n   */\n  replying_to_message_id: string | null;\n\n  /**\n   * The timestamp when the post was last updated\n   */\n  updated_at: string;\n\n  /**\n   * The user who sent this message\n   */\n  user: MessageListResponse.User;\n\n  /**\n   * The number of times this message has been viewed\n   */\n  view_count: number | null;\n}\n\nexport namespace MessageListResponse {\n  /**\n   * The poll for this message\n   */\n  export interface Poll {\n    /**\n     * The options for the poll\n     */\n    options: Array<Poll.Option> | null;\n  }\n\n  export namespace Poll {\n    /**\n     * Represents a single poll option\n     */\n    export interface Option {\n      /**\n       * The ID of the poll option\n       */\n      id: string;\n\n      /**\n       * The text of the poll option\n       */\n      text: string;\n    }\n  }\n\n  /**\n   * Represents a reaction count for a feed post\n   */\n  export interface PollVote {\n    /**\n     * The number of users who reacted\n     */\n    count: number;\n\n    /**\n     * The reaction that was used\n     */\n    option_id: string | null;\n  }\n\n  /**\n   * Represents a reaction count for a feed post\n   */\n  export interface ReactionCount {\n    /**\n     * The number of users who reacted\n     */\n    count: number;\n\n    /**\n     * The emoji that was used in shortcode format (:heart:)\n     */\n    emoji: string | null;\n  }\n\n  /**\n   * The user who sent this message\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\nexport interface MessageCreateParams {\n  /**\n   * The ID of the channel or experience to send to.\n   */\n  channel_id: string;\n\n  /**\n   * The content of the message in Markdown format.\n   */\n  content: string;\n\n  /**\n   * The attachments for this message, such as videos or images.\n   */\n  attachments?: Array<MessageCreateParams.Attachment> | null;\n\n  /**\n   * The poll for this message\n   */\n  poll?: MessageCreateParams.Poll | null;\n}\n\nexport namespace MessageCreateParams {\n  /**\n   * Input for an attachment\n   */\n  export interface Attachment {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n\n  /**\n   * The poll for this message\n   */\n  export interface Poll {\n    /**\n     * The options for the poll. Must have sequential IDs starting from 1\n     */\n    options: Array<Poll.Option>;\n  }\n\n  export namespace Poll {\n    /**\n     * Input type for a single poll option\n     */\n    export interface Option {\n      /**\n       * Sequential ID for the poll option (starting from '1')\n       */\n      id: string;\n\n      /**\n       * The text of the poll option\n       */\n      text: string;\n    }\n  }\n}\n\nexport interface MessageUpdateParams {\n  /**\n   * The attachments for this message\n   */\n  attachments?: Array<MessageUpdateParams.Attachment> | null;\n\n  /**\n   * The content of the message in Markdown format\n   */\n  content?: string | null;\n\n  /**\n   * Whether this message is pinned\n   */\n  is_pinned?: boolean | null;\n}\n\nexport namespace MessageUpdateParams {\n  /**\n   * Input for an attachment\n   */\n  export interface Attachment {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface MessageListParams extends CursorPageParams {\n  /**\n   * The ID of the channel or the experience ID to list messages for\n   */\n  channel_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n}\n\nexport declare namespace Messages {\n  export {\n    type MessageListResponse as MessageListResponse,\n    type MessageListResponsesCursorPage as MessageListResponsesCursorPage,\n    type MessageCreateParams as MessageCreateParams,\n    type MessageUpdateParams as MessageUpdateParams,\n    type MessageListParams as MessageListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Reactions extends APIResource {\n  /**\n   * Creates a new reaction\n   *\n   * Required permissions:\n   *\n   * - `chat:read`\n   */\n  create(body: ReactionCreateParams, options?: RequestOptions): APIPromise<Shared.Reaction> {\n    return this._client.post('/reactions', { body, ...options });\n  }\n\n  /**\n   * Retrieves a reaction\n   *\n   * Required permissions:\n   *\n   * - `chat:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Reaction> {\n    return this._client.get(path`/reactions/${id}`, options);\n  }\n\n  /**\n   * Lists reactions for a post or a message\n   *\n   * Required permissions:\n   *\n   * - `chat:read`\n   */\n  list(\n    query: ReactionListParams,\n    options?: RequestOptions,\n  ): PagePromise<ReactionListResponsesCursorPage, ReactionListResponse> {\n    return this._client.getAPIList('/reactions', CursorPage<ReactionListResponse>, { query, ...options });\n  }\n}\n\nexport type ReactionListResponsesCursorPage = CursorPage<ReactionListResponse>;\n\n/**\n * Represents a reaction to a feed post\n */\nexport interface ReactionListResponse {\n  /**\n   * The unique identifier for the entity\n   */\n  id: string;\n\n  /**\n   * The emoji that was used in shortcode format (:heart:)\n   */\n  emoji: string | null;\n\n  /**\n   * The ID of the post this reaction belongs to\n   */\n  resource_id: string;\n\n  /**\n   * The user who reacted to the post\n   */\n  user: ReactionListResponse.User;\n}\n\nexport namespace ReactionListResponse {\n  /**\n   * The user who reacted to the post\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\nexport interface ReactionCreateParams {\n  /**\n   * The ID of the post or message to react to.\n   */\n  resource_id: string;\n\n  /**\n   * The emoji to react with (e.g., :heart: or ''). It will be ignored in forums,\n   * as everything will be :heart:\n   */\n  emoji?: string | null;\n}\n\nexport interface ReactionListParams extends CursorPageParams {\n  /**\n   * The ID of the post or message to list reactions for\n   */\n  resource_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n}\n\nexport declare namespace Reactions {\n  export {\n    type ReactionListResponse as ReactionListResponse,\n    type ReactionListResponsesCursorPage as ReactionListResponsesCursorPage,\n    type ReactionCreateParams as ReactionCreateParams,\n    type ReactionListParams as ReactionListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Memberships extends APIResource {\n  /**\n   * Retrieves a membership by ID or license key\n   *\n   * Required permissions:\n   *\n   * - `member:basic:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Membership> {\n    return this._client.get(path`/memberships/${id}`, options);\n  }\n\n  /**\n   * Update a membership\n   *\n   * Required permissions:\n   *\n   * - `member:manage`\n   * - `member:basic:read`\n   */\n  update(\n    id: string,\n    body: MembershipUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Membership> {\n    return this._client.patch(path`/memberships/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists memberships\n   *\n   * Required permissions:\n   *\n   * - `member:basic:read`\n   */\n  list(\n    query: MembershipListParams | null | undefined = {},\n    options?: RequestOptions,\n  ): PagePromise<MembershipListResponsesCursorPage, MembershipListResponse> {\n    return this._client.getAPIList('/memberships', CursorPage<MembershipListResponse>, { query, ...options });\n  }\n\n  /**\n   * Cancels a membership either immediately or at the end of the current billing\n   * period\n   *\n   * Required permissions:\n   *\n   * - `member:manage`\n   * - `member:basic:read`\n   */\n  cancel(\n    id: string,\n    body: MembershipCancelParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Membership> {\n    return this._client.post(path`/memberships/${id}/cancel`, { body, ...options });\n  }\n\n  /**\n   * Pauses a membership's payments\n   *\n   * Required permissions:\n   *\n   * - `member:manage`\n   * - `member:basic:read`\n   */\n  pause(\n    id: string,\n    body: MembershipPauseParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Membership> {\n    return this._client.post(path`/memberships/${id}/pause`, { body, ...options });\n  }\n\n  /**\n   * Resumes a membership's payments\n   *\n   * Required permissions:\n   *\n   * - `member:manage`\n   * - `member:basic:read`\n   */\n  resume(id: string, options?: RequestOptions): APIPromise<Shared.Membership> {\n    return this._client.post(path`/memberships/${id}/resume`, options);\n  }\n}\n\nexport type MembershipListResponsesCursorPage = CursorPage<MembershipListResponse>;\n\n/**\n * A membership represents a purchase between a User and a Company for a specific\n * Product.\n */\nexport interface MembershipListResponse {\n  /**\n   * The ID of the membership\n   */\n  id: string;\n\n  /**\n   * Whether this Membership is set to cancel at the end of the current billing\n   * cycle. Only applies for memberships that have a renewal plan.\n   */\n  cancel_at_period_end: boolean;\n\n  /**\n   * The epoch timestamp of when the customer initiated a cancellation.\n   */\n  canceled_at: string | null;\n\n  /**\n   * The reason that the member canceled the membership (filled out by the member).\n   */\n  cancellation_reason: string | null;\n\n  /**\n   * The Company this Membership belongs to.\n   */\n  company: MembershipListResponse.Company;\n\n  /**\n   * The timestamp, in seconds, that this Membership was created at.\n   */\n  created_at: string;\n\n  /**\n   * The available currencies on the platform\n   */\n  currency: Shared.Currency | null;\n\n  /**\n   * The license key for this Membership. This is only present if the membership\n   * grants access to an instance of the Whop Software app.\n   */\n  license_key: string | null;\n\n  /**\n   * The URL for the customer to manage their membership.\n   */\n  manage_url: string | null;\n\n  /**\n   * The Member that this Membership belongs to.\n   */\n  member: MembershipListResponse.Member | null;\n\n  /**\n   * A JSON object used to store software licensing information. Ex. HWID\n   */\n  metadata: { [key: string]: unknown };\n\n  /**\n   * Whether the membership's payments are currently paused.\n   */\n  payment_collection_paused: boolean;\n\n  /**\n   * The Plan this Membership is for.\n   */\n  plan: MembershipListResponse.Plan;\n\n  /**\n   * The Product this Membership grants access to.\n   */\n  product: MembershipListResponse.Product;\n\n  /**\n   * The Promo Code that is currently applied to this Membership.\n   */\n  promo_code: MembershipListResponse.PromoCode | null;\n\n  /**\n   * The timestamp in seconds at which the current billing cycle for this\n   * subscription ends. Only applies for memberships that have a renewal plan.\n   */\n  renewal_period_end: string | null;\n\n  /**\n   * The timestamp in seconds at which the current billing cycle for this\n   * subscription start. Only applies for memberships that have a renewal plan.\n   */\n  renewal_period_start: string | null;\n\n  /**\n   * The status of the membership.\n   */\n  status: Shared.MembershipStatus;\n\n  /**\n   * A timestamp of when the membership was last updated\n   */\n  updated_at: string;\n\n  /**\n   * The user this membership belongs to\n   */\n  user: MembershipListResponse.User | null;\n}\n\nexport namespace MembershipListResponse {\n  /**\n   * The Company this Membership belongs to.\n   */\n  export interface Company {\n    /**\n     * The ID (tag) of the company.\n     */\n    id: string;\n\n    /**\n     * The title of the company.\n     */\n    title: string;\n  }\n\n  /**\n   * The Member that this Membership belongs to.\n   */\n  export interface Member {\n    /**\n     * The ID of the member\n     */\n    id: string;\n  }\n\n  /**\n   * The Plan this Membership is for.\n   */\n  export interface Plan {\n    /**\n     * The internal ID of the plan.\n     */\n    id: string;\n  }\n\n  /**\n   * The Product this Membership grants access to.\n   */\n  export interface Product {\n    /**\n     * The internal ID of the public product.\n     */\n    id: string;\n\n    /**\n     * The title of the product. Use for Whop 4.0.\n     */\n    title: string;\n  }\n\n  /**\n   * The Promo Code that is currently applied to this Membership.\n   */\n  export interface PromoCode {\n    /**\n     * The ID of the promo.\n     */\n    id: string;\n  }\n\n  /**\n   * The user this membership belongs to\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\nexport interface MembershipUpdateParams {\n  /**\n   * The metadata to update the membership with.\n   */\n  metadata?: { [key: string]: unknown } | null;\n}\n\nexport interface MembershipListParams extends CursorPageParams {\n  /**\n   * The access pass IDs to filter the memberships by\n   */\n  access_pass_ids?: Array<string> | null;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The cancel options to filter the memberships by\n   */\n  cancel_options?: Array<\n    | 'too_expensive'\n    | 'switching'\n    | 'missing_features'\n    | 'technical_issues'\n    | 'bad_experience'\n    | 'other'\n    | 'testing'\n  > | null;\n\n  /**\n   * The ID of the company to list memberships for\n   */\n  company_id?: string | null;\n\n  /**\n   * The minimum creation date to filter by\n   */\n  created_after?: string | null;\n\n  /**\n   * The maximum creation date to filter by\n   */\n  created_before?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * Which columns can be used to sort.\n   */\n  order?: 'id' | 'created_at' | 'status' | 'canceled_at' | 'date_joined' | 'total_spend' | null;\n\n  /**\n   * The plan IDs to filter the memberships by\n   */\n  plan_ids?: Array<string> | null;\n\n  /**\n   * The promo code IDs to filter the memberships by\n   */\n  promo_code_ids?: Array<string> | null;\n\n  /**\n   * The membership status to filter the memberships by\n   */\n  statuses?: Array<Shared.MembershipStatus> | null;\n\n  /**\n   * Only return memberships from these whop user ids\n   */\n  user_ids?: Array<string> | null;\n}\n\nexport interface MembershipCancelParams {\n  /**\n   * The mode of cancellation for a membership\n   */\n  cancellation_mode?: 'at_period_end' | 'immediate' | null;\n}\n\nexport interface MembershipPauseParams {\n  /**\n   * Whether to void past_due payments associated with the membership to prevent\n   * future payment attempts.\n   */\n  void_payments?: boolean | null;\n}\n\nexport declare namespace Memberships {\n  export {\n    type MembershipListResponse as MembershipListResponse,\n    type MembershipListResponsesCursorPage as MembershipListResponsesCursorPage,\n    type MembershipUpdateParams as MembershipUpdateParams,\n    type MembershipListParams as MembershipListParams,\n    type MembershipCancelParams as MembershipCancelParams,\n    type MembershipPauseParams as MembershipPauseParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { VERSION } from '../version';\n\nexport const isRunningInBrowser = () => {\n  return (\n    // @ts-ignore\n    typeof window !== 'undefined' &&\n    // @ts-ignore\n    typeof window.document !== 'undefined' &&\n    // @ts-ignore\n    typeof navigator !== 'undefined'\n  );\n};\n\ntype DetectedPlatform = 'deno' | 'node' | 'edge' | 'unknown';\n\n/**\n * Note this does not detect 'browser'; for that, use getBrowserInfo().\n */\nfunction getDetectedPlatform(): DetectedPlatform {\n  if (typeof Deno !== 'undefined' && Deno.build != null) {\n    return 'deno';\n  }\n  if (typeof EdgeRuntime !== 'undefined') {\n    return 'edge';\n  }\n  if (\n    Object.prototype.toString.call(\n      typeof (globalThis as any).process !== 'undefined' ? (globalThis as any).process : 0,\n    ) === '[object process]'\n  ) {\n    return 'node';\n  }\n  return 'unknown';\n}\n\ndeclare const Deno: any;\ndeclare const EdgeRuntime: any;\ntype Arch = 'x32' | 'x64' | 'arm' | 'arm64' | `other:${string}` | 'unknown';\ntype PlatformName =\n  | 'MacOS'\n  | 'Linux'\n  | 'Windows'\n  | 'FreeBSD'\n  | 'OpenBSD'\n  | 'iOS'\n  | 'Android'\n  | `Other:${string}`\n  | 'Unknown';\ntype Browser = 'ie' | 'edge' | 'chrome' | 'firefox' | 'safari';\ntype PlatformProperties = {\n  'X-Stainless-Lang': 'js';\n  'X-Stainless-Package-Version': string;\n  'X-Stainless-OS': PlatformName;\n  'X-Stainless-Arch': Arch;\n  'X-Stainless-Runtime': 'node' | 'deno' | 'edge' | `browser:${Browser}` | 'unknown';\n  'X-Stainless-Runtime-Version': string;\n};\nconst getPlatformProperties = (): PlatformProperties => {\n  const detectedPlatform = getDetectedPlatform();\n  if (detectedPlatform === 'deno') {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': normalizePlatform(Deno.build.os),\n      'X-Stainless-Arch': normalizeArch(Deno.build.arch),\n      'X-Stainless-Runtime': 'deno',\n      'X-Stainless-Runtime-Version':\n        typeof Deno.version === 'string' ? Deno.version : Deno.version?.deno ?? 'unknown',\n    };\n  }\n  if (typeof EdgeRuntime !== 'undefined') {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': 'Unknown',\n      'X-Stainless-Arch': `other:${EdgeRuntime}`,\n      'X-Stainless-Runtime': 'edge',\n      'X-Stainless-Runtime-Version': (globalThis as any).process.version,\n    };\n  }\n  // Check if Node.js\n  if (detectedPlatform === 'node') {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': normalizePlatform((globalThis as any).process.platform ?? 'unknown'),\n      'X-Stainless-Arch': normalizeArch((globalThis as any).process.arch ?? 'unknown'),\n      'X-Stainless-Runtime': 'node',\n      'X-Stainless-Runtime-Version': (globalThis as any).process.version ?? 'unknown',\n    };\n  }\n\n  const browserInfo = getBrowserInfo();\n  if (browserInfo) {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': 'Unknown',\n      'X-Stainless-Arch': 'unknown',\n      'X-Stainless-Runtime': `browser:${browserInfo.browser}`,\n      'X-Stainless-Runtime-Version': browserInfo.version,\n    };\n  }\n\n  // TODO add support for Cloudflare workers, etc.\n  return {\n    'X-Stainless-Lang': 'js',\n    'X-Stainless-Package-Version': VERSION,\n    'X-Stainless-OS': 'Unknown',\n    'X-Stainless-Arch': 'unknown',\n    'X-Stainless-Runtime': 'unknown',\n    'X-Stainless-Runtime-Version': 'unknown',\n  };\n};\n\ntype BrowserInfo = {\n  browser: Browser;\n  version: string;\n};\n\ndeclare const navigator: { userAgent: string } | undefined;\n\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo(): BrowserInfo | null {\n  if (typeof navigator === 'undefined' || !navigator) {\n    return null;\n  }\n\n  // NOTE: The order matters here!\n  const browserPatterns = [\n    { key: 'edge' as const, pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'ie' as const, pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'ie' as const, pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'chrome' as const, pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'firefox' as const, pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'safari' as const, pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/ },\n  ];\n\n  // Find the FIRST matching browser\n  for (const { key, pattern } of browserPatterns) {\n    const match = pattern.exec(navigator.userAgent);\n    if (match) {\n      const major = match[1] || 0;\n      const minor = match[2] || 0;\n      const patch = match[3] || 0;\n\n      return { browser: key, version: `${major}.${minor}.${patch}` };\n    }\n  }\n\n  return null;\n}\n\nconst normalizeArch = (arch: string): Arch => {\n  // Node docs:\n  // - https://nodejs.org/api/process.html#processarch\n  // Deno docs:\n  // - https://doc.deno.land/deno/stable/~/Deno.build\n  if (arch === 'x32') return 'x32';\n  if (arch === 'x86_64' || arch === 'x64') return 'x64';\n  if (arch === 'arm') return 'arm';\n  if (arch === 'aarch64' || arch === 'arm64') return 'arm64';\n  if (arch) return `other:${arch}`;\n  return 'unknown';\n};\n\nconst normalizePlatform = (platform: string): PlatformName => {\n  // Node platforms:\n  // - https://nodejs.org/api/process.html#processplatform\n  // Deno platforms:\n  // - https://doc.deno.land/deno/stable/~/Deno.build\n  // - https://github.com/denoland/deno/issues/14799\n\n  platform = platform.toLowerCase();\n\n  // NOTE: this iOS check is untested and may not work\n  // Node does not work natively on IOS, there is a fork at\n  // https://github.com/nodejs-mobile/nodejs-mobile\n  // however it is unknown at the time of writing how to detect if it is running\n  if (platform.includes('ios')) return 'iOS';\n  if (platform === 'android') return 'Android';\n  if (platform === 'darwin') return 'MacOS';\n  if (platform === 'win32') return 'Windows';\n  if (platform === 'freebsd') return 'FreeBSD';\n  if (platform === 'openbsd') return 'OpenBSD';\n  if (platform === 'linux') return 'Linux';\n  if (platform) return `Other:${platform}`;\n  return 'Unknown';\n};\n\nlet _platformHeaders: PlatformProperties;\nexport const getPlatformHeaders = () => {\n  return (_platformHeaders ??= getPlatformProperties());\n};\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Members extends APIResource {\n  /**\n   * Retrieves a member of a company by ID\n   *\n   * Required permissions:\n   *\n   * - `member:basic:read`\n   * - `member:email:read`\n   * - `member:phone:read`\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<MemberRetrieveResponse> {\n    return this._client.get(path`/members/${id}`, options);\n  }\n\n  /**\n   * List the members of a company\n   *\n   * Required permissions:\n   *\n   * - `member:basic:read`\n   * - `member:email:read`\n   * - `member:phone:read`\n   */\n  list(\n    query: MemberListParams,\n    options?: RequestOptions,\n  ): PagePromise<MemberListResponsesCursorPage, MemberListResponse> {\n    return this._client.getAPIList('/members', CursorPage<MemberListResponse>, { query, ...options });\n  }\n}\n\nexport type MemberListResponsesCursorPage = CursorPage<MemberListResponse>;\n\n/**\n * An object representing a connection between a creator and a user/company_buyer.\n * This type should only be made visible to the user/company_buyer who is a part of\n * the connection.\n */\nexport interface MemberRetrieveResponse {\n  /**\n   * The ID of the member\n   */\n  id: string;\n\n  /**\n   * The access level of the product member. If its admin, the member is an\n   * authorized user of the access pass. If its customer, the member has a valid\n   * membership to the access pass. If its no_access, the member does not have access\n   * to the access pass.\n   */\n  access_level: Shared.AccessLevel;\n\n  /**\n   * The company for the member.\n   */\n  company: MemberRetrieveResponse.Company;\n\n  /**\n   * When the member was created\n   */\n  created_at: string;\n\n  /**\n   * When the member joined the company\n   */\n  joined_at: string;\n\n  /**\n   * The different most recent actions a member can have.\n   */\n  most_recent_action: Shared.MemberMostRecentActions | null;\n\n  /**\n   * The time for the most recent action, if applicable.\n   */\n  most_recent_action_at: string | null;\n\n  /**\n   * The phone number for the member, if available.\n   */\n  phone: string | null;\n\n  /**\n   * The status of the member\n   */\n  status: Shared.MemberStatuses;\n\n  /**\n   * The timestamp of when this member was last updated\n   */\n  updated_at: string;\n\n  /**\n   * How much money this customer has spent on the company's products and plans\n   */\n  usd_total_spent: number;\n\n  /**\n   * The user for this member, if any.\n   */\n  user: MemberRetrieveResponse.User | null;\n}\n\nexport namespace MemberRetrieveResponse {\n  /**\n   * The company for the member.\n   */\n  export interface Company {\n    /**\n     * The ID of the company\n     */\n    id: string;\n\n    /**\n     * The slug/route of the company on the Whop site.\n     */\n    route: string;\n\n    /**\n     * The written name of the company.\n     */\n    title: string;\n  }\n\n  /**\n   * The user for this member, if any.\n   */\n  export interface User {\n    /**\n     * The internal ID of the user account.\n     */\n    id: string;\n\n    /**\n     * The digital mailing address of the user.\n     */\n    email: string | null;\n\n    /**\n     * The user's full name.\n     */\n    name: string | null;\n\n    /**\n     * The whop username.\n     */\n    username: string;\n  }\n}\n\n/**\n * An object representing a connection between a creator and a user/company_buyer.\n * This type should only be made visible to the user/company_buyer who is a part of\n * the connection.\n */\nexport interface MemberListResponse {\n  /**\n   * The ID of the member\n   */\n  id: string;\n\n  /**\n   * The access level of the product member. If its admin, the member is an\n   * authorized user of the access pass. If its customer, the member has a valid\n   * membership to the access pass. If its no_access, the member does not have access\n   * to the access pass.\n   */\n  access_level: Shared.AccessLevel;\n\n  /**\n   * When the member was created\n   */\n  created_at: string;\n\n  /**\n   * When the member joined the company\n   */\n  joined_at: string;\n\n  /**\n   * The different most recent actions a member can have.\n   */\n  most_recent_action: Shared.MemberMostRecentActions | null;\n\n  /**\n   * The time for the most recent action, if applicable.\n   */\n  most_recent_action_at: string | null;\n\n  /**\n   * The phone number for the member, if available.\n   */\n  phone: string | null;\n\n  /**\n   * The status of the member\n   */\n  status: Shared.MemberStatuses;\n\n  /**\n   * The timestamp of when this member was last updated\n   */\n  updated_at: string;\n\n  /**\n   * How much money this customer has spent on the company's products and plans\n   */\n  usd_total_spent: number;\n\n  /**\n   * The user for this member, if any.\n   */\n  user: MemberListResponse.User | null;\n}\n\nexport namespace MemberListResponse {\n  /**\n   * The user for this member, if any.\n   */\n  export interface User {\n    /**\n     * The internal ID of the user account.\n     */\n    id: string;\n\n    /**\n     * The digital mailing address of the user.\n     */\n    email: string | null;\n\n    /**\n     * The user's full name.\n     */\n    name: string | null;\n\n    /**\n     * The whop username.\n     */\n    username: string;\n  }\n}\n\nexport interface MemberListParams extends CursorPageParams {\n  /**\n   * The ID of the company to list members for\n   */\n  company_id: string;\n\n  /**\n   * The access level a given user (or company) has to an access pass or company.\n   */\n  access_level?: Shared.AccessLevel | null;\n\n  /**\n   * The access pass IDs to filter the members by\n   */\n  access_pass_ids?: Array<string> | null;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The minimum creation date to filter by\n   */\n  created_after?: string | null;\n\n  /**\n   * The maximum creation date to filter by\n   */\n  created_before?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The most recent actions to filter the members by\n   */\n  most_recent_actions?: Array<Shared.MemberMostRecentActions> | null;\n\n  /**\n   * Which columns can be used to sort.\n   */\n  order?: 'id' | 'usd_total_spent' | 'created_at' | 'joined_at' | 'most_recent_action' | null;\n\n  /**\n   * The plan IDs to filter the members by\n   */\n  plan_ids?: Array<string> | null;\n\n  /**\n   * The promo code IDs to filter the members by\n   */\n  promo_code_ids?: Array<string> | null;\n\n  /**\n   * The name, username, or email to filter the members by. The email filter will\n   * only apply if the current actor has the `member:email:read` permission.\n   */\n  query?: string | null;\n\n  /**\n   * The statuses to filter the members by\n   */\n  statuses?: Array<Shared.MemberStatuses> | null;\n\n  /**\n   * The user IDs to filter the members by\n   */\n  user_ids?: Array<string> | null;\n}\n\nexport declare namespace Members {\n  export {\n    type MemberRetrieveResponse as MemberRetrieveResponse,\n    type MemberListResponse as MemberListResponse,\n    type MemberListResponsesCursorPage as MemberListResponsesCursorPage,\n    type MemberListParams as MemberListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Experiences extends APIResource {\n  /**\n   * Required permissions:\n   *\n   * - `experience:create`\n   *\n   * @example\n   * ```ts\n   * const experience = await client.experiences.create({\n   *   app_id: 'app_xxxxxxxxxxxxxx',\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   * });\n   * ```\n   */\n  create(body: ExperienceCreateParams, options?: RequestOptions): APIPromise<Shared.Experience> {\n    return this._client.post('/experiences', { body, ...options });\n  }\n\n  /**\n   * Retrieves an experience by ID\n   *\n   * @example\n   * ```ts\n   * const experience = await client.experiences.retrieve(\n   *   'exp_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Experience> {\n    return this._client.get(path`/experiences/${id}`, options);\n  }\n\n  /**\n   * Required permissions:\n   *\n   * - `experience:update`\n   *\n   * @example\n   * ```ts\n   * const experience = await client.experiences.update(\n   *   'exp_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  update(\n    id: string,\n    body: ExperienceUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Experience> {\n    return this._client.patch(path`/experiences/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists experiences for a company\n   *\n   * Required permissions:\n   *\n   * - `experience:hidden_experience:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const experienceListResponse of client.experiences.list(\n   *   { company_id: 'biz_xxxxxxxxxxxxxx' },\n   * )) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: ExperienceListParams,\n    options?: RequestOptions,\n  ): PagePromise<ExperienceListResponsesCursorPage, ExperienceListResponse> {\n    return this._client.getAPIList('/experiences', CursorPage<ExperienceListResponse>, { query, ...options });\n  }\n\n  /**\n   * Required permissions:\n   *\n   * - `experience:delete`\n   *\n   * @example\n   * ```ts\n   * const experience = await client.experiences.delete(\n   *   'exp_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  delete(id: string, options?: RequestOptions): APIPromise<ExperienceDeleteResponse> {\n    return this._client.delete(path`/experiences/${id}`, options);\n  }\n\n  /**\n   * Adds an experience to an product, making it accessible to the product's\n   * customers.\n   *\n   * Required permissions:\n   *\n   * - `experience:attach`\n   *\n   * @example\n   * ```ts\n   * const experience = await client.experiences.attach(\n   *   'exp_xxxxxxxxxxxxxx',\n   *   { product_id: 'prod_xxxxxxxxxxxxx' },\n   * );\n   * ```\n   */\n  attach(id: string, body: ExperienceAttachParams, options?: RequestOptions): APIPromise<Shared.Experience> {\n    return this._client.post(path`/experiences/${id}/attach`, { body, ...options });\n  }\n\n  /**\n   * Removes an experience from an product, making it inaccessible to the product's\n   * customers.\n   *\n   * Required permissions:\n   *\n   * - `experience:detach`\n   *\n   * @example\n   * ```ts\n   * const experience = await client.experiences.detach(\n   *   'exp_xxxxxxxxxxxxxx',\n   *   { product_id: 'prod_xxxxxxxxxxxxx' },\n   * );\n   * ```\n   */\n  detach(id: string, body: ExperienceDetachParams, options?: RequestOptions): APIPromise<Shared.Experience> {\n    return this._client.post(path`/experiences/${id}/detach`, { body, ...options });\n  }\n\n  /**\n   * Duplicates an existing experience. The name will be copied, unless provided. The\n   * new experience will be attached to the same products as the original experience.\n   * If duplicating a Forum or Chat experience, the new experience will have the same\n   * settings as the original experience, e.g. who can post, who can comment, etc. No\n   * content, e.g. posts, messages, lessons from within the original experience will\n   * be copied.\n   *\n   * Required permissions:\n   *\n   * - `experience:create`\n   *\n   * @example\n   * ```ts\n   * const experience = await client.experiences.duplicate(\n   *   'exp_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  duplicate(\n    id: string,\n    body: ExperienceDuplicateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Experience> {\n    return this._client.post(path`/experiences/${id}/duplicate`, { body, ...options });\n  }\n}\n\nexport type ExperienceListResponsesCursorPage = CursorPage<ExperienceListResponse>;\n\n/**\n * An object representing an experience belonging to a company.\n */\nexport interface ExperienceListResponse {\n  /**\n   * The unique ID representing this experience\n   */\n  id: string;\n\n  /**\n   * The experience interface for this experience.\n   */\n  app: ExperienceListResponse.App;\n\n  /**\n   * The company that owns this experience.\n   */\n  company: ExperienceListResponse.Company;\n\n  /**\n   * The timestamp of when this experience was created.\n   */\n  created_at: string;\n\n  /**\n   * The logo for the experience.\n   */\n  image: ExperienceListResponse.Image | null;\n\n  /**\n   * The written name of the description.\n   */\n  name: string;\n\n  /**\n   * The order of the experience in the section\n   */\n  order: string | null;\n}\n\nexport namespace ExperienceListResponse {\n  /**\n   * The experience interface for this experience.\n   */\n  export interface App {\n    /**\n     * The ID of the app\n     */\n    id: string;\n\n    /**\n     * The icon for the app. This icon is shown on discovery, on the product page, on\n     * checkout, and as a default icon for the experiences.\n     */\n    icon: App.Icon | null;\n\n    /**\n     * The name of the app\n     */\n    name: string;\n  }\n\n  export namespace App {\n    /**\n     * The icon for the app. This icon is shown on discovery, on the product page, on\n     * checkout, and as a default icon for the experiences.\n     */\n    export interface Icon {\n      /**\n       * This is the URL you use to render optimized attachments on the client. This\n       * should be used for apps.\n       */\n      url: string | null;\n    }\n  }\n\n  /**\n   * The company that owns this experience.\n   */\n  export interface Company {\n    /**\n     * The ID (tag) of the company.\n     */\n    id: string;\n\n    /**\n     * The slug/route of the company on the Whop site.\n     */\n    route: string;\n\n    /**\n     * The title of the company.\n     */\n    title: string;\n  }\n\n  /**\n   * The logo for the experience.\n   */\n  export interface Image {\n    /**\n     * This is the URL you use to render optimized attachments on the client. This\n     * should be used for apps.\n     */\n    url: string | null;\n  }\n}\n\n/**\n * Represents `true` or `false` values.\n */\nexport type ExperienceDeleteResponse = boolean;\n\nexport interface ExperienceCreateParams {\n  /**\n   * The ID of the app to create the experience for\n   */\n  app_id: string;\n\n  /**\n   * The ID of the company to create the experience for\n   */\n  company_id: string;\n\n  /**\n   * The name of the experience\n   */\n  name?: string | null;\n\n  /**\n   * The ID of the section to create the experience in\n   */\n  section_id?: string | null;\n}\n\nexport interface ExperienceUpdateParams {\n  /**\n   * The different access levels for experiences (PUBLIC IS NEVER USED ANYMORE).\n   */\n  access_level?: 'public' | 'private' | null;\n\n  /**\n   * The logo for the experience\n   */\n  logo?: ExperienceUpdateParams.Logo | null;\n\n  /**\n   * The name of the experience.\n   */\n  name?: string | null;\n\n  /**\n   * The order of the experience in the section.\n   */\n  order?: string | null;\n\n  /**\n   * The ID of the section to update.\n   */\n  section_id?: string | null;\n}\n\nexport namespace ExperienceUpdateParams {\n  /**\n   * The logo for the experience\n   */\n  export interface Logo {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface ExperienceListParams extends CursorPageParams {\n  /**\n   * The ID of the company to filter experiences by\n   */\n  company_id: string;\n\n  /**\n   * The ID of the app to filter experiences by\n   */\n  app_id?: string | null;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The ID of the product to filter experiences by\n   */\n  product_id?: string | null;\n}\n\nexport interface ExperienceAttachParams {\n  /**\n   * The ID of the Access Pass to add the Experience to.\n   */\n  product_id: string;\n}\n\nexport interface ExperienceDetachParams {\n  /**\n   * The ID of the Access Pass to add the Experience to.\n   */\n  product_id: string;\n}\n\nexport interface ExperienceDuplicateParams {\n  /**\n   * The name of the new experience\n   */\n  name?: string | null;\n}\n\nexport declare namespace Experiences {\n  export {\n    type ExperienceListResponse as ExperienceListResponse,\n    type ExperienceDeleteResponse as ExperienceDeleteResponse,\n    type ExperienceListResponsesCursorPage as ExperienceListResponsesCursorPage,\n    type ExperienceCreateParams as ExperienceCreateParams,\n    type ExperienceUpdateParams as ExperienceUpdateParams,\n    type ExperienceListParams as ExperienceListParams,\n    type ExperienceAttachParams as ExperienceAttachParams,\n    type ExperienceDetachParams as ExperienceDetachParams,\n    type ExperienceDuplicateParams as ExperienceDuplicateParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class ChatChannels extends APIResource {\n  /**\n   * Retrieves a chat channel\n   *\n   * Required permissions:\n   *\n   * - `chat:read`\n   *\n   * @example\n   * ```ts\n   * const chatChannel = await client.chatChannels.retrieve(\n   *   'id',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.ChatChannel> {\n    return this._client.get(path`/chat_channels/${id}`, options);\n  }\n\n  /**\n   * Updates a chat channel\n   *\n   * Required permissions:\n   *\n   * - `chat:moderate`\n   *\n   * @example\n   * ```ts\n   * const chatChannel = await client.chatChannels.update('id');\n   * ```\n   */\n  update(\n    id: string,\n    body: ChatChannelUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.ChatChannel> {\n    return this._client.patch(path`/chat_channels/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists chat channels inside a company\n   *\n   * Required permissions:\n   *\n   * - `chat:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const chatChannelListResponse of client.chatChannels.list(\n   *   { company_id: 'biz_xxxxxxxxxxxxxx' },\n   * )) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: ChatChannelListParams,\n    options?: RequestOptions,\n  ): PagePromise<ChatChannelListResponsesCursorPage, ChatChannelListResponse> {\n    return this._client.getAPIList('/chat_channels', CursorPage<ChatChannelListResponse>, {\n      query,\n      ...options,\n    });\n  }\n}\n\nexport type ChatChannelListResponsesCursorPage = CursorPage<ChatChannelListResponse>;\n\n/**\n * Represents a Chat feed\n */\nexport interface ChatChannelListResponse {\n  /**\n   * The unique identifier for the entity\n   */\n  id: string;\n\n  /**\n   * Whether or not media is banned in this chat\n   */\n  ban_media: boolean;\n\n  /**\n   * Whether or not URLs are banned in this chat\n   */\n  ban_urls: boolean;\n\n  /**\n   * List of banned words in this chat\n   */\n  banned_words: Array<string>;\n\n  /**\n   * The experience for this chat\n   */\n  experience: ChatChannelListResponse.Experience;\n\n  /**\n   * The number of seconds a user needs to wait before posting again, if any\n   */\n  user_posts_cooldown_seconds: number | null;\n\n  /**\n   * Who can post on this chat\n   */\n  who_can_post: Shared.WhoCanPost;\n\n  /**\n   * Who can react on this chat\n   */\n  who_can_react: Shared.WhoCanReact;\n}\n\nexport namespace ChatChannelListResponse {\n  /**\n   * The experience for this chat\n   */\n  export interface Experience {\n    /**\n     * The unique ID representing this experience\n     */\n    id: string;\n\n    /**\n     * The written name of the description.\n     */\n    name: string;\n  }\n}\n\nexport interface ChatChannelUpdateParams {\n  /**\n   * Whether media uploads are banned in this chat\n   */\n  ban_media?: boolean | null;\n\n  /**\n   * Whether URLs are banned in this chat\n   */\n  ban_urls?: boolean | null;\n\n  /**\n   * List of banned words for this chat\n   */\n  banned_words?: Array<string> | null;\n\n  /**\n   * The cooldown period in seconds between user posts\n   */\n  user_posts_cooldown_seconds?: number | null;\n\n  /**\n   * Who can post on a chat feed\n   */\n  who_can_post?: Shared.WhoCanPost | null;\n\n  /**\n   * Who can react on a chat feed\n   */\n  who_can_react?: Shared.WhoCanReact | null;\n}\n\nexport interface ChatChannelListParams extends CursorPageParams {\n  /**\n   * The ID of the company to list chat channels for\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * If provided, only chat channels connected to this product are returned\n   */\n  product_id?: string | null;\n}\n\nexport declare namespace ChatChannels {\n  export {\n    type ChatChannelListResponse as ChatChannelListResponse,\n    type ChatChannelListResponsesCursorPage as ChatChannelListResponsesCursorPage,\n    type ChatChannelUpdateParams as ChatChannelUpdateParams,\n    type ChatChannelListParams as ChatChannelListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class CourseChapters extends APIResource {\n  /**\n   * Creates a new course chapter\n   *\n   * Required permissions:\n   *\n   * - `courses:update`\n   *\n   * @example\n   * ```ts\n   * const courseChapter = await client.courseChapters.create({\n   *   course_id: 'cors_xxxxxxxxxxxxx',\n   * });\n   * ```\n   */\n  create(body: CourseChapterCreateParams, options?: RequestOptions): APIPromise<CourseChapter> {\n    return this._client.post('/course_chapters', { body, ...options });\n  }\n\n  /**\n   * Retrieves a course chapter by ID\n   *\n   * Required permissions:\n   *\n   * - `courses:read`\n   *\n   * @example\n   * ```ts\n   * const courseChapter = await client.courseChapters.retrieve(\n   *   'chap_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<CourseChapter> {\n    return this._client.get(path`/course_chapters/${id}`, options);\n  }\n\n  /**\n   * Updates a course chapter\n   *\n   * Required permissions:\n   *\n   * - `courses:update`\n   *\n   * @example\n   * ```ts\n   * const courseChapter = await client.courseChapters.update(\n   *   'chap_xxxxxxxxxxxxx',\n   *   { title: 'title' },\n   * );\n   * ```\n   */\n  update(id: string, body: CourseChapterUpdateParams, options?: RequestOptions): APIPromise<CourseChapter> {\n    return this._client.patch(path`/course_chapters/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists chapters for a course\n   *\n   * Required permissions:\n   *\n   * - `courses:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const courseChapterListResponse of client.courseChapters.list(\n   *   { course_id: 'cors_xxxxxxxxxxxxx' },\n   * )) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: CourseChapterListParams,\n    options?: RequestOptions,\n  ): PagePromise<CourseChapterListResponsesCursorPage, CourseChapterListResponse> {\n    return this._client.getAPIList('/course_chapters', CursorPage<CourseChapterListResponse>, {\n      query,\n      ...options,\n    });\n  }\n\n  /**\n   * Deletes a course chapter\n   *\n   * Required permissions:\n   *\n   * - `courses:update`\n   *\n   * @example\n   * ```ts\n   * const courseChapter = await client.courseChapters.delete(\n   *   'chap_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  delete(id: string, options?: RequestOptions): APIPromise<CourseChapterDeleteResponse> {\n    return this._client.delete(path`/course_chapters/${id}`, options);\n  }\n}\n\nexport type CourseChapterListResponsesCursorPage = CursorPage<CourseChapterListResponse>;\n\n/**\n * A chapter from the courses app\n */\nexport interface CourseChapter {\n  /**\n   * The ID of the chapter. Looks like chap_XXX\n   */\n  id: string;\n\n  /**\n   * The lessons in this chapter\n   */\n  lessons: Array<CourseChapter.Lesson>;\n\n  /**\n   * The order of the chapter within its course\n   */\n  order: number;\n\n  /**\n   * The title of the chapter\n   */\n  title: string;\n}\n\nexport namespace CourseChapter {\n  /**\n   * A lesson from the courses app\n   */\n  export interface Lesson {\n    /**\n     * The ID of the lesson\n     */\n    id: string;\n\n    /**\n     * The order of the lesson within its chapter\n     */\n    order: number;\n\n    /**\n     * The title of the lesson\n     */\n    title: string;\n  }\n}\n\n/**\n * A chapter from the courses app\n */\nexport interface CourseChapterListResponse {\n  /**\n   * The ID of the chapter. Looks like chap_XXX\n   */\n  id: string;\n\n  /**\n   * The order of the chapter within its course\n   */\n  order: number;\n\n  /**\n   * The title of the chapter\n   */\n  title: string;\n}\n\n/**\n * Represents `true` or `false` values.\n */\nexport type CourseChapterDeleteResponse = boolean;\n\nexport interface CourseChapterCreateParams {\n  /**\n   * The ID of the course to create the chapter in\n   */\n  course_id: string;\n\n  /**\n   * The title of the chapter\n   */\n  title?: string | null;\n}\n\nexport interface CourseChapterUpdateParams {\n  /**\n   * The title of the chapter\n   */\n  title: string;\n}\n\nexport interface CourseChapterListParams extends CursorPageParams {\n  /**\n   * The ID of the course\n   */\n  course_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n}\n\nexport declare namespace CourseChapters {\n  export {\n    type CourseChapter as CourseChapter,\n    type CourseChapterListResponse as CourseChapterListResponse,\n    type CourseChapterDeleteResponse as CourseChapterDeleteResponse,\n    type CourseChapterListResponsesCursorPage as CourseChapterListResponsesCursorPage,\n    type CourseChapterCreateParams as CourseChapterCreateParams,\n    type CourseChapterUpdateParams as CourseChapterUpdateParams,\n    type CourseChapterListParams as CourseChapterListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class ForumPosts extends APIResource {\n  /**\n   * Create a new forum post\n   *\n   * Required permissions:\n   *\n   * - `forum:post:create`\n   *\n   * @example\n   * ```ts\n   * const forumPost = await client.forumPosts.create({\n   *   experience_id: 'exp_xxxxxxxxxxxxxx',\n   * });\n   * ```\n   */\n  create(body: ForumPostCreateParams, options?: RequestOptions): APIPromise<Shared.ForumPost> {\n    return this._client.post('/forum_posts', { body, ...options });\n  }\n\n  /**\n   * Retrieves a forum post by ID\n   *\n   * Required permissions:\n   *\n   * - `forum:read`\n   *\n   * @example\n   * ```ts\n   * const forumPost = await client.forumPosts.retrieve('id');\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.ForumPost> {\n    return this._client.get(path`/forum_posts/${id}`, options);\n  }\n\n  /**\n   * Update an existing forum post\n   *\n   * @example\n   * ```ts\n   * const forumPost = await client.forumPosts.update('id');\n   * ```\n   */\n  update(\n    id: string,\n    body: ForumPostUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.ForumPost> {\n    return this._client.patch(path`/forum_posts/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists forum posts\n   *\n   * Required permissions:\n   *\n   * - `forum:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const forumPostListResponse of client.forumPosts.list(\n   *   { experience_id: 'exp_xxxxxxxxxxxxxx' },\n   * )) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: ForumPostListParams,\n    options?: RequestOptions,\n  ): PagePromise<ForumPostListResponsesCursorPage, ForumPostListResponse> {\n    return this._client.getAPIList('/forum_posts', CursorPage<ForumPostListResponse>, { query, ...options });\n  }\n}\n\nexport type ForumPostListResponsesCursorPage = CursorPage<ForumPostListResponse>;\n\n/**\n * Represents a post in forum\n */\nexport interface ForumPostListResponse {\n  /**\n   * The unique identifier for the entity\n   */\n  id: string;\n\n  /**\n   * The amount of comments on this post\n   */\n  comment_count: number;\n\n  /**\n   * The content of the forum post in Markdown format\n   */\n  content: string | null;\n\n  /**\n   * The timestamp when the post was created\n   */\n  created_at: string;\n\n  /**\n   * Whether the forum post has been edited\n   */\n  is_edited: boolean;\n\n  /**\n   * Whether this forum post is pinned\n   */\n  is_pinned: boolean;\n\n  /**\n   * Whether the user that sent the post is an admin of the company\n   */\n  is_poster_admin: boolean;\n\n  /**\n   * The number of likes this post has received\n   */\n  like_count: number | null;\n\n  /**\n   * The ID of the parent forum post, if applicable\n   */\n  parent_id: string | null;\n\n  /**\n   * The title of the forum post\n   */\n  title: string | null;\n\n  /**\n   * The timestamp when the post was last updated\n   */\n  updated_at: string;\n\n  /**\n   * The user who created this forum post\n   */\n  user: ForumPostListResponse.User;\n\n  /**\n   * The number of times this message has been viewed\n   */\n  view_count: number | null;\n}\n\nexport namespace ForumPostListResponse {\n  /**\n   * The user who created this forum post\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\nexport interface ForumPostCreateParams {\n  /**\n   * The experience to create this post in\n   */\n  experience_id: string;\n\n  /**\n   * The attachments for this post\n   */\n  attachments?: Array<ForumPostCreateParams.Attachment> | null;\n\n  /**\n   * This is the main body of the post in Markdown format. Hidden if paywalled and\n   * user hasn't purchased access to it.\n   */\n  content?: string | null;\n\n  /**\n   * This is used to determine if the post should be sent as a 'mention' notification\n   * to all of the users who are in the experience. This means that anyone with\n   * 'mentions' enabled will receive a notification about this post.\n   */\n  is_mention?: boolean | null;\n\n  /**\n   * The ID of the parent post. Set it to the ID of the post you want to comment on\n   * or don't include it if its a top level post.\n   */\n  parent_id?: string | null;\n\n  /**\n   * The amount to paywall this post by. A paywalled post requires the user to\n   * purchase it in order to view its content.\n   */\n  paywall_amount?: number | null;\n\n  /**\n   * The available currencies on the platform\n   */\n  paywall_currency?: Shared.Currency | null;\n\n  /**\n   * Whether the post should be pinned\n   */\n  pinned?: boolean | null;\n\n  /**\n   * The poll for this post\n   */\n  poll?: ForumPostCreateParams.Poll | null;\n\n  /**\n   * The title of the post. Only visible if paywalled.\n   */\n  title?: string | null;\n}\n\nexport namespace ForumPostCreateParams {\n  /**\n   * Input for an attachment\n   */\n  export interface Attachment {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n\n  /**\n   * The poll for this post\n   */\n  export interface Poll {\n    /**\n     * The options for the poll. Must have sequential IDs starting from 1\n     */\n    options: Array<Poll.Option>;\n  }\n\n  export namespace Poll {\n    /**\n     * Input type for a single poll option\n     */\n    export interface Option {\n      /**\n       * Sequential ID for the poll option (starting from '1')\n       */\n      id: string;\n\n      /**\n       * The text of the poll option\n       */\n      text: string;\n    }\n  }\n}\n\nexport interface ForumPostUpdateParams {\n  /**\n   * The attachments for this post\n   */\n  attachments?: Array<ForumPostUpdateParams.Attachment> | null;\n\n  /**\n   * This is the main body of the post in Markdown format. Hidden if paywalled and\n   * user hasn't purchased access to it.\n   */\n  content?: string | null;\n\n  /**\n   * Whether the post is pinned. You can only pin a top level posts (not comments).\n   */\n  is_pinned?: boolean | null;\n\n  /**\n   * The title of the post. Only visible if paywalled.\n   */\n  title?: string | null;\n}\n\nexport namespace ForumPostUpdateParams {\n  /**\n   * Input for an attachment\n   */\n  export interface Attachment {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface ForumPostListParams extends CursorPageParams {\n  /**\n   * The ID of the experience to list forum posts for\n   */\n  experience_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The ID of the parent post to list forum post comments for\n   */\n  parent_id?: string | null;\n\n  /**\n   * Set to true to only return pinned posts\n   */\n  pinned?: boolean | null;\n}\n\nexport declare namespace ForumPosts {\n  export {\n    type ForumPostListResponse as ForumPostListResponse,\n    type ForumPostListResponsesCursorPage as ForumPostListResponsesCursorPage,\n    type ForumPostCreateParams as ForumPostCreateParams,\n    type ForumPostUpdateParams as ForumPostUpdateParams,\n    type ForumPostListParams as ForumPostListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as CourseLessonsAPI from './course-lessons';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class CourseLessons extends APIResource {\n  /**\n   * Creates a new course lesson\n   *\n   * Required permissions:\n   *\n   * - `courses:update`\n   *\n   * @example\n   * ```ts\n   * const lesson = await client.courseLessons.create({\n   *   chapter_id: 'chap_xxxxxxxxxxxxx',\n   *   lesson_type: 'text',\n   * });\n   * ```\n   */\n  create(body: CourseLessonCreateParams, options?: RequestOptions): APIPromise<Lesson> {\n    return this._client.post('/course_lessons', { body, ...options });\n  }\n\n  /**\n   * Retrieves a course lesson by ID\n   *\n   * Required permissions:\n   *\n   * - `courses:read`\n   *\n   * @example\n   * ```ts\n   * const lesson = await client.courseLessons.retrieve(\n   *   'lesn_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Lesson> {\n    return this._client.get(path`/course_lessons/${id}`, options);\n  }\n\n  /**\n   * Updates a course lesson\n   *\n   * Required permissions:\n   *\n   * - `courses:update`\n   *\n   * @example\n   * ```ts\n   * const lesson = await client.courseLessons.update(\n   *   'lesn_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  update(\n    id: string,\n    body: CourseLessonUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Lesson> {\n    return this._client.patch(path`/course_lessons/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists lessons for a course or chapter\n   *\n   * Required permissions:\n   *\n   * - `courses:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const courseLessonListResponse of client.courseLessons.list()) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: CourseLessonListParams | null | undefined = {},\n    options?: RequestOptions,\n  ): PagePromise<CourseLessonListResponsesCursorPage, CourseLessonListResponse> {\n    return this._client.getAPIList('/course_lessons', CursorPage<CourseLessonListResponse>, {\n      query,\n      ...options,\n    });\n  }\n\n  /**\n   * Deletes a course lesson\n   *\n   * Required permissions:\n   *\n   * - `courses:update`\n   *\n   * @example\n   * ```ts\n   * const courseLesson = await client.courseLessons.delete(\n   *   'lesn_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  delete(id: string, options?: RequestOptions): APIPromise<CourseLessonDeleteResponse> {\n    return this._client.delete(path`/course_lessons/${id}`, options);\n  }\n}\n\nexport type CourseLessonListResponsesCursorPage = CursorPage<CourseLessonListResponse>;\n\n/**\n * The available types for an assessment question\n */\nexport type AssessmentQuestionTypes = 'short_answer' | 'true_false' | 'multiple_choice' | 'multiple_select';\n\n/**\n * A lesson from the courses app\n */\nexport interface Lesson {\n  /**\n   * The ID of the lesson\n   */\n  id: string;\n\n  /**\n   * Assessment questions for quiz/knowledge check lessons\n   */\n  assessment_questions: Array<Lesson.AssessmentQuestion>;\n\n  /**\n   * The attached files in this lesson as a flat array\n   */\n  attachments: Array<Lesson.Attachment>;\n\n  /**\n   * The content of the lesson\n   */\n  content: string | null;\n\n  /**\n   * Number of days from course start until the lesson is unlocked\n   */\n  days_from_course_start_until_unlock: number | null;\n\n  /**\n   * The type of the lesson (text, video, pdf, multi, quiz, knowledge_check)\n   */\n  lesson_type: LessonTypes;\n\n  /**\n   * The main PDF file for this lesson\n   */\n  main_pdf: Lesson.MainPdf | null;\n\n  /**\n   * The order of the lesson within its chapter\n   */\n  order: number;\n\n  /**\n   * The title of the lesson\n   */\n  title: string;\n\n  /**\n   * The associated Mux asset for video lessons\n   */\n  video_asset: Lesson.VideoAsset | null;\n\n  /**\n   * The visibility of the lesson. Determines how / whether this lesson is visible to\n   * users.\n   */\n  visibility: LessonVisibilities;\n}\n\nexport namespace Lesson {\n  /**\n   * An assessment question in a course quiz or knowledge check\n   */\n  export interface AssessmentQuestion {\n    /**\n     * The ID of the assessment question\n     */\n    id: string;\n\n    /**\n     * The correct answer for the question. Used for short answer questions\n     */\n    correct_answer: string;\n\n    /**\n     * When the question was created\n     */\n    created_at: string;\n\n    /**\n     * Optional image attachment for the question\n     */\n    image: AssessmentQuestion.Image | null;\n\n    /**\n     * The answer options for multiple choice/select questions\n     */\n    options: Array<AssessmentQuestion.Option>;\n\n    /**\n     * The order of the question within its lesson\n     */\n    order: number;\n\n    /**\n     * The text of the question\n     */\n    question_text: string;\n\n    /**\n     * The type of the question\n     */\n    question_type: CourseLessonsAPI.AssessmentQuestionTypes;\n  }\n\n  export namespace AssessmentQuestion {\n    /**\n     * Optional image attachment for the question\n     */\n    export interface Image {\n      /**\n       * The ID of the attachment\n       */\n      id: string;\n\n      /**\n       * The attachment's content type (e.g., image/jpg, video/mp4)\n       */\n      content_type: string | null;\n\n      /**\n       * The name of the file\n       */\n      filename: string | null;\n\n      /**\n       * This is the URL you use to render optimized attachments on the client. This\n       * should be used for apps.\n       */\n      url: string | null;\n    }\n\n    /**\n     * An answer option for a multiple choice or multiple select assessment question\n     */\n    export interface Option {\n      /**\n       * The ID of the assessment question option\n       */\n      id: string;\n\n      /**\n       * Whether this option is a correct answer\n       */\n      is_correct: boolean;\n\n      /**\n       * The text of the answer option\n       */\n      option_text: string;\n\n      /**\n       * The order of this option within the question\n       */\n      order: number;\n    }\n  }\n\n  /**\n   * Represents an image attachment\n   */\n  export interface Attachment {\n    /**\n     * The ID of the attachment\n     */\n    id: string;\n\n    /**\n     * The attachment's content type (e.g., image/jpg, video/mp4)\n     */\n    content_type: string | null;\n\n    /**\n     * The name of the file\n     */\n    filename: string | null;\n\n    /**\n     * This is the URL you use to render optimized attachments on the client. This\n     * should be used for apps.\n     */\n    url: string | null;\n  }\n\n  /**\n   * The main PDF file for this lesson\n   */\n  export interface MainPdf {\n    /**\n     * The ID of the attachment\n     */\n    id: string;\n\n    /**\n     * The attachment's content type (e.g., image/jpg, video/mp4)\n     */\n    content_type: string | null;\n\n    /**\n     * The name of the file\n     */\n    filename: string | null;\n\n    /**\n     * This is the URL you use to render optimized attachments on the client. This\n     * should be used for apps.\n     */\n    url: string | null;\n  }\n\n  /**\n   * The associated Mux asset for video lessons\n   */\n  export interface VideoAsset {\n    /**\n     * The ID of the Mux asset\n     */\n    id: string;\n\n    /**\n     * The Mux-provided ID of the asset\n     */\n    asset_id: string | null;\n\n    /**\n     * The public playback ID of the Mux asset\n     */\n    playback_id: string | null;\n  }\n}\n\n/**\n * The available types for a lesson\n */\nexport type LessonTypes = 'text' | 'video' | 'pdf' | 'multi' | 'quiz' | 'knowledge_check';\n\n/**\n * The available visibilities for a lesson. Determines how / whether a lesson is\n * visible to users.\n */\nexport type LessonVisibilities = 'visible' | 'hidden';\n\n/**\n * A lesson from the courses app\n */\nexport interface CourseLessonListResponse {\n  /**\n   * The ID of the lesson\n   */\n  id: string;\n\n  /**\n   * The content of the lesson\n   */\n  content: string | null;\n\n  /**\n   * Number of days from course start until the lesson is unlocked\n   */\n  days_from_course_start_until_unlock: number | null;\n\n  /**\n   * The type of the lesson (text, video, pdf, multi, quiz, knowledge_check)\n   */\n  lesson_type: LessonTypes;\n\n  /**\n   * The order of the lesson within its chapter\n   */\n  order: number;\n\n  /**\n   * The title of the lesson\n   */\n  title: string;\n\n  /**\n   * The visibility of the lesson. Determines how / whether this lesson is visible to\n   * users.\n   */\n  visibility: LessonVisibilities;\n}\n\n/**\n * Represents `true` or `false` values.\n */\nexport type CourseLessonDeleteResponse = boolean;\n\nexport interface CourseLessonCreateParams {\n  /**\n   * The ID of the chapter to create the lesson in\n   */\n  chapter_id: string;\n\n  /**\n   * The type of the lesson\n   */\n  lesson_type: LessonTypes;\n\n  /**\n   * The content of the lesson\n   */\n  content?: string | null;\n\n  /**\n   * Days from course start until unlock\n   */\n  days_from_course_start_until_unlock?: number | null;\n\n  /**\n   * The title of the lesson\n   */\n  title?: string | null;\n}\n\nexport interface CourseLessonUpdateParams {\n  /**\n   * Assessment questions for quiz/knowledge check lessons. Replaces all existing\n   * questions.\n   */\n  assessment_questions?: Array<CourseLessonUpdateParams.AssessmentQuestion> | null;\n\n  /**\n   * General attachments for the lesson (PDFs, files, etc). Replaces all existing\n   * attachments.\n   */\n  attachments?: Array<CourseLessonUpdateParams.Attachment> | null;\n\n  /**\n   * The content of the lesson\n   */\n  content?: string | null;\n\n  /**\n   * Days from course start until unlock\n   */\n  days_from_course_start_until_unlock?: number | null;\n\n  /**\n   * The available types for a lesson\n   */\n  lesson_type?: LessonTypes | null;\n\n  /**\n   * The main PDF file for this lesson\n   */\n  main_pdf?: CourseLessonUpdateParams.MainPdf | null;\n\n  /**\n   * The ID of the Mux asset to attach to this lesson for video lessons\n   */\n  mux_asset_id?: string | null;\n\n  /**\n   * The title of the lesson\n   */\n  title?: string | null;\n\n  /**\n   * The available visibilities for a lesson. Determines how / whether a lesson is\n   * visible to users.\n   */\n  visibility?: LessonVisibilities | null;\n}\n\nexport namespace CourseLessonUpdateParams {\n  /**\n   * Input for creating or updating an assessment question\n   */\n  export interface AssessmentQuestion {\n    /**\n     * The correct answer for the question. Used for short answer questions\n     */\n    correct_answer: string;\n\n    /**\n     * The text of the question\n     */\n    question_text: string;\n\n    /**\n     * The type of the question\n     */\n    question_type: CourseLessonsAPI.AssessmentQuestionTypes;\n\n    /**\n     * The ID of an existing question. If provided, the question will be updated. If\n     * not provided, a new question will be created.\n     */\n    id?: string | null;\n\n    /**\n     * Optional image attachment for the question\n     */\n    image?: AssessmentQuestion.Image | null;\n\n    /**\n     * The answer options for multiple choice/select questions\n     */\n    options?: Array<AssessmentQuestion.Option> | null;\n  }\n\n  export namespace AssessmentQuestion {\n    /**\n     * Optional image attachment for the question\n     */\n    export interface Image {\n      /**\n       * The ID of an existing attachment object. Use this when updating a resource and\n       * keeping a subset of the attachments. Don't use this unless you know what you're\n       * doing.\n       */\n      id?: string | null;\n\n      /**\n       * This ID should be used the first time you upload an attachment. It is the ID of\n       * the direct upload that was created when uploading the file to S3 via the\n       * mediaDirectUpload mutation.\n       */\n      direct_upload_id?: string | null;\n    }\n\n    /**\n     * Input for creating or updating an assessment question option\n     */\n    export interface Option {\n      /**\n       * Whether this option is a correct answer\n       */\n      is_correct: boolean;\n\n      /**\n       * The text of the answer option\n       */\n      option_text: string;\n\n      /**\n       * The ID of an existing option. If provided, the option will be updated. If not\n       * provided, a new option will be created.\n       */\n      id?: string | null;\n    }\n  }\n\n  /**\n   * Input for an attachment\n   */\n  export interface Attachment {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n\n  /**\n   * The main PDF file for this lesson\n   */\n  export interface MainPdf {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface CourseLessonListParams extends CursorPageParams {\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The ID of the chapter (returns lessons only for this chapter)\n   */\n  chapter_id?: string | null;\n\n  /**\n   * The ID of the course (returns all lessons across all chapters)\n   */\n  course_id?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n}\n\nexport declare namespace CourseLessons {\n  export {\n    type AssessmentQuestionTypes as AssessmentQuestionTypes,\n    type Lesson as Lesson,\n    type LessonTypes as LessonTypes,\n    type LessonVisibilities as LessonVisibilities,\n    type CourseLessonListResponse as CourseLessonListResponse,\n    type CourseLessonDeleteResponse as CourseLessonDeleteResponse,\n    type CourseLessonListResponsesCursorPage as CourseLessonListResponsesCursorPage,\n    type CourseLessonCreateParams as CourseLessonCreateParams,\n    type CourseLessonUpdateParams as CourseLessonUpdateParams,\n    type CourseLessonListParams as CourseLessonListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as CourseLessonsAPI from './course-lessons';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Courses extends APIResource {\n  /**\n   * Creates a new course module in an experience\n   *\n   * Required permissions:\n   *\n   * - `courses:update`\n   *\n   * @example\n   * ```ts\n   * const course = await client.courses.create({\n   *   experience_id: 'exp_xxxxxxxxxxxxxx',\n   *   title: 'title',\n   * });\n   * ```\n   */\n  create(body: CourseCreateParams, options?: RequestOptions): APIPromise<Course> {\n    return this._client.post('/courses', { body, ...options });\n  }\n\n  /**\n   * Retrieves a course by ID\n   *\n   * Required permissions:\n   *\n   * - `courses:read`\n   *\n   * @example\n   * ```ts\n   * const course = await client.courses.retrieve(\n   *   'cors_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Course> {\n    return this._client.get(path`/courses/${id}`, options);\n  }\n\n  /**\n   * Updates a course\n   *\n   * Required permissions:\n   *\n   * - `courses:update`\n   *\n   * @example\n   * ```ts\n   * const course = await client.courses.update(\n   *   'cors_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  update(\n    id: string,\n    body: CourseUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Course> {\n    return this._client.patch(path`/courses/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists courses for an experience or company\n   *\n   * Required permissions:\n   *\n   * - `courses:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const courseListResponse of client.courses.list()) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: CourseListParams | null | undefined = {},\n    options?: RequestOptions,\n  ): PagePromise<CourseListResponsesCursorPage, CourseListResponse> {\n    return this._client.getAPIList('/courses', CursorPage<CourseListResponse>, { query, ...options });\n  }\n\n  /**\n   * Deletes a course\n   *\n   * Required permissions:\n   *\n   * - `courses:update`\n   *\n   * @example\n   * ```ts\n   * const course = await client.courses.delete(\n   *   'cors_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  delete(id: string, options?: RequestOptions): APIPromise<CourseDeleteResponse> {\n    return this._client.delete(path`/courses/${id}`, options);\n  }\n}\n\nexport type CourseListResponsesCursorPage = CursorPage<CourseListResponse>;\n\n/**\n * A course from the courses app\n */\nexport interface Course {\n  /**\n   * The ID of the course. Looks like cors_XXX\n   */\n  id: string;\n\n  /**\n   * Whether the course will award its students a PDF certificate after completing\n   * all lessons\n   */\n  certificate_after_completion_enabled: boolean | null;\n\n  /**\n   * The chapters in this course\n   */\n  chapters: Array<Course.Chapter>;\n\n  /**\n   * The timestamp of when the course was created\n   */\n  created_at: string;\n\n  /**\n   * A short description of the course\n   */\n  description: string | null;\n\n  /**\n   * The language spoken in the video content of the course, used to generate closed\n   * captions in the right language\n   */\n  language: Languages;\n\n  /**\n   * Whether the course requires students to complete the previous lesson before\n   * moving on to the next one\n   */\n  require_completing_lessons_in_order: boolean;\n\n  /**\n   * A short tagline for the course. It is displayed under the course title in the UI\n   */\n  tagline: string | null;\n\n  /**\n   * The thumbnail for the course\n   */\n  thumbnail: Course.Thumbnail | null;\n\n  /**\n   * The title of the course\n   */\n  title: string | null;\n\n  /**\n   * The timestamp of when the course was last updated\n   */\n  updated_at: string;\n}\n\nexport namespace Course {\n  /**\n   * A chapter from the courses app\n   */\n  export interface Chapter {\n    /**\n     * The ID of the chapter. Looks like chap_XXX\n     */\n    id: string;\n\n    /**\n     * The lessons in this chapter\n     */\n    lessons: Array<Chapter.Lesson>;\n\n    /**\n     * The order of the chapter within its course\n     */\n    order: number;\n\n    /**\n     * The title of the chapter\n     */\n    title: string;\n  }\n\n  export namespace Chapter {\n    /**\n     * A lesson from the courses app\n     */\n    export interface Lesson {\n      /**\n       * The ID of the lesson\n       */\n      id: string;\n\n      /**\n       * The type of the lesson (text, video, pdf, multi, quiz, knowledge_check)\n       */\n      lesson_type: CourseLessonsAPI.LessonTypes;\n\n      /**\n       * The order of the lesson within its chapter\n       */\n      order: number;\n\n      /**\n       * The title of the lesson\n       */\n      title: string;\n    }\n  }\n\n  /**\n   * The thumbnail for the course\n   */\n  export interface Thumbnail {\n    /**\n     * The ID of the attachment\n     */\n    id: string;\n\n    /**\n     * The attachment's content type (e.g., image/jpg, video/mp4)\n     */\n    content_type: string | null;\n\n    /**\n     * The name of the file\n     */\n    filename: string | null;\n\n    /**\n     * This is the URL you use to render optimized attachments on the client. This\n     * should be used for apps.\n     */\n    optimized_url: string | null;\n\n    /**\n     * The original URL of the attachment, such as a direct link to S3. This should\n     * never be displayed on the client and always passed to an Imgproxy transformer.\n     */\n    source_url: string | null;\n  }\n}\n\n/**\n * The available languages for a course\n */\nexport type Languages =\n  | 'en'\n  | 'es'\n  | 'it'\n  | 'pt'\n  | 'de'\n  | 'fr'\n  | 'pl'\n  | 'ru'\n  | 'nl'\n  | 'ca'\n  | 'tr'\n  | 'sv'\n  | 'uk'\n  | 'no'\n  | 'fi'\n  | 'sk'\n  | 'el'\n  | 'cs'\n  | 'hr'\n  | 'da'\n  | 'ro'\n  | 'bg';\n\n/**\n * A course from the courses app\n */\nexport interface CourseListResponse {\n  /**\n   * The ID of the course. Looks like cors_XXX\n   */\n  id: string;\n\n  /**\n   * Whether the course will award its students a PDF certificate after completing\n   * all lessons\n   */\n  certificate_after_completion_enabled: boolean | null;\n\n  /**\n   * The timestamp of when the course was created\n   */\n  created_at: string;\n\n  /**\n   * A short description of the course\n   */\n  description: string | null;\n\n  /**\n   * The language spoken in the video content of the course, used to generate closed\n   * captions in the right language\n   */\n  language: Languages;\n\n  /**\n   * Whether the course requires students to complete the previous lesson before\n   * moving on to the next one\n   */\n  require_completing_lessons_in_order: boolean;\n\n  /**\n   * A short tagline for the course. It is displayed under the course title in the UI\n   */\n  tagline: string | null;\n\n  /**\n   * The thumbnail for the course\n   */\n  thumbnail: CourseListResponse.Thumbnail | null;\n\n  /**\n   * The title of the course\n   */\n  title: string | null;\n\n  /**\n   * The timestamp of when the course was last updated\n   */\n  updated_at: string;\n}\n\nexport namespace CourseListResponse {\n  /**\n   * The thumbnail for the course\n   */\n  export interface Thumbnail {\n    /**\n     * The ID of the attachment\n     */\n    id: string;\n\n    /**\n     * The attachment's content type (e.g., image/jpg, video/mp4)\n     */\n    content_type: string | null;\n\n    /**\n     * The name of the file\n     */\n    filename: string | null;\n\n    /**\n     * This is the URL you use to render optimized attachments on the client. This\n     * should be used for apps.\n     */\n    optimized_url: string | null;\n\n    /**\n     * The original URL of the attachment, such as a direct link to S3. This should\n     * never be displayed on the client and always passed to an Imgproxy transformer.\n     */\n    source_url: string | null;\n  }\n}\n\n/**\n * Represents `true` or `false` values.\n */\nexport type CourseDeleteResponse = boolean;\n\nexport interface CourseCreateParams {\n  /**\n   * The ID of the experience to create the course in\n   */\n  experience_id: string;\n\n  /**\n   * The title of the course\n   */\n  title: string;\n\n  /**\n   * The cover image URL of the course\n   */\n  cover_image?: string | null;\n\n  /**\n   * The tagline of the course\n   */\n  tagline?: string | null;\n\n  /**\n   * The thumbnail for the course in png, jpeg, or gif format\n   */\n  thumbnail?: CourseCreateParams.Thumbnail | null;\n}\n\nexport namespace CourseCreateParams {\n  /**\n   * The thumbnail for the course in png, jpeg, or gif format\n   */\n  export interface Thumbnail {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface CourseUpdateParams {\n  /**\n   * Whether the course will award its students a PDF certificate after completing\n   * all lessons\n   */\n  certificate_after_completion_enabled?: boolean | null;\n\n  /**\n   * The chapters and lessons to update\n   */\n  chapters?: Array<CourseUpdateParams.Chapter> | null;\n\n  /**\n   * The cover image URL of the course\n   */\n  cover_image?: string | null;\n\n  /**\n   * A short description of the course\n   */\n  description?: string | null;\n\n  /**\n   * The available languages for a course\n   */\n  language?: Languages | null;\n\n  /**\n   * Whether the course requires students to complete the previous lesson before\n   * moving on to the next one\n   */\n  require_completing_lessons_in_order?: boolean | null;\n\n  /**\n   * A short tagline for the course\n   */\n  tagline?: string | null;\n\n  /**\n   * The thumbnail for the course in png, jpeg, or gif format\n   */\n  thumbnail?: CourseUpdateParams.Thumbnail | null;\n\n  /**\n   * The title of the course\n   */\n  title?: string | null;\n}\n\nexport namespace CourseUpdateParams {\n  /**\n   * Input for updating a chapter while updating a course\n   */\n  export interface Chapter {\n    /**\n     * The ID of the chapter to update\n     */\n    id: string;\n\n    /**\n     * The order of the chapter within its course\n     */\n    order: number;\n\n    /**\n     * The title of the chapter\n     */\n    title: string;\n\n    /**\n     * The lessons to update within this chapter\n     */\n    lessons?: Array<Chapter.Lesson> | null;\n  }\n\n  export namespace Chapter {\n    /**\n     * Input for updating a lesson while updating a course\n     */\n    export interface Lesson {\n      /**\n       * The ID of the lesson to update\n       */\n      id: string;\n\n      /**\n       * The ID of the chapter this lesson belongs to (for moving between chapters)\n       */\n      chapter_id: string;\n\n      /**\n       * The order of the lesson within its chapter\n       */\n      order: number;\n\n      /**\n       * The title of the lesson\n       */\n      title: string;\n    }\n  }\n\n  /**\n   * The thumbnail for the course in png, jpeg, or gif format\n   */\n  export interface Thumbnail {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface CourseListParams extends CursorPageParams {\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The ID of the company\n   */\n  company_id?: string | null;\n\n  /**\n   * The ID of the experience\n   */\n  experience_id?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n}\n\nexport declare namespace Courses {\n  export {\n    type Course as Course,\n    type Languages as Languages,\n    type CourseListResponse as CourseListResponse,\n    type CourseDeleteResponse as CourseDeleteResponse,\n    type CourseListResponsesCursorPage as CourseListResponsesCursorPage,\n    type CourseCreateParams as CourseCreateParams,\n    type CourseUpdateParams as CourseUpdateParams,\n    type CourseListParams as CourseListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Apps extends APIResource {\n  /**\n   * Create a new App\n   *\n   * Required permissions:\n   *\n   * - `developer:create_app`\n   * - `developer:manage_api_key`\n   *\n   * @example\n   * ```ts\n   * const app = await client.apps.create({\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   *   name: 'name',\n   * });\n   * ```\n   */\n  create(body: AppCreateParams, options?: RequestOptions): APIPromise<Shared.App> {\n    return this._client.post('/apps', { body, ...options });\n  }\n\n  /**\n   * Retrieves an app by ID\n   *\n   * Required permissions:\n   *\n   * - `developer:manage_api_key`\n   *\n   * @example\n   * ```ts\n   * const app = await client.apps.retrieve(\n   *   'app_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.App> {\n    return this._client.get(path`/apps/${id}`, options);\n  }\n\n  /**\n   * Update an existing App\n   *\n   * Required permissions:\n   *\n   * - `developer:update_app`\n   * - `developer:manage_api_key`\n   *\n   * @example\n   * ```ts\n   * const app = await client.apps.update('app_xxxxxxxxxxxxxx');\n   * ```\n   */\n  update(\n    id: string,\n    body: AppUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.App> {\n    return this._client.patch(path`/apps/${id}`, { body, ...options });\n  }\n\n  /**\n   * Fetches a list of apps\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const appListResponse of client.apps.list()) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: AppListParams | null | undefined = {},\n    options?: RequestOptions,\n  ): PagePromise<AppListResponsesCursorPage, AppListResponse> {\n    return this._client.getAPIList('/apps', CursorPage<AppListResponse>, { query, ...options });\n  }\n}\n\nexport type AppListResponsesCursorPage = CursorPage<AppListResponse>;\n\n/**\n * An object representing an app\n */\nexport interface AppListResponse {\n  /**\n   * The ID of the app\n   */\n  id: string;\n\n  /**\n   * The base url of the app\n   */\n  base_url: string | null;\n\n  /**\n   * The company that owns the app\n   */\n  company: AppListResponse.Company;\n\n  /**\n   * The creator of the app\n   */\n  creator: AppListResponse.Creator;\n\n  /**\n   * The path part for a specific view of the app. This is the template part of the\n   * url after the base domain. Eg: /experiences/[experienceId]\n   */\n  dashboard_path: string | null;\n\n  /**\n   * The description of the app\n   */\n  description: string | null;\n\n  /**\n   * The path part for a specific view of the app. This is the template part of the\n   * url after the base domain. Eg: /experiences/[experienceId]\n   */\n  discover_path: string | null;\n\n  /**\n   * The unique part of the proxied domain for this app. Used to generate the base\n   * url used to display the app inside the whop platform. Refers to the id part in\n   * the final url: https://{domain_id}.apps.whop.com\n   */\n  domain_id: string;\n\n  /**\n   * The path part for a specific view of the app. This is the template part of the\n   * url after the base domain. Eg: /experiences/[experienceId]\n   */\n  experience_path: string | null;\n\n  /**\n   * The icon for the app. This icon is shown on discovery, on the product page, on\n   * checkout, and as a default icon for the experiences.\n   */\n  icon: AppListResponse.Icon | null;\n\n  /**\n   * The name of the app\n   */\n  name: string;\n\n  /**\n   * If the status is live, the app is visible on Whop discovery. In order to be\n   * live, you need to set the name, icon, and description. Being unlisted or hidden\n   * means it's not visible on Whop but you can still install the app via direct\n   * link. To remove the app from whop discovery, you should set the status to\n   * unlisted.\n   */\n  status: Shared.AppStatuses;\n\n  /**\n   * Whether this app has been verified by Whop. Verified apps are endorsed by whop\n   * and are shown in the 'featured apps' section of the app store.\n   */\n  verified: boolean;\n}\n\nexport namespace AppListResponse {\n  /**\n   * The company that owns the app\n   */\n  export interface Company {\n    /**\n     * The ID (tag) of the company.\n     */\n    id: string;\n\n    /**\n     * The title of the company.\n     */\n    title: string;\n  }\n\n  /**\n   * The creator of the app\n   */\n  export interface Creator {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n\n  /**\n   * The icon for the app. This icon is shown on discovery, on the product page, on\n   * checkout, and as a default icon for the experiences.\n   */\n  export interface Icon {\n    /**\n     * This is the URL you use to render optimized attachments on the client. This\n     * should be used for apps.\n     */\n    url: string | null;\n  }\n}\n\nexport interface AppCreateParams {\n  /**\n   * The ID of the company to create the app for\n   */\n  company_id: string;\n\n  /**\n   * The name of the app to be created\n   */\n  name: string;\n\n  /**\n   * The base URL of the app to be created\n   */\n  base_url?: string | null;\n}\n\nexport interface AppUpdateParams {\n  /**\n   * The description of the app for the app store in-depth app view.\n   */\n  app_store_description?: string | null;\n\n  /**\n   * The base production url of the app\n   */\n  base_url?: string | null;\n\n  /**\n   * The path for the dashboard view of the app\n   */\n  dashboard_path?: string | null;\n\n  /**\n   * The description of the app\n   */\n  description?: string | null;\n\n  /**\n   * The path for the discover view of the app\n   */\n  discover_path?: string | null;\n\n  /**\n   * The path for the hub view of the app\n   */\n  experience_path?: string | null;\n\n  /**\n   * The icon for the app\n   */\n  icon?: AppUpdateParams.Icon | null;\n\n  /**\n   * The name of the app\n   */\n  name?: string | null;\n\n  /**\n   * The scopes that the app will request off of users when a user installs the app.\n   */\n  required_scopes?: Array<'read_user'> | null;\n\n  /**\n   * The status of an experience interface\n   */\n  status?: Shared.AppStatuses | null;\n}\n\nexport namespace AppUpdateParams {\n  /**\n   * The icon for the app\n   */\n  export interface Icon {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface AppListParams extends CursorPageParams {\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The ID of the company to filter apps by\n   */\n  company_id?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The order to fetch the apps in for discovery.\n   */\n  order?:\n    | 'discoverable_at'\n    | 'total_installs_last_30_days'\n    | 'time_spent'\n    | 'time_spent_last_24_hours'\n    | 'daily_active_users'\n    | null;\n\n  /**\n   * The query to search for apps by name.\n   */\n  query?: string | null;\n\n  /**\n   * If true, you will only get apps that are verified by Whop. Use this to populate\n   * a 'featured apps' section on the app store.\n   */\n  verified_apps_only?: boolean | null;\n\n  /**\n   * The different types of an app view\n   */\n  view_type?: Shared.AppViewType | null;\n}\n\nexport declare namespace Apps {\n  export {\n    type AppListResponse as AppListResponse,\n    type AppListResponsesCursorPage as AppListResponsesCursorPage,\n    type AppCreateParams as AppCreateParams,\n    type AppUpdateParams as AppUpdateParams,\n    type AppListParams as AppListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { ProductListItemsCursorPage } from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Products extends APIResource {\n  /**\n   * Creates a new Product\n   *\n   * Required permissions:\n   *\n   * - `access_pass:create`\n   * - `access_pass:basic:read`\n   *\n   * @example\n   * ```ts\n   * const product = await client.products.create({\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   *   title: 'title',\n   * });\n   * ```\n   */\n  create(body: ProductCreateParams, options?: RequestOptions): APIPromise<Shared.Product> {\n    return this._client.post('/products', { body, ...options });\n  }\n\n  /**\n   * Retrieves a product by ID or route\n   *\n   * Required permissions:\n   *\n   * - `access_pass:basic:read`\n   *\n   * @example\n   * ```ts\n   * const product = await client.products.retrieve(\n   *   'prod_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Product> {\n    return this._client.get(path`/products/${id}`, options);\n  }\n\n  /**\n   * Updates an existing Product\n   *\n   * Required permissions:\n   *\n   * - `access_pass:update`\n   * - `access_pass:basic:read`\n   *\n   * @example\n   * ```ts\n   * const product = await client.products.update(\n   *   'prod_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  update(\n    id: string,\n    body: ProductUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Product> {\n    return this._client.patch(path`/products/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists products for a company\n   *\n   * Required permissions:\n   *\n   * - `access_pass:basic:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const productListItem of client.products.list({\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   * })) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: ProductListParams,\n    options?: RequestOptions,\n  ): PagePromise<ProductListItemsCursorPage, Shared.ProductListItem> {\n    return this._client.getAPIList('/products', CursorPage<Shared.ProductListItem>, { query, ...options });\n  }\n\n  /**\n   * Deletes an existing Product\n   *\n   * Required permissions:\n   *\n   * - `access_pass:delete`\n   *\n   * @example\n   * ```ts\n   * const product = await client.products.delete(\n   *   'prod_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  delete(id: string, options?: RequestOptions): APIPromise<ProductDeleteResponse> {\n    return this._client.delete(path`/products/${id}`, options);\n  }\n}\n\n/**\n * Represents `true` or `false` values.\n */\nexport type ProductDeleteResponse = boolean;\n\nexport interface ProductCreateParams {\n  /**\n   * The ID of the company to create the product for.\n   */\n  company_id: string;\n\n  /**\n   * The title of the product.\n   */\n  title: string;\n\n  /**\n   * The different business types a company can be.\n   */\n  business_type?: Shared.BusinessTypes | null;\n\n  /**\n   * Whether or not to collect shipping information at checkout from the customer.\n   */\n  collect_shipping_address?: boolean | null;\n\n  /**\n   * The different types of custom CTAs that can be selected.\n   */\n  custom_cta?: Shared.CustomCta | null;\n\n  /**\n   * The custom call to action URL for the product.\n   */\n  custom_cta_url?: string | null;\n\n  /**\n   * The custom statement descriptor for the product i.e. WHOP\\*SPORTS, must be\n   * between 5 and 22 characters, contain at least one letter, and not contain any of\n   * the following characters: <, >, \\, ', \"\n   */\n  custom_statement_descriptor?: string | null;\n\n  /**\n   * A written description of the product.\n   */\n  description?: string | null;\n\n  /**\n   * An array of experience IDs that this pass has\n   */\n  experience_ids?: Array<string> | null;\n\n  /**\n   * The percentage of the revenue that goes to the global affiliate program.\n   */\n  global_affiliate_percentage?: number | null;\n\n  /**\n   * The different statuses of the global affiliate program for an access pass.\n   */\n  global_affiliate_status?: Shared.GlobalAffiliateStatus | null;\n\n  /**\n   * The headline of the product.\n   */\n  headline?: string | null;\n\n  /**\n   * The different industry types a company can be in.\n   */\n  industry_type?: Shared.IndustryTypes | null;\n\n  /**\n   * The percentage of the revenue that goes to the member affiliate program.\n   */\n  member_affiliate_percentage?: number | null;\n\n  /**\n   * The different statuses of the global affiliate program for an access pass.\n   */\n  member_affiliate_status?: Shared.GlobalAffiliateStatus | null;\n\n  /**\n   * The details to assign an autogenerated plan.\n   */\n  plan_options?: ProductCreateParams.PlanOptions | null;\n\n  /**\n   * The product highlights for the product.\n   */\n  product_highlights?: Array<ProductCreateParams.ProductHighlight> | null;\n\n  /**\n   * The ID of the product tax code to apply to this product.\n   */\n  product_tax_code_id?: string | null;\n\n  /**\n   * The URL to redirect the customer to after a purchase.\n   */\n  redirect_purchase_url?: string | null;\n\n  /**\n   * The route of the product.\n   */\n  route?: string | null;\n\n  /**\n   * Visibility of a resource\n   */\n  visibility?: Shared.Visibility | null;\n}\n\nexport namespace ProductCreateParams {\n  /**\n   * The details to assign an autogenerated plan.\n   */\n  export interface PlanOptions {\n    /**\n     * The available currencies on the platform\n     */\n    base_currency?: Shared.Currency | null;\n\n    /**\n     * The interval at which the plan charges (renewal plans).\n     */\n    billing_period?: number | null;\n\n    /**\n     * An array of custom field objects.\n     */\n    custom_fields?: Array<PlanOptions.CustomField> | null;\n\n    /**\n     * An additional amount charged upon first purchase.\n     */\n    initial_price?: number | null;\n\n    /**\n     * The type of plan that can be attached to an access pass\n     */\n    plan_type?: Shared.PlanType | null;\n\n    /**\n     * The methods of how a plan can be released.\n     */\n    release_method?: Shared.ReleaseMethod | null;\n\n    /**\n     * The amount the customer is charged every billing period.\n     */\n    renewal_price?: number | null;\n\n    /**\n     * Visibility of a resource\n     */\n    visibility?: Shared.Visibility | null;\n  }\n\n  export namespace PlanOptions {\n    export interface CustomField {\n      /**\n       * The type of the custom field.\n       */\n      field_type: 'text';\n\n      /**\n       * The name of the custom field.\n       */\n      name: string;\n\n      /**\n       * The ID of the custom field (if being updated)\n       */\n      id?: string | null;\n\n      /**\n       * The order of the field.\n       */\n      order?: number | null;\n\n      /**\n       * The placeholder value of the field.\n       */\n      placeholder?: string | null;\n\n      /**\n       * Whether or not the field is required.\n       */\n      required?: boolean | null;\n    }\n  }\n\n  /**\n   * Input for creating a product highlight\n   */\n  export interface ProductHighlight {\n    /**\n     * Text to display to describe the product highlight (max length 250 for\n     * qualification or benefits, 170 for who this is for, 140 for pricing features).\n     */\n    content: string;\n\n    /**\n     * The type of this highlight.\n     */\n    highlight_type: 'qualification' | 'benefit' | 'who_this_is_for' | 'pricing_feature';\n\n    /**\n     * The title of the product highlight, if applicable.\n     */\n    title?: string | null;\n  }\n}\n\nexport interface ProductUpdateParams {\n  /**\n   * A banner image for the product in png, jpeg format\n   */\n  banner_image?: ProductUpdateParams.BannerImage | null;\n\n  /**\n   * The different business types a company can be.\n   */\n  business_type?: Shared.BusinessTypes | null;\n\n  /**\n   * Whether or not to collect shipping information at checkout from the customer.\n   */\n  collect_shipping_address?: boolean | null;\n\n  /**\n   * The different types of custom CTAs that can be selected.\n   */\n  custom_cta?: Shared.CustomCta | null;\n\n  /**\n   * The custom call to action URL for the product.\n   */\n  custom_cta_url?: string | null;\n\n  /**\n   * The custom statement descriptor for the product i.e. WHOP\\*SPORTS, must be\n   * between 5 and 22 characters, contain at least one letter, and not contain any of\n   * the following characters: <, >, \\, ', \"\n   */\n  custom_statement_descriptor?: string | null;\n\n  /**\n   * A written description of the product.\n   */\n  description?: string | null;\n\n  /**\n   * The percentage of the revenue that goes to the global affiliate program.\n   */\n  global_affiliate_percentage?: number | null;\n\n  /**\n   * The different statuses of the global affiliate program for an access pass.\n   */\n  global_affiliate_status?: Shared.GlobalAffiliateStatus | null;\n\n  /**\n   * The headline of the product.\n   */\n  headline?: string | null;\n\n  /**\n   * The different industry types a company can be in.\n   */\n  industry_type?: Shared.IndustryTypes | null;\n\n  /**\n   * The percentage of the revenue that goes to the member affiliate program.\n   */\n  member_affiliate_percentage?: number | null;\n\n  /**\n   * The different statuses of the global affiliate program for an access pass.\n   */\n  member_affiliate_status?: Shared.GlobalAffiliateStatus | null;\n\n  /**\n   * The ID of the product tax code to apply to this product.\n   */\n  product_tax_code_id?: string | null;\n\n  /**\n   * The URL to redirect the customer to after a purchase.\n   */\n  redirect_purchase_url?: string | null;\n\n  /**\n   * The route of the product.\n   */\n  route?: string | null;\n\n  /**\n   * Configuration for a product on the company's store page.\n   */\n  store_page_config?: ProductUpdateParams.StorePageConfig | null;\n\n  /**\n   * The title of the product.\n   */\n  title?: string | null;\n\n  /**\n   * Visibility of a resource\n   */\n  visibility?: Shared.Visibility | null;\n}\n\nexport namespace ProductUpdateParams {\n  /**\n   * A banner image for the product in png, jpeg format\n   */\n  export interface BannerImage {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n\n  /**\n   * Configuration for a product on the company's store page.\n   */\n  export interface StorePageConfig {\n    /**\n     * Custom call-to-action text for the product's store page.\n     */\n    custom_cta?: string | null;\n\n    /**\n     * Whether or not to show the price on the product's store page.\n     */\n    show_price?: boolean | null;\n  }\n}\n\nexport interface ProductListParams extends CursorPageParams {\n  /**\n   * The ID of the company to filter products by\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The ways a relation of AccessPasses can be ordered\n   */\n  order?: 'active_memberships_count' | 'created_at' | 'usd_gmv' | 'usd_gmv_30_days' | null;\n\n  /**\n   * The type of products to filter by\n   */\n  product_types?: Array<Shared.AccessPassType> | null;\n\n  /**\n   * The visibility of the products to filter by\n   */\n  visibilities?: Array<Shared.VisibilityFilter> | null;\n}\n\nexport declare namespace Products {\n  export {\n    type ProductDeleteResponse as ProductDeleteResponse,\n    type ProductCreateParams as ProductCreateParams,\n    type ProductUpdateParams as ProductUpdateParams,\n    type ProductListParams as ProductListParams,\n  };\n}\n\nexport { type ProductListItemsCursorPage };\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class AppBuilds extends APIResource {\n  /**\n   * Creates a new app build\n   *\n   * Required permissions:\n   *\n   * - `developer:manage_builds`\n   *\n   * @example\n   * ```ts\n   * const appBuild = await client.appBuilds.create({\n   *   attachment: {},\n   *   checksum: 'checksum',\n   *   platform: 'ios',\n   * });\n   * ```\n   */\n  create(body: AppBuildCreateParams, options?: RequestOptions): APIPromise<Shared.AppBuild> {\n    return this._client.post('/app_builds', { body, ...options });\n  }\n\n  /**\n   * Retrieves an app build by ID\n   *\n   * Required permissions:\n   *\n   * - `developer:manage_builds`\n   *\n   * @example\n   * ```ts\n   * const appBuild = await client.appBuilds.retrieve(\n   *   'apbu_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.AppBuild> {\n    return this._client.get(path`/app_builds/${id}`, options);\n  }\n\n  /**\n   * Lists app builds for an app\n   *\n   * Required permissions:\n   *\n   * - `developer:manage_builds`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const appBuildListResponse of client.appBuilds.list(\n   *   { app_id: 'app_xxxxxxxxxxxxxx' },\n   * )) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: AppBuildListParams,\n    options?: RequestOptions,\n  ): PagePromise<AppBuildListResponsesCursorPage, AppBuildListResponse> {\n    return this._client.getAPIList('/app_builds', CursorPage<AppBuildListResponse>, { query, ...options });\n  }\n\n  /**\n   * Promotes an app build to production\n   *\n   * Required permissions:\n   *\n   * - `developer:manage_builds`\n   *\n   * @example\n   * ```ts\n   * const appBuild = await client.appBuilds.promote(\n   *   'apbu_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  promote(id: string, options?: RequestOptions): APIPromise<Shared.AppBuild> {\n    return this._client.post(path`/app_builds/${id}/promote`, options);\n  }\n}\n\nexport type AppBuildListResponsesCursorPage = CursorPage<AppBuildListResponse>;\n\n/**\n * An App Build object representing a build of an application\n */\nexport interface AppBuildListResponse {\n  /**\n   * The ID of the app build. It will look like apbu_xxxxx.\n   */\n  id: string;\n\n  /**\n   * This is generated by the client and used to verify the integrity of the file\n   * that is submitted. It is a SHA256 hash of the app build file.\n   */\n  checksum: string;\n\n  /**\n   * When this app build was created.\n   */\n  created_at: string;\n\n  /**\n   * The URL to download the app build .zip file.\n   */\n  file_url: string;\n\n  /**\n   * Whether this app build is currently being used in production.\n   */\n  is_production: boolean;\n\n  /**\n   * The platform of the app build (ios, android, web)\n   */\n  platform: Shared.AppBuildPlatforms;\n\n  /**\n   * The review message for the app build, if any. This is populated when the build\n   * is rejected and there is a reason specified by the reviewer.\n   */\n  review_message: string | null;\n\n  /**\n   * The status of the app build (draft, approved, rejected, pending, etc)\n   */\n  status: Shared.AppBuildStatuses;\n\n  /**\n   * The supported app view types for the app build. These are the views that the\n   * developer has specified that this build supports.\n   */\n  supported_app_view_types: Array<Shared.AppViewType>;\n}\n\nexport interface AppBuildCreateParams {\n  /**\n   * Attachment input for the app build file. This should be an upload in .zip\n   * format. The zip should contain at least one main_js_bundle.hbc file and\n   * optionally an assets folder next to it.\n   */\n  attachment: AppBuildCreateParams.Attachment;\n\n  /**\n   * Checksum of the app build file. This is generated by the client and used to\n   * verify the integrity of the file that is submitted when un-packaged later on a\n   * device.\n   */\n  checksum: string;\n\n  /**\n   * The platform of the app build (ios, android, web)\n   */\n  platform: Shared.AppBuildPlatforms;\n\n  /**\n   * The ID of the app to create a build for. By default the current app from the api\n   * key is used.\n   */\n  app_id?: string | null;\n\n  /**\n   * Supported app view types for the app build. A build can specify multiple view\n   * types, but should only specify ones that its code supports.\n   */\n  supported_app_view_types?: Array<Shared.AppViewType> | null;\n}\n\nexport namespace AppBuildCreateParams {\n  /**\n   * Attachment input for the app build file. This should be an upload in .zip\n   * format. The zip should contain at least one main_js_bundle.hbc file and\n   * optionally an assets folder next to it.\n   */\n  export interface Attachment {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface AppBuildListParams extends CursorPageParams {\n  /**\n   * The ID of the app to filter app builds by\n   */\n  app_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The different platforms an app build can target.\n   */\n  platform?: Shared.AppBuildPlatforms | null;\n\n  /**\n   * The different statuses an AppBuild can be in.\n   */\n  status?: Shared.AppBuildStatuses | null;\n}\n\nexport declare namespace AppBuilds {\n  export {\n    type AppBuildListResponse as AppBuildListResponse,\n    type AppBuildListResponsesCursorPage as AppBuildListResponsesCursorPage,\n    type AppBuildCreateParams as AppBuildCreateParams,\n    type AppBuildListParams as AppBuildListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class CheckoutConfigurations extends APIResource {\n  /**\n   * Creates a new checkout configuration\n   *\n   * Required permissions:\n   *\n   * - `checkout_configuration:create`\n   * - `plan:create`\n   * - `access_pass:create`\n   * - `access_pass:update`\n   *\n   * @example\n   * ```ts\n   * const checkoutConfiguration =\n   *   await client.checkoutConfigurations.create();\n   * ```\n   */\n  create(\n    body: CheckoutConfigurationCreateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.CheckoutConfiguration> {\n    return this._client.post('/checkout_configurations', { body, ...options });\n  }\n\n  /**\n   * Retrieves a checkout configuration by ID\n   *\n   * Required permissions:\n   *\n   * - `checkout_configuration:basic:read`\n   *\n   * @example\n   * ```ts\n   * const checkoutConfiguration =\n   *   await client.checkoutConfigurations.retrieve(\n   *     'ch_xxxxxxxxxxxxxxx',\n   *   );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.CheckoutConfiguration> {\n    return this._client.get(path`/checkout_configurations/${id}`, options);\n  }\n\n  /**\n   * Lists checkout configurations\n   *\n   * Required permissions:\n   *\n   * - `checkout_configuration:basic:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const checkoutConfigurationListResponse of client.checkoutConfigurations.list(\n   *   { company_id: 'biz_xxxxxxxxxxxxxx' },\n   * )) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: CheckoutConfigurationListParams,\n    options?: RequestOptions,\n  ): PagePromise<CheckoutConfigurationListResponsesCursorPage, CheckoutConfigurationListResponse> {\n    return this._client.getAPIList(\n      '/checkout_configurations',\n      CursorPage<CheckoutConfigurationListResponse>,\n      { query, ...options },\n    );\n  }\n}\n\nexport type CheckoutConfigurationListResponsesCursorPage = CursorPage<CheckoutConfigurationListResponse>;\n\n/**\n * A checkout configuration object.\n *         Can be used to create a reusable custom configuration for a checkout, including attaching plans, affiliates and custom metadata to the checkout.\n *         This configuration can be re-used by multiple users.\n *         All successful payments and memberships resulting from a checkout will contain the passed metadata.\n */\nexport interface CheckoutConfigurationListResponse {\n  /**\n   * The ID of the checkout configuration\n   */\n  id: string;\n\n  /**\n   * The affiliate code to use for the checkout configuration\n   */\n  affiliate_code: string | null;\n\n  /**\n   * The ID of the company to use for the checkout configuration\n   */\n  company_id: string;\n\n  /**\n   * The metadata to use for the checkout configuration\n   */\n  metadata: { [key: string]: unknown };\n\n  /**\n   * The plan to use for the checkout configuration\n   */\n  plan: CheckoutConfigurationListResponse.Plan;\n\n  /**\n   * A URL you can send to customers to complete a checkout. It looks like\n   * `/checkout/plan_xxxx?session={id}`\n   */\n  purchase_url: string;\n\n  /**\n   * The URL to redirect the user to after the checkout configuration is created\n   */\n  redirect_url: string | null;\n}\n\nexport namespace CheckoutConfigurationListResponse {\n  /**\n   * The plan to use for the checkout configuration\n   */\n  export interface Plan {\n    /**\n     * The internal ID of the plan.\n     */\n    id: string;\n\n    /**\n     * The interval at which the plan charges (renewal plans).\n     */\n    billing_period: number | null;\n\n    /**\n     * The respective currency identifier for the plan.\n     */\n    currency: Shared.Currency;\n\n    /**\n     * The interval at which the plan charges (expiration plans).\n     */\n    expiration_days: number | null;\n\n    /**\n     * The price a person has to pay for a plan on the initial purchase.\n     */\n    initial_price: number;\n\n    /**\n     * Indicates if the plan is a one time payment or recurring.\n     */\n    plan_type: Shared.PlanType;\n\n    /**\n     * This is the release method the business uses to sell this plan.\n     */\n    release_method: Shared.ReleaseMethod;\n\n    /**\n     * The price a person has to pay for a plan on the renewal purchase.\n     */\n    renewal_price: number;\n\n    /**\n     * The number of free trial days added before a renewal plan.\n     */\n    trial_period_days: number | null;\n\n    /**\n     * Shows or hides the plan from public/business view.\n     */\n    visibility: Shared.Visibility;\n  }\n}\n\nexport interface CheckoutConfigurationCreateParams {\n  /**\n   * The affiliate code to use for the checkout configuration\n   */\n  affiliate_code?: string | null;\n\n  /**\n   * The metadata to use for the checkout configuration\n   */\n  metadata?: { [key: string]: unknown } | null;\n\n  /**\n   * Pass this object to create a new plan for this checkout configuration\n   */\n  plan?: CheckoutConfigurationCreateParams.Plan | null;\n\n  /**\n   * The ID of the plan to use for the checkout configuration\n   */\n  plan_id?: string | null;\n\n  /**\n   * The URL to redirect the user to after the checkout configuration is created\n   */\n  redirect_url?: string | null;\n}\n\nexport namespace CheckoutConfigurationCreateParams {\n  /**\n   * Pass this object to create a new plan for this checkout configuration\n   */\n  export interface Plan {\n    /**\n     * The company the plan should be created for.\n     */\n    company_id: string;\n\n    /**\n     * The interval at which the plan charges (renewal plans).\n     */\n    billing_period?: number | null;\n\n    /**\n     * The available currencies on the platform\n     */\n    currency?: Shared.Currency | null;\n\n    /**\n     * An array of custom field objects.\n     */\n    custom_fields?: Array<Plan.CustomField> | null;\n\n    /**\n     * The description of the plan.\n     */\n    description?: string | null;\n\n    /**\n     * The interval at which the plan charges (expiration plans).\n     */\n    expiration_days?: number | null;\n\n    /**\n     * Whether to force the creation of a new plan even if one with the same attributes\n     * already exists.\n     */\n    force_create_new_plan?: boolean | null;\n\n    /**\n     * An image for the plan. This will be visible on the product page to customers.\n     */\n    image?: Plan.Image | null;\n\n    /**\n     * An additional amount charged upon first purchase.\n     */\n    initial_price?: number | null;\n\n    /**\n     * A personal description or notes section for the business.\n     */\n    internal_notes?: string | null;\n\n    /**\n     * Whether or not the tax is included in a plan's price (or if it hasn't been set\n     * up)\n     */\n    override_tax_type?: Shared.TaxType | null;\n\n    /**\n     * The type of plan that can be attached to an access pass\n     */\n    plan_type?: Shared.PlanType | null;\n\n    /**\n     * Pass this object to create a new product for this plan. We will use the product\n     * external identifier to find or create an existing product.\n     */\n    product?: Plan.Product | null;\n\n    /**\n     * The product the plan is related to. Either this or product is required.\n     */\n    product_id?: string | null;\n\n    /**\n     * The methods of how a plan can be released.\n     */\n    release_method?: Shared.ReleaseMethod | null;\n\n    /**\n     * The amount the customer is charged every billing period.\n     */\n    renewal_price?: number | null;\n\n    /**\n     * The title of the plan. This will be visible on the product page to customers.\n     */\n    title?: string | null;\n\n    /**\n     * The number of free trial days added before a renewal plan.\n     */\n    trial_period_days?: number | null;\n\n    /**\n     * Visibility of a resource\n     */\n    visibility?: Shared.Visibility | null;\n  }\n\n  export namespace Plan {\n    export interface CustomField {\n      /**\n       * The type of the custom field.\n       */\n      field_type: 'text';\n\n      /**\n       * The name of the custom field.\n       */\n      name: string;\n\n      /**\n       * The ID of the custom field (if being updated)\n       */\n      id?: string | null;\n\n      /**\n       * The order of the field.\n       */\n      order?: number | null;\n\n      /**\n       * The placeholder value of the field.\n       */\n      placeholder?: string | null;\n\n      /**\n       * Whether or not the field is required.\n       */\n      required?: boolean | null;\n    }\n\n    /**\n     * An image for the plan. This will be visible on the product page to customers.\n     */\n    export interface Image {\n      /**\n       * The ID of an existing attachment object. Use this when updating a resource and\n       * keeping a subset of the attachments. Don't use this unless you know what you're\n       * doing.\n       */\n      id?: string | null;\n\n      /**\n       * This ID should be used the first time you upload an attachment. It is the ID of\n       * the direct upload that was created when uploading the file to S3 via the\n       * mediaDirectUpload mutation.\n       */\n      direct_upload_id?: string | null;\n    }\n\n    /**\n     * Pass this object to create a new product for this plan. We will use the product\n     * external identifier to find or create an existing product.\n     */\n    export interface Product {\n      /**\n       * A unique ID used to find or create a product. When provided during creation, we\n       * will look for an existing product with this external identifier  if found, it\n       * will be updated; otherwise, a new product will be created.\n       */\n      external_identifier: string;\n\n      /**\n       * The title of the product.\n       */\n      title: string;\n\n      /**\n       * The different business types a company can be.\n       */\n      business_type?: Shared.BusinessTypes | null;\n\n      /**\n       * Whether or not to collect shipping information at checkout from the customer.\n       */\n      collect_shipping_address?: boolean | null;\n\n      /**\n       * The custom statement descriptor for the product i.e. WHOP\\*SPORTS, must be\n       * between 5 and 22 characters, contain at least one letter, and not contain any of\n       * the following characters: <, >, \\, ', \"\n       */\n      custom_statement_descriptor?: string | null;\n\n      /**\n       * A written description of the product.\n       */\n      description?: string | null;\n\n      /**\n       * The percentage of the revenue that goes to the global affiliate program.\n       */\n      global_affiliate_percentage?: number | null;\n\n      /**\n       * The different statuses of the global affiliate program for an access pass.\n       */\n      global_affiliate_status?: Shared.GlobalAffiliateStatus | null;\n\n      /**\n       * The headline of the product.\n       */\n      headline?: string | null;\n\n      /**\n       * The different industry types a company can be in.\n       */\n      industry_type?: Shared.IndustryTypes | null;\n\n      /**\n       * The ID of the product tax code to apply to this product.\n       */\n      product_tax_code_id?: string | null;\n\n      /**\n       * The URL to redirect the customer to after a purchase.\n       */\n      redirect_purchase_url?: string | null;\n\n      /**\n       * The route of the product.\n       */\n      route?: string | null;\n\n      /**\n       * Visibility of a resource\n       */\n      visibility?: Shared.Visibility | null;\n    }\n  }\n}\n\nexport interface CheckoutConfigurationListParams extends CursorPageParams {\n  /**\n   * The ID of the company to list checkout configurations for\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The ID of the plan to filter checkout configurations by\n   */\n  plan_id?: string | null;\n}\n\nexport declare namespace CheckoutConfigurations {\n  export {\n    type CheckoutConfigurationListResponse as CheckoutConfigurationListResponse,\n    type CheckoutConfigurationListResponsesCursorPage as CheckoutConfigurationListResponsesCursorPage,\n    type CheckoutConfigurationCreateParams as CheckoutConfigurationCreateParams,\n    type CheckoutConfigurationListParams as CheckoutConfigurationListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class SupportChannels extends APIResource {\n  /**\n   * Create a new support channel for a user in a company. If one already exists, it\n   * will return the existing one.\n   *\n   * Required permissions:\n   *\n   * - `support_chat:create`\n   *\n   * @example\n   * ```ts\n   * const supportChannel = await client.supportChannels.create({\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   *   user_id: 'user_xxxxxxxxxxxxx',\n   * });\n   * ```\n   */\n  create(body: SupportChannelCreateParams, options?: RequestOptions): APIPromise<Shared.SupportChannel> {\n    return this._client.post('/support_channels', { body, ...options });\n  }\n\n  /**\n   * Retrieves a support channel\n   *\n   * Required permissions:\n   *\n   * - `support_chat:read`\n   *\n   * @example\n   * ```ts\n   * const supportChannel =\n   *   await client.supportChannels.retrieve('id');\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.SupportChannel> {\n    return this._client.get(path`/support_channels/${id}`, options);\n  }\n\n  /**\n   * Lists chat channels inside a company\n   *\n   * Required permissions:\n   *\n   * - `support_chat:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const supportChannelListResponse of client.supportChannels.list(\n   *   { company_id: 'biz_xxxxxxxxxxxxxx' },\n   * )) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: SupportChannelListParams,\n    options?: RequestOptions,\n  ): PagePromise<SupportChannelListResponsesCursorPage, SupportChannelListResponse> {\n    return this._client.getAPIList('/support_channels', CursorPage<SupportChannelListResponse>, {\n      query,\n      ...options,\n    });\n  }\n}\n\nexport type SupportChannelListResponsesCursorPage = CursorPage<SupportChannelListResponse>;\n\n/**\n * Represents a DM channel\n */\nexport interface SupportChannelListResponse {\n  /**\n   * The unique identifier for the entity\n   */\n  id: string;\n\n  /**\n   * The bot ID if this is a support chat\n   */\n  company_id: string | null;\n\n  /**\n   * The custom name of the DM channel, if any\n   */\n  custom_name: string | null;\n\n  /**\n   * The customer user if this is a support chat\n   */\n  customer_user: SupportChannelListResponse.CustomerUser | null;\n\n  /**\n   * When the last message was sent\n   */\n  last_message_at: string | null;\n\n  /**\n   * When the support ticket was resolved (null if unresolved)\n   */\n  resolved_at: string | null;\n}\n\nexport namespace SupportChannelListResponse {\n  /**\n   * The customer user if this is a support chat\n   */\n  export interface CustomerUser {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\nexport interface SupportChannelCreateParams {\n  /**\n   * The ID of the company to create the support chat in\n   */\n  company_id: string;\n\n  /**\n   * The ID of the user to create the support chat for\n   */\n  user_id: string;\n}\n\nexport interface SupportChannelListParams extends CursorPageParams {\n  /**\n   * The ID of the company to list chat channels for\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * Filter for tickets where customer sent the last message (needs response) AND not\n   * resolved. Set to true to only return open channels, false to only return\n   * resolved channels.\n   */\n  open?: boolean | null;\n\n  /**\n   * Sort options for message channels\n   */\n  order?: 'created_at' | 'last_post_sent_at' | null;\n}\n\nexport declare namespace SupportChannels {\n  export {\n    type SupportChannelListResponse as SupportChannelListResponse,\n    type SupportChannelListResponsesCursorPage as SupportChannelListResponsesCursorPage,\n    type SupportChannelCreateParams as SupportChannelCreateParams,\n    type SupportChannelListParams as SupportChannelListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { InvoiceListItemsCursorPage } from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Invoices extends APIResource {\n  /**\n   * Creates an invoice\n   *\n   * Required permissions:\n   *\n   * - `invoice:create`\n   * - `plan:basic:read`\n   *\n   * @example\n   * ```ts\n   * const invoice = await client.invoices.create({\n   *   collection_method: 'send_invoice',\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   *   due_date: '2023-12-01T05:00:00.401Z',\n   *   plan: {},\n   * });\n   * ```\n   */\n  create(body: InvoiceCreateParams, options?: RequestOptions): APIPromise<InvoiceCreateResponse> {\n    return this._client.post('/invoices', { body, ...options });\n  }\n\n  /**\n   * Retrieves an invoice by ID or token\n   *\n   * Required permissions:\n   *\n   * - `invoice:basic:read`\n   * - `plan:basic:read`\n   *\n   * @example\n   * ```ts\n   * const invoice = await client.invoices.retrieve(\n   *   'inv_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Invoice> {\n    return this._client.get(path`/invoices/${id}`, options);\n  }\n\n  /**\n   * Lists invoices\n   *\n   * Required permissions:\n   *\n   * - `invoice:basic:read`\n   * - `plan:basic:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const invoiceListItem of client.invoices.list({\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   * })) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: InvoiceListParams,\n    options?: RequestOptions,\n  ): PagePromise<InvoiceListItemsCursorPage, Shared.InvoiceListItem> {\n    return this._client.getAPIList('/invoices', CursorPage<Shared.InvoiceListItem>, { query, ...options });\n  }\n\n  /**\n   * Void an invoice\n   *\n   * Required permissions:\n   *\n   * - `invoice:update`\n   *\n   * @example\n   * ```ts\n   * const response = await client.invoices.void(\n   *   'inv_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  void(id: string, options?: RequestOptions): APIPromise<InvoiceVoidResponse> {\n    return this._client.post(path`/invoices/${id}/void`, options);\n  }\n}\n\n/**\n * Autogenerated return type of CreateInvoice.\n */\nexport interface InvoiceCreateResponse {\n  /**\n   * The ID of the checkout job that was created for this invoice.\n   */\n  checkout_job_id: string | null;\n\n  /**\n   * The invoice that was created for this invoice.\n   */\n  invoice: Shared.Invoice;\n}\n\n/**\n * Represents `true` or `false` values.\n */\nexport type InvoiceVoidResponse = boolean;\n\nexport interface InvoiceCreateParams {\n  /**\n   * The method of collection for this invoice. If using charge_automatically, you\n   * must provide a payment_token.\n   */\n  collection_method: Shared.CollectionMethod;\n\n  /**\n   * The company ID to create this invoice for.\n   */\n  company_id: string;\n\n  /**\n   * The date the invoice is due, if applicable.\n   */\n  due_date: string;\n\n  /**\n   * The properties of the plan to create for this invoice.\n   */\n  plan: InvoiceCreateParams.Plan;\n\n  /**\n   * Whether or not to charge the customer a buyer fee.\n   */\n  charge_buyer_fee?: boolean | null;\n\n  /**\n   * The name of the customer to create this invoice for. This is required if you\n   * want to create an invoice for a customer who does not have a member of your\n   * company yet.\n   */\n  customer_name?: string | null;\n\n  /**\n   * The email address to create this invoice for. This is required if you want to\n   * create an invoice for a user who does not have a member of your company yet.\n   */\n  email_address?: string | null;\n\n  /**\n   * The member ID to create this invoice for. Include this if you want to create an\n   * invoice for an existing member. If you do not have a member ID, you must provide\n   * an email_address and customer_name.\n   */\n  member_id?: string | null;\n\n  /**\n   * The payment token ID to use for this invoice. If using charge_automatically, you\n   * must provide a payment_token.\n   */\n  payment_token_id?: string | null;\n\n  /**\n   * The properties of the product to create for this invoice. Include this if you\n   * want to create an invoice for a new product.\n   */\n  product?: InvoiceCreateParams.Product | null;\n\n  /**\n   * The product ID to create this invoice for. Include this if you want to create an\n   * invoice for an existing product.\n   */\n  product_id?: string | null;\n}\n\nexport namespace InvoiceCreateParams {\n  /**\n   * The properties of the plan to create for this invoice.\n   */\n  export interface Plan {\n    /**\n     * The interval at which the plan charges (renewal plans).\n     */\n    billing_period?: number | null;\n\n    /**\n     * An array of custom field objects.\n     */\n    custom_fields?: Array<Plan.CustomField> | null;\n\n    /**\n     * The description of the plan.\n     */\n    description?: string | null;\n\n    /**\n     * The interval at which the plan charges (expiration plans).\n     */\n    expiration_days?: number | null;\n\n    /**\n     * An additional amount charged upon first purchase. Use only if a one time payment\n     * OR you want to charge an additional amount on top of the renewal price. Provided\n     * as a number in dollars. Eg: 10.43 for $10.43\n     */\n    initial_price?: number | null;\n\n    /**\n     * A personal description or notes section for the business.\n     */\n    internal_notes?: string | null;\n\n    /**\n     * The type of plan that can be attached to an access pass\n     */\n    plan_type?: Shared.PlanType | null;\n\n    /**\n     * The methods of how a plan can be released.\n     */\n    release_method?: Shared.ReleaseMethod | null;\n\n    /**\n     * The amount the customer is charged every billing period. Use only if a recurring\n     * payment. Provided as a number in dollars. Eg: 10.43 for $10.43\n     */\n    renewal_price?: number | null;\n\n    /**\n     * The number of free trial days added before a renewal plan.\n     */\n    trial_period_days?: number | null;\n\n    /**\n     * Visibility of a resource\n     */\n    visibility?: Shared.Visibility | null;\n  }\n\n  export namespace Plan {\n    export interface CustomField {\n      /**\n       * The type of the custom field.\n       */\n      field_type: 'text';\n\n      /**\n       * The name of the custom field.\n       */\n      name: string;\n\n      /**\n       * The ID of the custom field (if being updated)\n       */\n      id?: string | null;\n\n      /**\n       * The order of the field.\n       */\n      order?: number | null;\n\n      /**\n       * The placeholder value of the field.\n       */\n      placeholder?: string | null;\n\n      /**\n       * Whether or not the field is required.\n       */\n      required?: boolean | null;\n    }\n  }\n\n  /**\n   * The properties of the product to create for this invoice. Include this if you\n   * want to create an invoice for a new product.\n   */\n  export interface Product {\n    /**\n     * The title of the product.\n     */\n    title: string;\n\n    /**\n     * The ID of the product tax code to apply to this product.\n     */\n    product_tax_code_id?: string | null;\n  }\n}\n\nexport interface InvoiceListParams extends CursorPageParams {\n  /**\n   * The ID of the company to list invoices for\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * The filters to apply to the invoices\n   */\n  filters?: InvoiceListParams.Filters | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * Which columns can be used to sort.\n   */\n  order?: 'id' | 'created_at' | 'due_date' | null;\n}\n\nexport namespace InvoiceListParams {\n  /**\n   * The filters to apply to the invoices\n   */\n  export interface Filters {\n    /**\n     * The access pass IDs to filter the invoices by\n     */\n    access_pass_ids?: Array<string> | null;\n\n    /**\n     * The collection methods to filter the invoices by\n     */\n    collection_methods?: Array<Shared.CollectionMethod> | null;\n\n    /**\n     * The statuses to filter the invoices by\n     */\n    statuses?: Array<Shared.InvoiceStatus> | null;\n  }\n}\n\nexport declare namespace Invoices {\n  export {\n    type InvoiceCreateResponse as InvoiceCreateResponse,\n    type InvoiceVoidResponse as InvoiceVoidResponse,\n    type InvoiceCreateParams as InvoiceCreateParams,\n    type InvoiceListParams as InvoiceListParams,\n  };\n}\n\nexport { type InvoiceListItemsCursorPage };\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Plans extends APIResource {\n  /**\n   * Create a new Plan\n   *\n   * Required permissions:\n   *\n   * - `plan:create`\n   * - `access_pass:basic:read`\n   * - `plan:basic:read`\n   *\n   * @example\n   * ```ts\n   * const plan = await client.plans.create({\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   *   product_id: 'prod_xxxxxxxxxxxxx',\n   * });\n   * ```\n   */\n  create(body: PlanCreateParams, options?: RequestOptions): APIPromise<Shared.Plan> {\n    return this._client.post('/plans', { body, ...options });\n  }\n\n  /**\n   * Retrieves a plan by ID\n   *\n   * Required permissions:\n   *\n   * - `plan:basic:read`\n   *\n   * @example\n   * ```ts\n   * const plan = await client.plans.retrieve(\n   *   'plan_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Plan> {\n    return this._client.get(path`/plans/${id}`, options);\n  }\n\n  /**\n   * Update an existing Plan\n   *\n   * Required permissions:\n   *\n   * - `plan:update`\n   * - `access_pass:basic:read`\n   * - `plan:basic:read`\n   *\n   * @example\n   * ```ts\n   * const plan = await client.plans.update(\n   *   'plan_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  update(\n    id: string,\n    body: PlanUpdateParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Plan> {\n    return this._client.patch(path`/plans/${id}`, { body, ...options });\n  }\n\n  /**\n   * Lists plans for a company\n   *\n   * Required permissions:\n   *\n   * - `plan:basic:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const planListResponse of client.plans.list({\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   * })) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: PlanListParams,\n    options?: RequestOptions,\n  ): PagePromise<PlanListResponsesCursorPage, PlanListResponse> {\n    return this._client.getAPIList('/plans', CursorPage<PlanListResponse>, { query, ...options });\n  }\n\n  /**\n   * Delete an existing Plan\n   *\n   * Required permissions:\n   *\n   * - `plan:delete`\n   *\n   * @example\n   * ```ts\n   * const plan = await client.plans.delete(\n   *   'plan_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  delete(id: string, options?: RequestOptions): APIPromise<PlanDeleteResponse> {\n    return this._client.delete(path`/plans/${id}`, options);\n  }\n}\n\nexport type PlanListResponsesCursorPage = CursorPage<PlanListResponse>;\n\n/**\n * An object representing a (sanitized) plan of an access pass.\n */\nexport interface PlanListResponse {\n  /**\n   * The internal ID of the plan.\n   */\n  id: string;\n\n  /**\n   * The interval at which the plan charges (renewal plans).\n   */\n  billing_period: number | null;\n\n  /**\n   * The company for the plan.\n   */\n  company: PlanListResponse.Company | null;\n\n  /**\n   * When the plan was created.\n   */\n  created_at: string;\n\n  /**\n   * The respective currency identifier for the plan.\n   */\n  currency: Shared.Currency;\n\n  /**\n   * The description of the plan.\n   */\n  description: string | null;\n\n  /**\n   * The interval at which the plan charges (expiration plans).\n   */\n  expiration_days: number | null;\n\n  /**\n   * The price a person has to pay for a plan on the initial purchase.\n   */\n  initial_price: number;\n\n  /**\n   * A personal description or notes section for the business.\n   */\n  internal_notes: string | null;\n\n  /**\n   * The invoice associated with this plan.\n   */\n  invoice: PlanListResponse.Invoice | null;\n\n  /**\n   * The number of members for the plan.\n   */\n  member_count: number | null;\n\n  /**\n   * Indicates if the plan is a one time payment or recurring.\n   */\n  plan_type: Shared.PlanType;\n\n  /**\n   * The access pass for the plan.\n   */\n  product: PlanListResponse.Product | null;\n\n  /**\n   * The direct link to purchase the product.\n   */\n  purchase_url: string;\n\n  /**\n   * This is the release method the business uses to sell this plan.\n   */\n  release_method: Shared.ReleaseMethod;\n\n  /**\n   * The price a person has to pay for a plan on the renewal purchase.\n   */\n  renewal_price: number;\n\n  /**\n   * The number of units available for purchase. Only displayed to authorized actors\n   */\n  stock: number | null;\n\n  /**\n   * The title of the plan. This will be visible on the product page to customers.\n   */\n  title: string | null;\n\n  /**\n   * The number of free trial days added before a renewal plan.\n   */\n  trial_period_days: number | null;\n\n  /**\n   * Limits/doesn't limit the number of units available for purchase.\n   */\n  unlimited_stock: boolean;\n\n  /**\n   * When the plan was last updated.\n   */\n  updated_at: string;\n\n  /**\n   * Shows or hides the plan from public/business view.\n   */\n  visibility: Shared.Visibility;\n}\n\nexport namespace PlanListResponse {\n  /**\n   * The company for the plan.\n   */\n  export interface Company {\n    /**\n     * The ID (tag) of the company.\n     */\n    id: string;\n\n    /**\n     * The title of the company.\n     */\n    title: string;\n  }\n\n  /**\n   * The invoice associated with this plan.\n   */\n  export interface Invoice {\n    /**\n     * The ID of the invoice.\n     */\n    id: string;\n  }\n\n  /**\n   * The access pass for the plan.\n   */\n  export interface Product {\n    /**\n     * The internal ID of the public product.\n     */\n    id: string;\n\n    /**\n     * The title of the product. Use for Whop 4.0.\n     */\n    title: string;\n  }\n}\n\n/**\n * Represents `true` or `false` values.\n */\nexport type PlanDeleteResponse = boolean;\n\nexport interface PlanCreateParams {\n  /**\n   * The company the plan should be created for.\n   */\n  company_id: string;\n\n  /**\n   * The product the plan is related to.\n   */\n  product_id: string;\n\n  /**\n   * The interval in days at which the plan charges (renewal plans).\n   */\n  billing_period?: number | null;\n\n  /**\n   * The available currencies on the platform\n   */\n  currency?: Shared.Currency | null;\n\n  /**\n   * An array of custom field objects.\n   */\n  custom_fields?: Array<PlanCreateParams.CustomField> | null;\n\n  /**\n   * The description of the plan.\n   */\n  description?: string | null;\n\n  /**\n   * The interval at which the plan charges (expiration plans).\n   */\n  expiration_days?: number | null;\n\n  /**\n   * An image for the plan. This will be visible on the product page to customers.\n   */\n  image?: PlanCreateParams.Image | null;\n\n  /**\n   * An additional amount charged upon first purchase. Use only if a one time payment\n   * OR you want to charge an additional amount on top of the renewal price. Provided\n   * as a number in dollars. Eg: 10.43 for $10.43\n   */\n  initial_price?: number | null;\n\n  /**\n   * A personal description or notes section for the business.\n   */\n  internal_notes?: string | null;\n\n  /**\n   * Whether or not the tax is included in a plan's price (or if it hasn't been set\n   * up)\n   */\n  override_tax_type?: Shared.TaxType | null;\n\n  /**\n   * The type of plan that can be attached to an access pass\n   */\n  plan_type?: Shared.PlanType | null;\n\n  /**\n   * The methods of how a plan can be released.\n   */\n  release_method?: Shared.ReleaseMethod | null;\n\n  /**\n   * The amount the customer is charged every billing period. Use only if a recurring\n   * payment. Provided as a number in dollars. Eg: 10.43 for $10.43\n   */\n  renewal_price?: number | null;\n\n  /**\n   * The number of units available for purchase.\n   */\n  stock?: number | null;\n\n  /**\n   * The price to display with a strikethrough for the initial price. Provided as a\n   * number in dollars. Eg: 19.99 for $19.99\n   */\n  strike_through_initial_price?: number | null;\n\n  /**\n   * The price to display with a strikethrough for the renewal price. Provided as a\n   * number in dollars. Eg: 19.99 for $19.99\n   */\n  strike_through_renewal_price?: number | null;\n\n  /**\n   * The title of the plan. This will be visible on the product page to customers.\n   */\n  title?: string | null;\n\n  /**\n   * The number of free trial days added before a renewal plan.\n   */\n  trial_period_days?: number | null;\n\n  /**\n   * Limits/doesn't limit the number of units available for purchase.\n   */\n  unlimited_stock?: boolean | null;\n\n  /**\n   * Visibility of a resource\n   */\n  visibility?: Shared.Visibility | null;\n}\n\nexport namespace PlanCreateParams {\n  export interface CustomField {\n    /**\n     * The type of the custom field.\n     */\n    field_type: 'text';\n\n    /**\n     * The name of the custom field.\n     */\n    name: string;\n\n    /**\n     * The ID of the custom field (if being updated)\n     */\n    id?: string | null;\n\n    /**\n     * The order of the field.\n     */\n    order?: number | null;\n\n    /**\n     * The placeholder value of the field.\n     */\n    placeholder?: string | null;\n\n    /**\n     * Whether or not the field is required.\n     */\n    required?: boolean | null;\n  }\n\n  /**\n   * An image for the plan. This will be visible on the product page to customers.\n   */\n  export interface Image {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface PlanUpdateParams {\n  /**\n   * The interval at which the plan charges (renewal plans).\n   */\n  billing_period?: number | null;\n\n  /**\n   * The available currencies on the platform\n   */\n  currency?: Shared.Currency | null;\n\n  /**\n   * An array of custom field objects.\n   */\n  custom_fields?: Array<PlanUpdateParams.CustomField> | null;\n\n  /**\n   * The description of the plan.\n   */\n  description?: string | null;\n\n  /**\n   * The interval at which the plan charges (expiration plans).\n   */\n  expiration_days?: number | null;\n\n  /**\n   * An image for the plan. This will be visible on the product page to customers.\n   */\n  image?: PlanUpdateParams.Image | null;\n\n  /**\n   * An additional amount charged upon first purchase.\n   */\n  initial_price?: number | null;\n\n  /**\n   * A personal description or notes section for the business.\n   */\n  internal_notes?: string | null;\n\n  /**\n   * Whether or not to offer a discount to cancel a subscription.\n   */\n  offer_cancel_discount?: boolean | null;\n\n  /**\n   * Whether or not the tax is included in a plan's price (or if it hasn't been set\n   * up)\n   */\n  override_tax_type?: Shared.TaxType | null;\n\n  /**\n   * The amount the customer is charged every billing period.\n   */\n  renewal_price?: number | null;\n\n  /**\n   * The number of units available for purchase.\n   */\n  stock?: number | null;\n\n  /**\n   * The price to display with a strikethrough for the initial price. Provided as a\n   * number in dollars. Eg: 19.99 for $19.99\n   */\n  strike_through_initial_price?: number | null;\n\n  /**\n   * The price to display with a strikethrough for the renewal price. Provided as a\n   * number in dollars. Eg: 19.99 for $19.99\n   */\n  strike_through_renewal_price?: number | null;\n\n  /**\n   * The title of the plan. This will be visible on the product page to customers.\n   */\n  title?: string | null;\n\n  /**\n   * The number of free trial days added before a renewal plan.\n   */\n  trial_period_days?: number | null;\n\n  /**\n   * Limits/doesn't limit the number of units available for purchase.\n   */\n  unlimited_stock?: boolean | null;\n\n  /**\n   * Visibility of a resource\n   */\n  visibility?: Shared.Visibility | null;\n}\n\nexport namespace PlanUpdateParams {\n  export interface CustomField {\n    /**\n     * The type of the custom field.\n     */\n    field_type: 'text';\n\n    /**\n     * The name of the custom field.\n     */\n    name: string;\n\n    /**\n     * The ID of the custom field (if being updated)\n     */\n    id?: string | null;\n\n    /**\n     * The order of the field.\n     */\n    order?: number | null;\n\n    /**\n     * The placeholder value of the field.\n     */\n    placeholder?: string | null;\n\n    /**\n     * Whether or not the field is required.\n     */\n    required?: boolean | null;\n  }\n\n  /**\n   * An image for the plan. This will be visible on the product page to customers.\n   */\n  export interface Image {\n    /**\n     * The ID of an existing attachment object. Use this when updating a resource and\n     * keeping a subset of the attachments. Don't use this unless you know what you're\n     * doing.\n     */\n    id?: string | null;\n\n    /**\n     * This ID should be used the first time you upload an attachment. It is the ID of\n     * the direct upload that was created when uploading the file to S3 via the\n     * mediaDirectUpload mutation.\n     */\n    direct_upload_id?: string | null;\n  }\n}\n\nexport interface PlanListParams extends CursorPageParams {\n  /**\n   * The ID of the company\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The ways a relation of Plans can be ordered\n   */\n  order?: 'id' | 'active_members_count' | 'created_at' | 'internal_notes' | 'expires_at' | null;\n\n  /**\n   * The plan type to filter the plans by\n   */\n  plan_types?: Array<Shared.PlanType> | null;\n\n  /**\n   * The product IDs to filter the plans by\n   */\n  product_ids?: Array<string> | null;\n\n  /**\n   * The release method to filter the plans by\n   */\n  release_methods?: Array<Shared.ReleaseMethod> | null;\n\n  /**\n   * The visibility to filter the plans by\n   */\n  visibilities?: Array<Shared.VisibilityFilter> | null;\n}\n\nexport declare namespace Plans {\n  export {\n    type PlanListResponse as PlanListResponse,\n    type PlanDeleteResponse as PlanDeleteResponse,\n    type PlanListResponsesCursorPage as PlanListResponsesCursorPage,\n    type PlanCreateParams as PlanCreateParams,\n    type PlanUpdateParams as PlanUpdateParams,\n    type PlanListParams as PlanListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Transfers extends APIResource {\n  /**\n   * Creates a new transfer between ledger accounts\n   *\n   * Required permissions:\n   *\n   * - `payout:transfer_funds`\n   *\n   * @example\n   * ```ts\n   * const transfer = await client.transfers.create({\n   *   amount: 6.9,\n   *   currency: 'usd',\n   *   destination_id: 'destination_id',\n   *   origin_id: 'origin_id',\n   * });\n   * ```\n   */\n  create(body: TransferCreateParams, options?: RequestOptions): APIPromise<Shared.Transfer> {\n    return this._client.post('/transfers', { body, ...options });\n  }\n\n  /**\n   * Retrieves a transfer by ID\n   *\n   * Required permissions:\n   *\n   * - `payout:transfer:read`\n   *\n   * @example\n   * ```ts\n   * const transfer = await client.transfers.retrieve(\n   *   'ctt_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Transfer> {\n    return this._client.get(path`/transfers/${id}`, options);\n  }\n\n  /**\n   * Lists transfers\n   *\n   * Required permissions:\n   *\n   * - `payout:transfer:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const transferListResponse of client.transfers.list()) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: TransferListParams | null | undefined = {},\n    options?: RequestOptions,\n  ): PagePromise<TransferListResponsesCursorPage, TransferListResponse> {\n    return this._client.getAPIList('/transfers', CursorPage<TransferListResponse>, { query, ...options });\n  }\n}\n\nexport type TransferListResponsesCursorPage = CursorPage<TransferListResponse>;\n\n/**\n * Credit Transaction Transfer\n */\nexport interface TransferListResponse {\n  /**\n   * The unique identifier of the credit transaction transfer\n   */\n  id: string;\n\n  /**\n   * The amount of the credit transaction transfer\n   */\n  amount: number;\n\n  /**\n   * The timestamp when the credit transaction transfer was created\n   */\n  created_at: string;\n\n  /**\n   * The currency of the credit transaction transfer\n   */\n  currency: Shared.Currency;\n\n  /**\n   * The ID of the destination ledger account\n   */\n  destination_ledger_account_id: string;\n\n  /**\n   * The decimal fee of the credit transaction transfer\n   */\n  fee_amount: number | null;\n\n  /**\n   * The notes of the credit transaction transfer\n   */\n  notes: string | null;\n\n  /**\n   * The ID of the origin ledger account\n   */\n  origin_ledger_account_id: string;\n}\n\nexport interface TransferCreateParams {\n  /**\n   * The amount to withdraw\n   */\n  amount: number;\n\n  /**\n   * The currency that is being withdrawn.\n   */\n  currency: Shared.Currency;\n\n  /**\n   * The ID of the destination account which will receive the funds (either a User\n   * ID, Company ID, or LedgerAccount ID)\n   */\n  destination_id: string;\n\n  /**\n   * The ID of the origin account which will send the funds (either a User ID,\n   * Company ID, or LedgerAccount ID)\n   */\n  origin_id: string;\n\n  /**\n   * A unique key to ensure idempotence. Use a UUID or similar.\n   */\n  idempotence_key?: string | null;\n\n  /**\n   * Notes for the transfer. Maximum of 50 characters.\n   */\n  notes?: string | null;\n}\n\nexport interface TransferListParams extends CursorPageParams {\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Filter transfers to only those that were sent to this destination account.\n   * (user_xxx, biz_xxx, ldgr_xxx)\n   */\n  destination_id?: string | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * Which columns can be used to sort.\n   */\n  order?: 'amount' | 'created_at' | null;\n\n  /**\n   * Filter transfers to only those that were sent from this origin account.\n   * (user_xxx, biz_xxx, ldgr_xxx)\n   */\n  origin_id?: string | null;\n}\n\nexport declare namespace Transfers {\n  export {\n    type TransferListResponse as TransferListResponse,\n    type TransferListResponsesCursorPage as TransferListResponsesCursorPage,\n    type TransferCreateParams as TransferCreateParams,\n    type TransferListParams as TransferListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Shipments extends APIResource {\n  /**\n   * Creates a new shipment\n   *\n   * Required permissions:\n   *\n   * - `shipment:create`\n   * - `payment:basic:read`\n   *\n   * @example\n   * ```ts\n   * const shipment = await client.shipments.create({\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   *   payment_id: 'pay_xxxxxxxxxxxxxx',\n   *   tracking_code: 'tracking_code',\n   * });\n   * ```\n   */\n  create(body: ShipmentCreateParams, options?: RequestOptions): APIPromise<Shared.Shipment> {\n    return this._client.post('/shipments', { body, ...options });\n  }\n\n  /**\n   * Retrieves a shipment by ID\n   *\n   * Required permissions:\n   *\n   * - `shipment:basic:read`\n   * - `payment:basic:read`\n   *\n   * @example\n   * ```ts\n   * const shipment = await client.shipments.retrieve(\n   *   'ship_xxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Shipment> {\n    return this._client.get(path`/shipments/${id}`, options);\n  }\n\n  /**\n   * Lists shipments for a payment\n   *\n   * Required permissions:\n   *\n   * - `shipment:basic:read`\n   * - `payment:basic:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const shipmentListResponse of client.shipments.list()) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: ShipmentListParams | null | undefined = {},\n    options?: RequestOptions,\n  ): PagePromise<ShipmentListResponsesCursorPage, ShipmentListResponse> {\n    return this._client.getAPIList('/shipments', CursorPage<ShipmentListResponse>, { query, ...options });\n  }\n}\n\nexport type ShipmentListResponsesCursorPage = CursorPage<ShipmentListResponse>;\n\n/**\n * A shipment\n */\nexport interface ShipmentListResponse {\n  /**\n   * The ID of the shipment\n   */\n  id: string;\n\n  /**\n   * The carrier of the shipment\n   */\n  carrier: Shared.ShipmentCarrier;\n\n  /**\n   * The date and time the shipment was created\n   */\n  created_at: string;\n\n  /**\n   * The delivery estimate of the shipment\n   */\n  delivery_estimate: string | null;\n\n  /**\n   * The payment of the shipment\n   */\n  payment: ShipmentListResponse.Payment;\n\n  /**\n   * The service of the shipment\n   */\n  service: string | null;\n\n  /**\n   * The status of the shipment\n   */\n  status: Shared.ShipmentStatus;\n\n  /**\n   * The substatus of a shipment\n   */\n  substatus: Shared.ShipmentSubstatus | null;\n\n  /**\n   * The tracking code of the shipment\n   */\n  tracking_code: string;\n\n  /**\n   * The date and time the shipment was last updated\n   */\n  updated_at: string;\n}\n\nexport namespace ShipmentListResponse {\n  /**\n   * The payment of the shipment\n   */\n  export interface Payment {\n    /**\n     * The payment ID\n     */\n    id: string;\n  }\n}\n\nexport interface ShipmentCreateParams {\n  /**\n   * The ID of the company to create the shipment for\n   */\n  company_id: string;\n\n  /**\n   * The ID of the payment to create the shipment for\n   */\n  payment_id: string;\n\n  /**\n   * The tracking code for the shipment\n   */\n  tracking_code: string;\n}\n\nexport interface ShipmentListParams extends CursorPageParams {\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The ID of the company\n   */\n  company_id?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The ID of the payment\n   */\n  payment_id?: string | null;\n\n  /**\n   * The ID of the user\n   */\n  user_id?: string | null;\n}\n\nexport declare namespace Shipments {\n  export {\n    type ShipmentListResponse as ShipmentListResponse,\n    type ShipmentListResponsesCursorPage as ShipmentListResponsesCursorPage,\n    type ShipmentCreateParams as ShipmentCreateParams,\n    type ShipmentListParams as ShipmentListParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class Payments extends APIResource {\n  /**\n   * Retrieves a payment by ID\n   *\n   * Required permissions:\n   *\n   * - `payment:basic:read`\n   * - `plan:basic:read`\n   * - `access_pass:basic:read`\n   * - `member:email:read`\n   * - `member:basic:read`\n   * - `member:phone:read`\n   * - `promo_code:basic:read`\n   *\n   * @example\n   * ```ts\n   * const payment = await client.payments.retrieve(\n   *   'pay_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<Shared.Payment> {\n    return this._client.get(path`/payments/${id}`, options);\n  }\n\n  /**\n   * Lists payments\n   *\n   * Required permissions:\n   *\n   * - `payment:basic:read`\n   * - `plan:basic:read`\n   * - `access_pass:basic:read`\n   * - `member:email:read`\n   * - `member:basic:read`\n   * - `member:phone:read`\n   * - `promo_code:basic:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const paymentListResponse of client.payments.list(\n   *   { company_id: 'biz_xxxxxxxxxxxxxx' },\n   * )) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: PaymentListParams,\n    options?: RequestOptions,\n  ): PagePromise<PaymentListResponsesCursorPage, PaymentListResponse> {\n    return this._client.getAPIList('/payments', CursorPage<PaymentListResponse>, { query, ...options });\n  }\n\n  /**\n   * Refunds a payment\n   *\n   * Required permissions:\n   *\n   * - `payment:manage`\n   * - `plan:basic:read`\n   * - `access_pass:basic:read`\n   * - `member:email:read`\n   * - `member:basic:read`\n   * - `member:phone:read`\n   * - `promo_code:basic:read`\n   *\n   * @example\n   * ```ts\n   * const payment = await client.payments.refund(\n   *   'pay_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  refund(\n    id: string,\n    body: PaymentRefundParams | null | undefined = {},\n    options?: RequestOptions,\n  ): APIPromise<Shared.Payment> {\n    return this._client.post(path`/payments/${id}/refund`, { body, ...options });\n  }\n\n  /**\n   * Retries a payment\n   *\n   * Required permissions:\n   *\n   * - `payment:manage`\n   * - `plan:basic:read`\n   * - `access_pass:basic:read`\n   * - `member:email:read`\n   * - `member:basic:read`\n   * - `member:phone:read`\n   * - `promo_code:basic:read`\n   *\n   * @example\n   * ```ts\n   * const payment = await client.payments.retry(\n   *   'pay_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retry(id: string, options?: RequestOptions): APIPromise<Shared.Payment> {\n    return this._client.post(path`/payments/${id}/retry`, options);\n  }\n\n  /**\n   * Voids a payment\n   *\n   * Required permissions:\n   *\n   * - `payment:manage`\n   * - `plan:basic:read`\n   * - `access_pass:basic:read`\n   * - `member:email:read`\n   * - `member:basic:read`\n   * - `member:phone:read`\n   * - `promo_code:basic:read`\n   *\n   * @example\n   * ```ts\n   * const payment = await client.payments.void(\n   *   'pay_xxxxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  void(id: string, options?: RequestOptions): APIPromise<Shared.Payment> {\n    return this._client.post(path`/payments/${id}/void`, options);\n  }\n}\n\nexport type PaymentListResponsesCursorPage = CursorPage<PaymentListResponse>;\n\n/**\n * The reason why a specific payment was billed\n */\nexport type BillingReasons =\n  | 'subscription_create'\n  | 'subscription_cycle'\n  | 'subscription_update'\n  | 'one_time'\n  | 'manual'\n  | 'subscription';\n\n/**\n * Possible card brands that a payment token can have\n */\nexport type CardBrands =\n  | 'mastercard'\n  | 'visa'\n  | 'amex'\n  | 'discover'\n  | 'unionpay'\n  | 'jcb'\n  | 'diners'\n  | 'link'\n  | 'troy'\n  | 'visadankort'\n  | 'visabancontact'\n  | 'china_union_pay'\n  | 'rupay'\n  | 'jcbrupay'\n  | 'elo'\n  | 'unknown';\n\n/**\n * The different types of payment methods that can be used.\n */\nexport type PaymentMethodTypes =\n  | 'acss_debit'\n  | 'affirm'\n  | 'afterpay_clearpay'\n  | 'alipay'\n  | 'alma'\n  | 'amazon_pay'\n  | 'apple_pay'\n  | 'au_becs_debit'\n  | 'bacs_debit'\n  | 'bancontact'\n  | 'billie'\n  | 'blik'\n  | 'boleto'\n  | 'card'\n  | 'cashapp'\n  | 'crypto'\n  | 'eps'\n  | 'fpx'\n  | 'giropay'\n  | 'google_pay'\n  | 'grabpay'\n  | 'ideal'\n  | 'kakao_pay'\n  | 'klarna'\n  | 'konbini'\n  | 'kr_card'\n  | 'link'\n  | 'mobilepay'\n  | 'multibanco'\n  | 'naver_pay'\n  | 'nz_bank_account'\n  | 'oxxo'\n  | 'p24'\n  | 'pay_by_bank'\n  | 'payco'\n  | 'paynow'\n  | 'pix'\n  | 'promptpay'\n  | 'revolut_pay'\n  | 'samsung_pay'\n  | 'satispay'\n  | 'sepa_debit'\n  | 'sofort'\n  | 'swish'\n  | 'twint'\n  | 'us_bank_account'\n  | 'wechat_pay'\n  | 'zip'\n  | 'bizum'\n  | 'capchase_pay'\n  | 'kriya'\n  | 'mondu'\n  | 'ng_wallet'\n  | 'paypay'\n  | 'sequra'\n  | 'scalapay'\n  | 'vipps'\n  | 'custom'\n  | 'customer_balance'\n  | 'gopay'\n  | 'mb_way'\n  | 'ng_bank'\n  | 'ng_bank_transfer'\n  | 'ng_card'\n  | 'ng_market'\n  | 'ng_ussd'\n  | 'paypal'\n  | 'payto'\n  | 'qris'\n  | 'rechnung'\n  | 'south_korea_market'\n  | 'kr_market'\n  | 'shopeepay'\n  | 'upi'\n  | 'sunbit'\n  | 'netbanking'\n  | 'id_bank_transfer'\n  | 'demo_pay'\n  | 'shop_pay'\n  | 'apple'\n  | 'sezzle'\n  | 'coinbase'\n  | 'splitit'\n  | 'unknown';\n\n/**\n * An object representing a receipt for a membership.\n */\nexport interface PaymentListResponse {\n  /**\n   * The payment ID\n   */\n  id: string;\n\n  /**\n   * How much the payment is for after fees\n   */\n  amount_after_fees: number;\n\n  /**\n   * Whether this payment was auto refunded or not\n   */\n  auto_refunded: boolean;\n\n  /**\n   * The address of the user who made the payment.\n   */\n  billing_address: PaymentListResponse.BillingAddress | null;\n\n  /**\n   * The reason why a specific payment was billed\n   */\n  billing_reason: BillingReasons | null;\n\n  /**\n   * Possible card brands that a payment token can have\n   */\n  card_brand: CardBrands | null;\n\n  /**\n   * The last 4 digits of the card used to make the payment.\n   */\n  card_last4: string | null;\n\n  /**\n   * The company for the payment.\n   */\n  company: PaymentListResponse.Company | null;\n\n  /**\n   * The datetime the payment was created\n   */\n  created_at: string;\n\n  /**\n   * The available currencies on the platform\n   */\n  currency: Shared.Currency | null;\n\n  /**\n   * When an alert came in that this transaction will be disputed\n   */\n  dispute_alerted_at: string | null;\n\n  /**\n   * If the payment failed, the reason for the failure.\n   */\n  failure_message: string | null;\n\n  /**\n   * The time of the last payment attempt.\n   */\n  last_payment_attempt: string | null;\n\n  /**\n   * The member attached to this payment.\n   */\n  member: PaymentListResponse.Member | null;\n\n  /**\n   * The membership attached to this payment.\n   */\n  membership: PaymentListResponse.Membership | null;\n\n  /**\n   * The datetime the payment was paid\n   */\n  paid_at: string | null;\n\n  /**\n   * The different types of payment methods that can be used.\n   */\n  payment_method_type: PaymentMethodTypes | null;\n\n  /**\n   * The plan attached to this payment.\n   */\n  plan: PaymentListResponse.Plan | null;\n\n  /**\n   * The access pass attached to this payment.\n   */\n  product: PaymentListResponse.Product | null;\n\n  /**\n   * The promo code used for this payment.\n   */\n  promo_code: PaymentListResponse.PromoCode | null;\n\n  /**\n   * True only for payments that are `paid`, have not been fully refunded, and were\n   * processed by a payment processor that allows refunds.\n   */\n  refundable: boolean;\n\n  /**\n   * The payment refund amount(if applicable).\n   */\n  refunded_amount: number | null;\n\n  /**\n   * When the payment was refunded (if applicable).\n   */\n  refunded_at: string | null;\n\n  /**\n   * True when the payment status is `open` and its membership is in one of the\n   * retry-eligible states (`active`, `trialing`, `completed`, or `past_due`);\n   * otherwise false. Used to decide if Whop can attempt the charge again.\n   */\n  retryable: boolean;\n\n  /**\n   * The status of a receipt\n   */\n  status: Shared.ReceiptStatus | null;\n\n  /**\n   * The friendly status of the payment.\n   */\n  substatus: Shared.FriendlyReceiptStatus;\n\n  /**\n   * The subtotal to show to the creator (excluding buyer fees).\n   */\n  subtotal: number | null;\n\n  /**\n   * The total to show to the creator (excluding buyer fees).\n   */\n  total: number | null;\n\n  /**\n   * The total in USD to show to the creator (excluding buyer fees).\n   */\n  usd_total: number | null;\n\n  /**\n   * The user that made this payment.\n   */\n  user: PaymentListResponse.User | null;\n\n  /**\n   * True when the payment is tied to a membership in `past_due`, the payment status\n   * is `open`, and the processor allows voiding payments; otherwise false.\n   */\n  voidable: boolean;\n}\n\nexport namespace PaymentListResponse {\n  /**\n   * The address of the user who made the payment.\n   */\n  export interface BillingAddress {\n    /**\n     * The city of the address.\n     */\n    city: string | null;\n\n    /**\n     * The country of the address.\n     */\n    country: string | null;\n\n    /**\n     * The line 1 of the address.\n     */\n    line1: string | null;\n\n    /**\n     * The line 2 of the address.\n     */\n    line2: string | null;\n\n    /**\n     * The name of the customer.\n     */\n    name: string | null;\n\n    /**\n     * The postal code of the address.\n     */\n    postal_code: string | null;\n\n    /**\n     * The state of the address.\n     */\n    state: string | null;\n  }\n\n  /**\n   * The company for the payment.\n   */\n  export interface Company {\n    /**\n     * The ID of the company\n     */\n    id: string;\n\n    /**\n     * The slug/route of the company on the Whop site.\n     */\n    route: string;\n\n    /**\n     * The written name of the company.\n     */\n    title: string;\n  }\n\n  /**\n   * The member attached to this payment.\n   */\n  export interface Member {\n    /**\n     * The ID of the member\n     */\n    id: string;\n\n    /**\n     * The phone number for the member, if available.\n     */\n    phone: string | null;\n  }\n\n  /**\n   * The membership attached to this payment.\n   */\n  export interface Membership {\n    /**\n     * The internal ID of the membership.\n     */\n    id: string;\n\n    /**\n     * The state of the membership.\n     */\n    status: Shared.MembershipStatus;\n  }\n\n  /**\n   * The plan attached to this payment.\n   */\n  export interface Plan {\n    /**\n     * The internal ID of the plan.\n     */\n    id: string;\n  }\n\n  /**\n   * The access pass attached to this payment.\n   */\n  export interface Product {\n    /**\n     * The internal ID of the public product.\n     */\n    id: string;\n\n    /**\n     * The route of the product.\n     */\n    route: string;\n\n    /**\n     * The title of the product. Use for Whop 4.0.\n     */\n    title: string;\n  }\n\n  /**\n   * The promo code used for this payment.\n   */\n  export interface PromoCode {\n    /**\n     * The ID of the promo.\n     */\n    id: string;\n\n    /**\n     * The amount off (% or flat amount) for the promo.\n     */\n    amount_off: number;\n\n    /**\n     * The monetary currency of the promo code.\n     */\n    base_currency: Shared.Currency;\n\n    /**\n     * The specific code used to apply the promo at checkout.\n     */\n    code: string | null;\n\n    /**\n     * The number of months the promo is applied for.\n     */\n    number_of_intervals: number | null;\n\n    /**\n     * The type (% or flat amount) of the promo.\n     */\n    promo_type: Shared.PromoType;\n  }\n\n  /**\n   * The user that made this payment.\n   */\n  export interface User {\n    /**\n     * The internal ID of the user.\n     */\n    id: string;\n\n    /**\n     * The email of the user\n     */\n    email: string | null;\n\n    /**\n     * The name of the user from their Whop account.\n     */\n    name: string | null;\n\n    /**\n     * The username of the user from their Whop account.\n     */\n    username: string;\n  }\n}\n\nexport interface PaymentListParams extends CursorPageParams {\n  /**\n   * The ID of the company to list payments for\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * The billing reason for the payment\n   */\n  billing_reasons?: Array<BillingReasons> | null;\n\n  /**\n   * The minimum creation date to filter by\n   */\n  created_after?: string | null;\n\n  /**\n   * The maximum creation date to filter by\n   */\n  created_before?: string | null;\n\n  /**\n   * The currency of the payment.\n   */\n  currencies?: Array<Shared.Currency> | null;\n\n  /**\n   * The direction of the sort.\n   */\n  direction?: Shared.Direction | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Whether to include free payments.\n   */\n  include_free?: boolean | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * The order to sort the results by.\n   */\n  order?: 'final_amount' | 'created_at' | 'paid_at' | null;\n\n  /**\n   * A specific plan.\n   */\n  plan_ids?: Array<string> | null;\n\n  /**\n   * A specific product.\n   */\n  product_ids?: Array<string> | null;\n\n  /**\n   * The status of the payment.\n   */\n  statuses?: Array<Shared.ReceiptStatus> | null;\n\n  /**\n   * The substatus of the payment.\n   */\n  substatuses?: Array<Shared.FriendlyReceiptStatus> | null;\n}\n\nexport interface PaymentRefundParams {\n  /**\n   * An amount if the refund is supposed to be partial.\n   */\n  partial_amount?: number | null;\n}\n\nexport declare namespace Payments {\n  export {\n    type BillingReasons as BillingReasons,\n    type CardBrands as CardBrands,\n    type PaymentMethodTypes as PaymentMethodTypes,\n    type PaymentListResponse as PaymentListResponse,\n    type PaymentListResponsesCursorPage as PaymentListResponsesCursorPage,\n    type PaymentListParams as PaymentListParams,\n    type PaymentRefundParams as PaymentRefundParams,\n  };\n}\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { APIResource } from '../core/resource';\nimport * as Shared from './shared';\nimport { APIPromise } from '../core/api-promise';\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\nimport { RequestOptions } from '../internal/request-options';\nimport { path } from '../internal/utils/path';\n\nexport class PromoCodes extends APIResource {\n  /**\n   * Create a new promo code for a product or plan\n   *\n   * Required permissions:\n   *\n   * - `promo_code:create`\n   * - `access_pass:basic:read`\n   *\n   * @example\n   * ```ts\n   * const promoCode = await client.promoCodes.create({\n   *   amount_off: 6.9,\n   *   base_currency: 'usd',\n   *   code: 'code',\n   *   company_id: 'biz_xxxxxxxxxxxxxx',\n   *   new_users_only: true,\n   *   promo_duration_months: 42,\n   *   promo_type: 'percentage',\n   * });\n   * ```\n   */\n  create(body: PromoCodeCreateParams, options?: RequestOptions): APIPromise<PromoCode> {\n    return this._client.post('/promo_codes', { body, ...options });\n  }\n\n  /**\n   * Retrieves a promo code by ID\n   *\n   * Required permissions:\n   *\n   * - `promo_code:basic:read`\n   * - `access_pass:basic:read`\n   *\n   * @example\n   * ```ts\n   * const promoCode = await client.promoCodes.retrieve(\n   *   'promo_xxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  retrieve(id: string, options?: RequestOptions): APIPromise<PromoCode> {\n    return this._client.get(path`/promo_codes/${id}`, options);\n  }\n\n  /**\n   * Lists promo codes for a company\n   *\n   * Required permissions:\n   *\n   * - `promo_code:basic:read`\n   * - `access_pass:basic:read`\n   *\n   * @example\n   * ```ts\n   * // Automatically fetches more pages as needed.\n   * for await (const promoCodeListResponse of client.promoCodes.list(\n   *   { company_id: 'biz_xxxxxxxxxxxxxx' },\n   * )) {\n   *   // ...\n   * }\n   * ```\n   */\n  list(\n    query: PromoCodeListParams,\n    options?: RequestOptions,\n  ): PagePromise<PromoCodeListResponsesCursorPage, PromoCodeListResponse> {\n    return this._client.getAPIList('/promo_codes', CursorPage<PromoCodeListResponse>, { query, ...options });\n  }\n\n  /**\n   * Archive a promo code, preventing further use\n   *\n   * Required permissions:\n   *\n   * - `promo_code:delete`\n   *\n   * @example\n   * ```ts\n   * const promoCode = await client.promoCodes.delete(\n   *   'promo_xxxxxxxxxxxx',\n   * );\n   * ```\n   */\n  delete(id: string, options?: RequestOptions): APIPromise<PromoCodeDeleteResponse> {\n    return this._client.delete(path`/promo_codes/${id}`, options);\n  }\n}\n\nexport type PromoCodeListResponsesCursorPage = CursorPage<PromoCodeListResponse>;\n\n/**\n * An object representing a promo code for a plan.\n */\nexport interface PromoCode {\n  /**\n   * The ID of the promo.\n   */\n  id: string;\n\n  /**\n   * The amount off (% or flat amount) for the promo.\n   */\n  amount_off: number;\n\n  /**\n   * Restricts promo use to only users who have churned from the company before.\n   */\n  churned_users_only: boolean;\n\n  /**\n   * The specific code used to apply the promo at checkout.\n   */\n  code: string | null;\n\n  /**\n   * The company for the promo code.\n   */\n  company: PromoCode.Company;\n\n  /**\n   * The timestamp of when the promo was created.\n   */\n  created_at: string;\n\n  /**\n   * The monetary currency of the promo code.\n   */\n  currency: Shared.Currency;\n\n  /**\n   * The duration setting for the promo code\n   */\n  duration: PromoDuration | null;\n\n  /**\n   * Restricts promo use to only be applied to already purchased memberships.\n   */\n  existing_memberships_only: boolean;\n\n  /**\n   * The date/time of when the promo expires.\n   */\n  expires_at: string | null;\n\n  /**\n   * Restricts promo use to only users who have never purchased from the company\n   * before.\n   */\n  new_users_only: boolean;\n\n  /**\n   * Restricts promo use to only be applied once per customer.\n   */\n  one_per_customer: boolean;\n\n  /**\n   * The access pass associated with the promo code.\n   */\n  product: PromoCode.Product | null;\n\n  /**\n   * The number of months the promo is applied for.\n   */\n  promo_duration_months: number | null;\n\n  /**\n   * The type (% or flat amount) of the promo.\n   */\n  promo_type: Shared.PromoType;\n\n  /**\n   * Indicates if the promo code is live or disabled.\n   */\n  status: PromoCodeStatus;\n\n  /**\n   * The quantity limit on the number of uses.\n   */\n  stock: number;\n\n  /**\n   * Whether or not the promo code has unlimited stock.\n   */\n  unlimited_stock: boolean;\n\n  /**\n   * The amount of times the promo codes has been used.\n   */\n  uses: number;\n}\n\nexport namespace PromoCode {\n  /**\n   * The company for the promo code.\n   */\n  export interface Company {\n    /**\n     * The ID of the company\n     */\n    id: string;\n\n    /**\n     * The written name of the company.\n     */\n    title: string;\n  }\n\n  /**\n   * The access pass associated with the promo code.\n   */\n  export interface Product {\n    /**\n     * The internal ID of the public product.\n     */\n    id: string;\n\n    /**\n     * The title of the product. Use for Whop 4.0.\n     */\n    title: string;\n  }\n}\n\n/**\n * Statuses for promo codes\n */\nexport type PromoCodeStatus = 'active' | 'inactive' | 'archived';\n\n/**\n * The duration setting for the promo code\n */\nexport type PromoDuration = 'forever' | 'once' | 'repeating';\n\n/**\n * An object representing a promo code for a plan.\n */\nexport interface PromoCodeListResponse {\n  /**\n   * The ID of the promo.\n   */\n  id: string;\n\n  /**\n   * The amount off (% or flat amount) for the promo.\n   */\n  amount_off: number;\n\n  /**\n   * Restricts promo use to only users who have churned from the company before.\n   */\n  churned_users_only: boolean;\n\n  /**\n   * The specific code used to apply the promo at checkout.\n   */\n  code: string | null;\n\n  /**\n   * The timestamp of when the promo was created.\n   */\n  created_at: string;\n\n  /**\n   * The monetary currency of the promo code.\n   */\n  currency: Shared.Currency;\n\n  /**\n   * The duration setting for the promo code\n   */\n  duration: PromoDuration | null;\n\n  /**\n   * Restricts promo use to only be applied to already purchased memberships.\n   */\n  existing_memberships_only: boolean;\n\n  /**\n   * The date/time of when the promo expires.\n   */\n  expires_at: string | null;\n\n  /**\n   * Restricts promo use to only users who have never purchased from the company\n   * before.\n   */\n  new_users_only: boolean;\n\n  /**\n   * Restricts promo use to only be applied once per customer.\n   */\n  one_per_customer: boolean;\n\n  /**\n   * The access pass associated with the promo code.\n   */\n  product: PromoCodeListResponse.Product | null;\n\n  /**\n   * The number of months the promo is applied for.\n   */\n  promo_duration_months: number | null;\n\n  /**\n   * The type (% or flat amount) of the promo.\n   */\n  promo_type: Shared.PromoType;\n\n  /**\n   * Indicates if the promo code is live or disabled.\n   */\n  status: PromoCodeStatus;\n\n  /**\n   * The quantity limit on the number of uses.\n   */\n  stock: number;\n\n  /**\n   * Whether or not the promo code has unlimited stock.\n   */\n  unlimited_stock: boolean;\n\n  /**\n   * The amount of times the promo codes has been used.\n   */\n  uses: number;\n}\n\nexport namespace PromoCodeListResponse {\n  /**\n   * The access pass associated with the promo code.\n   */\n  export interface Product {\n    /**\n     * The internal ID of the public product.\n     */\n    id: string;\n\n    /**\n     * The title of the product. Use for Whop 4.0.\n     */\n    title: string;\n  }\n}\n\n/**\n * Represents `true` or `false` values.\n */\nexport type PromoCodeDeleteResponse = boolean;\n\nexport interface PromoCodeCreateParams {\n  /**\n   * The amount off (% or flat amount) for the promo.\n   */\n  amount_off: number;\n\n  /**\n   * The monetary currency of the promo code.\n   */\n  base_currency: Shared.Currency;\n\n  /**\n   * The specific code used to apply the promo at checkout.\n   */\n  code: string;\n\n  /**\n   * The id of the company to create the promo code for.\n   */\n  company_id: string;\n\n  /**\n   * Restricts promo use to only users who have never purchased from the company\n   * before.\n   */\n  new_users_only: boolean;\n\n  /**\n   * The number of months this promo code is applied and valid for.\n   */\n  promo_duration_months: number;\n\n  /**\n   * The type (% or flat amount) of the promo.\n   */\n  promo_type: Shared.PromoType;\n\n  /**\n   * Restricts promo use to only users who have churned from the company before.\n   */\n  churned_users_only?: boolean | null;\n\n  /**\n   * Whether this promo code is for existing memberships only (cancelations)\n   */\n  existing_memberships_only?: boolean | null;\n\n  /**\n   * The date/time of when the promo expires.\n   */\n  expires_at?: string | null;\n\n  /**\n   * Restricts promo use to only be applied once per customer.\n   */\n  one_per_customer?: boolean | null;\n\n  /**\n   * The IDs of the plans that the promo code applies to. If product_id is provided,\n   * it will only apply to plans attached to that product\n   */\n  plan_ids?: Array<string> | null;\n\n  /**\n   * The product to lock the promo code to, if any. If provided will filter out any\n   * plan ids not attached to this product\n   */\n  product_id?: string | null;\n\n  /**\n   * The quantity limit on the number of uses.\n   */\n  stock?: number | null;\n\n  /**\n   * Whether or not the promo code should have unlimited stock.\n   */\n  unlimited_stock?: boolean | null;\n}\n\nexport interface PromoCodeListParams extends CursorPageParams {\n  /**\n   * The ID of the company to list promo codes for\n   */\n  company_id: string;\n\n  /**\n   * Returns the elements in the list that come before the specified cursor.\n   */\n  before?: string | null;\n\n  /**\n   * Returns the first _n_ elements from the list.\n   */\n  first?: number | null;\n\n  /**\n   * Returns the last _n_ elements from the list.\n   */\n  last?: number | null;\n\n  /**\n   * Filter promo codes by plan ID(s)\n   */\n  plan_ids?: Array<string> | null;\n\n  /**\n   * Filter promo codes by product ID(s)\n   */\n  product_ids?: Array<string> | null;\n\n  /**\n   * Statuses for promo codes\n   */\n  status?: PromoCodeStatus | null;\n}\n\nexport declare namespace PromoCodes {\n  export {\n    type PromoCode as PromoCode,\n    type PromoCodeStatus as PromoCodeStatus,\n    type PromoDuration as PromoDuration,\n    type PromoCodeListResponse as PromoCodeListResponse,\n    type PromoCodeDeleteResponse as PromoCodeDeleteResponse,\n    type PromoCodeListResponsesCursorPage as PromoCodeListResponsesCursorPage,\n    type PromoCodeCreateParams as PromoCodeCreateParams,\n    type PromoCodeListParams as PromoCodeListParams,\n  };\n}\n"],"names":["RequestCookies","ResponseCookies","stringifyCookie","ReflectAdapter","get","target","prop","receiver","value","Reflect","bind","set","has","deleteProperty","ActionDidNotRevalidate","ActionDidRevalidateDynamicOnly","ActionDidRevalidateStaticAndDynamic","MutableRequestCookiesAdapter","ReadonlyRequestCookiesError","RequestCookiesAdapter","appendMutableCookies","areCookiesMutableInCurrentPhase","createCookiesWithMutableAccessCheck","getModifiedCookieValues","responseCookiesToRequestCookies","Error","constructor","callable","seal","cookies","Proxy","SYMBOL_MODIFY_COOKIE_VALUES","Symbol","for","modified","Array","isArray","length","headers","mutableCookies","modifiedCookieValues","resCookies","returnedCookies","getAll","cookie","wrap","onUpdateCookies","responseCookies","Headers","modifiedValues","modifiedCookies","Set","updateResponseCookies","workStore","workAsyncStorage","getStore","pathWasRevalidated","allCookies","filter","c","name","serializedCookies","tempCookies","push","toString","wrappedCookies","args","add","delete","requestStore","ensureCookiesAreStillMutable","phase","_callingExpression","requestCookies","DynamicServerError","isDynamicServerError","DYNAMIC_ERROR_CODE","description","digest","err","StaticGenBailoutError","isStaticGenBailoutError","NEXT_STATIC_GEN_BAILOUT","code","error","isHangingPromiseRejectionError","makeDevtoolsIOAwarePromise","makeHangingPromise","HANGING_PROMISE_REJECTION","HangingPromiseRejectionError","route","expression","abortListenersBySignal","WeakMap","signal","aborted","Promise","reject","hangingPromise","_","boundRejection","currentListeners","listeners","addEventListener","i","once","catch","ignoreReject","underlying","stage","stagedRendering","delayUntilStage","undefined","resolve","setTimeout","METADATA_BOUNDARY_NAME","OUTLET_BOUNDARY_NAME","ROOT_LAYOUT_BOUNDARY_NAME","VIEWPORT_BOUNDARY_NAME","atLeastOneTask","scheduleImmediate","scheduleOnNextTick","waitAtLeastOneReactRenderTask","cb","then","process","env","NEXT_RUNTIME","nextTick","setImmediate","r","BailoutToCSRError","isBailoutToCSRError","BAILOUT_TO_CSR","reason","InvariantError","message","options","endsWith","Postpone","PreludeState","abortAndThrowOnSynchronousRequestDataAccess","abortOnSynchronousPlatformIOAccess","accessedDynamicData","annotateDynamicAccess","consumeDynamicAccess","createDynamicTrackingState","createDynamicValidationState","createHangingInputAbortSignal","createRenderInBrowserAbortSignal","delayUntilRuntimeStage","formatDynamicAPIAccesses","getFirstDynamicReason","getStaticShellDisallowedDynamicReasons","isDynamicPostpone","isPrerenderInterruptedError","logDisallowedDynamicError","markCurrentScopeAsDynamic","postponeWithTracking","throwIfDisallowedDynamic","throwToInterruptStaticGeneration","trackAllowedDynamicAccess","trackDynamicDataInDynamicRender","trackDynamicHoleInRuntimeShell","trackDynamicHoleInStaticShell","useDynamicRouteParams","useDynamicSearchParams","hasPostpone","React","unstable_postpone","isDebugDynamicAccesses","dynamicAccesses","syncDynamicErrorWithStack","hasSuspenseAboveBody","hasDynamicMetadata","dynamicMetadata","hasDynamicViewport","hasAllowedDynamic","dynamicErrors","trackingState","store","workUnitStore","type","forceDynamic","forceStatic","dynamicShouldError","dynamicTracking","revalidate","dynamicUsageDescription","dynamicUsageStack","stack","NODE_ENV","usedDynamic","prerenderStore","abortOnSynchronousDynamicDataAccess","createPrerenderInterruptedError","controller","abort","errorWithStack","prerenderSignal","workUnitAsyncStorage","assertPostpone","createPostponeReason","isDynamicPostponeReason","includes","NEXT_PRERENDER_INTERRUPTED","serverDynamic","clientDynamic","access","map","split","slice","line","join","AbortController","cacheSignal","inputReady","runtimeStagePromise","getRuntimeStagePromise","fallbackParams","fallbackRouteParams","size","use","renderSignal","throwForMissingRequestStore","hasSuspenseRegex","bodyAndImplicitTags","hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex","RegExp","hasMetadataRegex","hasViewportRegex","hasOutletRegex","componentStack","dynamicValidation","test","createErrorWithComponentOrOwnerStack","ownerStack","captureOwnerStack","console","dev","hasReadableErrorStacks","prelude","result","createDedupedByCallsiteServerErrorLoggerDev","errorRef","current","cache","fn","logErrorOrWarn","__NEXT_CACHE_COMPONENTS","warn","flushCurrentErrorIfNew","key","getMessage","logDedupedError","callStackFrames","isRequestAPICallableInsideAfter","throwForSearchParamsAccessInUseCache","throwWithStaticGenerationBailoutErrorWithDynamicError","constructorOpt","captureStackTrace","invalidDynamicUsageError","afterTaskStore","afterTaskAsyncStorage","rootTaskSpawnPhase","createPromiseWithResolvers","promise","res","rej","RenderStage","StagedRenderingController","abortSignal","hasRuntimePrefetch","currentStage","staticInterruptReason","runtimeInterruptReason","staticStageEndTime","Infinity","runtimeStageEndTime","runtimeStageListeners","dynamicStageListeners","dynamicStagePromise","mayAbandon","onStage","callback","canSyncInterrupt","boundaryStage","syncInterruptCurrentStageWithReason","abandonRenderImpl","advanceStage","getStaticInterruptReason","getRuntimeInterruptReason","getStaticStageEndTime","getRuntimeStageEndTime","abandonRender","resolveRuntimeStage","performance","now","timeOrigin","resolveDynamicStage","runtimeListeners","dynamicListeners","getStagePromise","waitForStage","displayName","resolvedValue","ioTriggerPromise","makeDevtoolsIOPromiseFromIOTrigger","ioTrigger","callingExpression","underlyingCookies","createEmptyCookies","makeUntrackedCookies","makeHangingCookies","exportName","userspaceMutableCookies","makeUntrackedCookiesWithDevWarnings","CachedCookies","cachedPromise","cachedCookies","asyncApiPromises","instrumentCookiesPromiseWithDevWarnings","Runtime","proxiedPromise","warnForSyncAccess","createCookiesAccessError","Object","defineProperties","iterator","replaceableWarningDescriptorForSymbolIterator","replaceableWarningDescriptor","clear","enumerable","defineProperty","writable","configurable","prefix","HeadersAdapter","ReadonlyHeadersError","lowercased","toLowerCase","original","keys","find","o","merge","from","append","existing","forEach","callbackfn","thisArg","entries","call","values","underlyingHeaders","makeUntrackedHeaders","makeHangingHeaders","makeUntrackedHeadersWithDevWarnings","CachedHeaders","cachedHeaders","instrumentHeadersPromiseWithDevWarnings","createHeadersAccessError","getSetCookie","draftMode","createOrGetCachedDraftMode","draftModeProvider","getDraftModeProviderForCacheScope","cacheKey","NullDraftMode","cachedDraftMode","CachedDraftModes","isPrefetchRequest","createDraftModeWithDevWarnings","DraftMode","underlyingProvider","instance","provider","_provider","isEnabled","enable","trackDynamicDraftMode","disable","createDraftModeAccessError"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,23,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105]}