{"version":3,"sources":["../../../../components/AdminDashboard.tsx/__nextjs-internal-proxy.mjs","../../../../app/dashboard/%5BcompanyId%5D/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/AdminDashboard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/AdminDashboard.tsx\",\n    \"default\",\n);\n","import { headers } from \"next/headers\";\nimport { whopsdk } from \"@/lib/whop-sdk\";\nimport AdminDashboard from \"@/components/AdminDashboard\";\n\nexport default async function DashboardPage({\n  params,\n}: {\n  params: Promise<{ companyId: string }>;\n}) {\n  const { companyId } = await params;\n  \n  // Verify user is logged in on Whop\n  const { userId } = await whopsdk.verifyUserToken(await headers());\n\n  // Check admin access to this company\n  const [company, user, access] = await Promise.all([\n    whopsdk.companies.retrieve(companyId),\n    whopsdk.users.retrieve(userId),\n    whopsdk.users.checkAccess(companyId, { id: userId }),\n  ]);\n\n  if (access.access_level !== \"admin\") {\n    return (\n      <div className=\"min-h-screen bg-dark flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-red-500 mb-4\">Admin Access Required</h1>\n          <p className=\"text-white/70\">You need admin access to view this dashboard.</p>\n        </div>\n      </div>\n    );\n  }\n\n  const displayName = user.name || `@${user.username}`;\n\n  return (\n    <AdminDashboard \n      whopUser={{\n        id: userId,\n        username: user.username,\n        name: displayName,\n        accessLevel: access.access_level,\n      }}\n      companyId={companyId}\n      companyName={company.title}\n    />\n  );\n}\n"],"names":[],"mappings":"kWAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,+RAAiS,EAC9T,8DACA,gEAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,2QAA6Q,EAC1S,0CACA,8GCLJ,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,EAAc,CAC1C,QAAM,CAGP,EACC,GAAM,WAAE,CAAS,CAAE,CAAG,MAAM,EAGtB,QAAE,CAAM,CAAE,CAAG,MAAM,EAAA,OAAO,CAAC,eAAe,CAAC,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,KAGxD,CAAC,EAAS,EAAM,EAAO,CAAG,MAAM,QAAQ,GAAG,CAAC,CAChD,EAAA,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,GAC3B,EAAA,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,GACvB,EAAA,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,EAAW,CAAE,GAAI,CAAO,GACnD,EAED,GAA4B,SAAS,CAAjC,EAAO,YAAY,CACrB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gDAAuC,0BACrD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,uDAMrC,IAAM,EAAc,EAAK,IAAI,EAAI,CAAC,CAAC,EAAE,EAAK,QAAQ,CAAA,CAAE,CAEpD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAc,CAAA,CACb,SAAU,CACR,GAAI,EACJ,SAAU,EAAK,QAAQ,CACvB,KAAM,EACN,YAAa,EAAO,YAAY,AAClC,EACA,UAAW,EACX,YAAa,EAAQ,KAAK,EAGhC","ignoreList":[0]}